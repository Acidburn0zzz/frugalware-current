# Last Modified: Sun, 25 Sep 2005 20:40:08 +0200
# Compiling Time: 7.60 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=eclipse
pkgver=3.0.2
pkgrel=1
pkgdesc="A kind of universal tool platform - an open extensible IDE."
url="http://eclipse.org/"
depends=('libgnomeui' 'nss')
makedepends=('apache-ant')
groups=('xapps-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump http://download.eclipse.org/eclipse/downloads/|grep Release|sed -n 's/.*]\([0-9\.]*\) .*/\1/;1 p'"
source=(http://download.eclipse.org/eclipse/downloads/drops/R-$pkgver-200503110845/eclipse-sourceBuild-srcIncluded-$pkgver.zip \
        eclipse.sh)
# lynx -dump http://download.eclipse.org/downloads/drops/R-3.0.2-200503110845/checksum/eclipse-sourceBuild-srcIncluded-3.0.2.zip.md5
sha1sums=('07324f2aa963e33aea269b89b879fb2d59b354e6' \
          'd8387b2fc89f59b7854500fce3211a8982472937')

[ "$CARCH" == "x86_64" ] && EARCH=amd64

echo "$CARCH" |grep -q 'i.86' && EARCH=x86

build()
{
	Fcd ""
	
	./build -os linux -ws gtk -arch $EARCH
	
	Fmkdir /usr/lib/
	Ffile result/linux-gtk-$EARCH-sdk.zip /usr/lib/
	cd $Fdestdir/usr/lib
	unzip -qqo linux-gtk-$EARCH-sdk.zip
	rm linux-gtk-$EARCH-sdk.zip
	Fdocrel $pkgname/readme/readme_eclipse.html
	Frm /usr/lib/eclipse/readme
	Fexe /etc/profile.d/$pkgname.sh
}

# vim: ft=sh
