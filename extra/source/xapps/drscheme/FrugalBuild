# Last Modified: Wed, 05 Oct 2005 12:58:08 +0200
# Compiling Time: 0.33 SBU
# Maintainer: Zsolt Szalai <xbit@frugalware.org>

pkgname=drscheme
pkgver=209
pkgrel=2
pkgdesc="DrScheme is an interactive, integrated, graphical programming environment for the Scheme, MzScheme, and MrEd programming languages."
depends=('libjpeg' 'x' 'openssl')
groups=('xapps-extra')
archs=('i686')
up2date="pud -p http://download.plt-scheme.org/drscheme/ -e 'Version (.+?) \(stable\)'"
source=(http://gd.tuwien.ac.at/languages/scheme/plt/209/plt/plt-209-src-unix.tgz drscheme.209.patch)
sha1sums=('080b3a84ccc2600033ef082e726a5b3b07820a0f' \
          '663093f1efe6bfc95d2dd164df56c170718b1428')

build()
{
	cd $startdir/src/plt/src
	patch -p2 < ../../drscheme.$pkgver.patch || return 1
	Fmake --enable-share || return 1
	Fmakeinstall
#	mkdir -p $startdir/pkg/usr/lib/plt/
#	mv $startdir/pkg/usr/collects $startdir/pkg/usr/lib/plt/
#	mv $startdir/pkg/usr/notes $startdir/pkg/usr/lib/plt/
#	mv $startdir/pkg/usr/teachpack $startdir/pkg/usr/lib/plt/
	rm $startdir/pkg/usr/install
	Fsed "  PLTHOME=.*" '  PLTHOME="/usr"' $startdir/pkg/usr/bin/drscheme
}

# vim: ft=sh

# optimalization OK
