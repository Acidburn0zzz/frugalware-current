# Last Modified: Sat, 21 Jan 2006 09:08:07 +0100
# Compiling Time: 0 SBU
# Maintainer: BMH1980 <bmh1980@frugalware.org>

pkgname=limewire
pkgver=4.10.5
pkgrel=1
pkgdesc="LimeWire is the Flagship Client on the Gnutella Network"
url="http://www.limewire.org/"
license="GPL 2"
up2date="lynx -dump $url/scripts/scripts.js|grep version|grep -o '[0-9\.]\+[0-9]'"
source=(http://maverick.limewire.com/download/LimeWireLinux.rpm)
sha1sums=('94374a0664f489e766825cd380b3b54df504f47b')
groups=('xapps-extra')
archs=('i686')
depends=('j2re')
makedepends=('rpm' 'cpio')

build()
{
	[ "$pkgver" == "`rpm -q --queryformat=%{version} -p $Fsrcdir/LimeWireLinux.rpm`" ] || return 1
	Fcd ""
	Fmkdir /usr/bin
	Fmkdir /usr/lib/{LimeWire/root/magnet10,menu}
	Fmkdir /usr/share/{applications,pixmaps}
	Fmkdir /usr/share/icons/hicolor/{16x16,32x32,48x48}/apps
	rpm2cpio LimeWireLinux.rpm > LimeWireLinux.cpio || Fdie
	( cd $Fdestdir && cpio -i < $Fsrcdir/LimeWireLinux.cpio ) || Fdie
	Frm /usr/lib/menu
	chown -R root:root $Fdestdir/* || Fdie
}

# vim: ft=sh
