# Last Modified: Sat, 29 Oct 2005 00:57:10 +0200
# Compiling Time: 0.07 SBU
# Maintainer: BMH1980 <bmh1980@frugalware.org>

pkgname=limewire
pkgver=4.9.37
pkgrel=1
pkgdesc="LimeWire is the Flagship Client on the Gnutella Network"
url="http://www.limewire.org/"
license="GPL2"
up2date="lynx -dump $url/scripts/scripts.js|grep version|grep -o '[0-9\.]\+[0-9]'"
source=(http://maverick.limewire.com/download/LimeWireLinux.rpm)
sha1sums=('e6e818afd9b82003d0351e4eb62fd77cdb91093c')
groups=('xapps-extra')
archs=('i686')
depends=('j2re')
makedepends=('rpm' 'cpio')

build()
{
	[ "$pkgver" == "`rpm -q --queryformat=%{version} -p $Fsrcdir/LimeWireLinux.rpm`" ] || return 1
	Fcd ""
	Fmkdir /usr/bin
	Fmkdir /usr/lib/{LimeWire/root/magnet10,menu}
	Fmkdir /usr/share/{applications,pixmaps}
	Fmkdir /usr/share/icons/hicolor/{16x16,32x32,48x48}/apps
	rpm2cpio LimeWireLinux.rpm > LimeWireLinux.cpio || return 1
	( cd $Fdestdir && cpio -i < $Fsrcdir/LimeWireLinux.cpio ) || return 1
	Frm /usr/lib/menu
	chown -R root.root $Fdestdir/* || return 1
}

# vim: ft=sh
