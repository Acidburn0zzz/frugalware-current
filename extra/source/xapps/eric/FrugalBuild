# Last Modified: Thu, 30 Mar 2006 14:53:45 +0200
# Compiling Time: 0.04 SBU
# Maintainer: BMH1980 <bmh1980de@yahoo.de>

pkgname=eric
pkgver=3.8.2
pkgrel=1
pkgdesc="Eric is a full featured Python (and Ruby) IDE that is written in PyQt."
url="http://www.die-offenbachs.de/detlev/eric3.html"
license="GPL2"
install=$pkgname.install
up2date="lynx -dump http://www.die-offenbachs.de/detlev/eric3-news.html|grep -m 1 -o 'Version [0-9\.]\+'|sed 's|Version ||'"
source=(http://dl.sourceforge.net/sourceforge/$pkgname-ide/$pkgname-$pkgver.tar.gz
        http://dl.sourceforge.net/sourceforge/$pkgname-ide/eric-i18n-{de,fr,ru}-$pkgver.tar.gz)
sha1sums=('8b683cf49ba6bee44947012734b709afa8b9ef2c' \
          '88f996a8bffffd2443b0f816301e058d3ac29d50' \
          '5f95d15a72757f21f74149ef6097201c89c13af7' \
          'e7fcfa787a60d5118a03f4e9e9284b86b7bca874')
groups=('xapps-extra')
archs=('i686')
depends=('pyqt')
replaces=('eric3')

subpkgs=('eric-i18n-de' 'eric-i18n-fr' 'eric-i18n-ru')
subdescs=('German language files for Eric' 'Frech language files for Eric' 'Russian language files for Eric')
sublicense=('GPL2' 'GPL2' 'GPL2')
subgroups=('locale-extra' 'locale-extra' 'locale-extra')
subrodepends=('eric' 'eric' 'eric')
subarchs=('i686' 'i686' 'i686')

pyver=`python -V 2>&1 | cut -d \  -f 2 | cut -d . -f 1,2`

build()
{
	Fcd
	python install.py -b /usr/bin -i $Fdestdir || Fdie
	Fdocrel LICENSE.GPL
	rm -f README-i18n.txt || Fdie
	Ffilerel $pkgname/icons/default/$pkgname.png \
	/usr/share/pixmaps/$pkgname.png
	Fdesktop $pkgname $pkgname Development text/x-python
	Fsed "Name=$pkgname" 'Name=Eric' \
	$Fdestdir/usr/share/applications/$pkgname.desktop

	Fsplit eric-i18n-de usr/lib/python$pyver/site-packages/eric3/i18n/eric3_de.qm
	Fsplit eric-i18n-fr usr/lib/python$pyver/site-packages/eric3/i18n/eric3_fr.qm
	Fsplit eric-i18n-ru usr/lib/python$pyver/site-packages/eric3/i18n/eric3_ru.qm
}

# vim: ft=sh
