# Last Modified: Wed, 07 Jun 2006 23:35:21 +0200
# Compiling Time: 0.69 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=uim
pkgver=1.0.1
pkgrel=1
pkgdesc="Uim is a multilingual input method library."
url="http://uim.freedesktop.org/"
depends=('gtk+2' 'atk' 'ncurses' 'libstdc++' 'pango' 'm17n-lib')
makedepends=('qt' 'libgnomeui' 'libsm' 'freetype2' 'gnome-panel')
options=('scriptlet')
groups=('xlib-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump $url/releases/|grep -v beta|grep -v alpha|sort -n -r|grep -m1 '.tar.gz'|sed 's/.*-\(.*\).t.*/\1/'"
source=($url/releases/$pkgname-$pkgver.tar.gz)
sha1sums=('a81e208856793edb6bfe748f6a5400ac03bf07b2')


subpkgs=("$pkgname-qt" "$pkgname-gnome")
subdescs=("UIM qt support." "UIM gnome support.")
subdepends=("$pkgname qt>=3.3.6" "$pkgname libgnomeui libsm freetype2 gnome-panel")
subgroups=('xapps-extra' 'gnome-extra')
subarchs=('i686 x86_64' 'i686 x86_64')

build()
{
	Fcd
	Fbuild --with-qt
	Fsplit $pkgname-qt usr/bin/uim-*-qt
	Fsplit $pkgname-qt usr/libexec/uim-candwin-qt
	Fsplit $pkgname-qt usr/share/uim/helperdata/bushu.t
	Fsplit $pkgname-gnome usr/lib/bonobo
	Fsplit $pkgname-gnome usr/libexec/uim-*-applet
}
