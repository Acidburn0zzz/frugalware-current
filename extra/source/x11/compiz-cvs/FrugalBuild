# Last Modified: Sun, 26 Feb 2006 18:02:59 +0100
# Compiling Time: 3.01 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=compiz-cvs
pkgver=20060226
pkgrel=1
pkgdesc="Composite and window manager for Xgl"
url="http://en.opensuse.org/Compiz"
groups=('x11-extra')
archs=('x86_64' 'i686')
depends=('glitz>=0.5.3' 'libsvg-cairo' 'libxevie' 'libxdamage' 'libpng' \
	'libxrandr' 'gconf' 'startup-notification' 'libwnck' 'control-center' 'libxcomposite' \
	'mesa-cvs')
makedepends=('util-macros')
up2date=$pkgver
source=(http://frugalware.org/~krix/CVS/$pkgname-$pkgver.tar.bz2 \
	http://www.downwithnumbers.com/files/compiz_opacity.tar.gz)
sha1sums=('e8f012323c6d400dec1f385f7d5a3952d176bd12' \
	  '70899d8d322796efbf5062898e74e60b6eac403f')

build()
{
	cd $Fsrcdir/$pkgname-$pkgver || Fdie
	Fsed './configure' '#./configure' autogen.sh
	cp $Fsrcdir/opacity.c $Fsrcdir/$pkgname-$pkgver/plugins/ || Fdie
	cd $Fsrcdir/$pkgname-$pkgver/plugins/ || Fdie
	patch -Np0 -i $Fsrcdir/compiz-opacity.patch || Fdie
	cd $Fsrcdir/$pkgname-$pkgver || Fdie
	./autogen.sh || Fdie
	Fmake --enable-libsvg-cairo --enable-gnome
	Fmakeinstall
}

# optimalization OK
