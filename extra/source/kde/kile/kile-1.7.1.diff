diff -rNu kile-1.7.1.orig/kile/syntax/bibtex-kile.xml kile-1.7.1/kile/syntax/bibtex-kile.xml
--- kile-1.7.1.orig/kile/syntax/bibtex-kile.xml	1970-01-01 01:00:00.000000000 +0100
+++ kile-1.7.1/kile/syntax/bibtex-kile.xml	2004-12-08 23:49:00.000000000 +0100
@@ -0,0 +1,65 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!DOCTYPE language SYSTEM "language.dtd">
+<language name="BibTeX" version="1.12" extensions="*.bib" section="Markup" mimetype="text/x-bib" casesensitive="1" author="Jeroen Wijnhout (Jeroen.Wijnhout@kdemail.net)" license="LGPL">
+  <highlighting>
+    <list name="kw_entry">
+      <item>@article</item> 
+      <item>@book</item> 
+      <item>@booklet</item> 
+      <item>@conference</item> 
+      <item>@inbook</item> 
+      <item>@incollection</item> 
+      <item>@inproceedings</item> 
+      <item>@manual</item> 
+      <item>@mastersthesis</item> 
+      <item>@misc</item> 
+      <item>@phdthesis</item> 
+      <item>@proceedings</item> 
+      <item>@techreport</item> 
+      <item>@unpublished</item>
+      <item>@collection</item>
+      <item>@patent</item>
+    </list>
+    <list name="kw_command">
+      <item>@string</item>
+      <item>@preamble</item>
+      <item>@comment</item>
+    </list>
+    <contexts>
+      <context name="Normal" attribute="Normal Text" lineEndContext="#stay">
+        <RegExpr String="^\s*([a-zA-Z]+)\s*=" attribute="Field" context="#stay"/>
+        <keyword String="kw_entry" attribute="Entry" context="Entry"/>
+        <keyword String="kw_command" attribute="Command" context="#stay"/>
+        <DetectChar char="{" attribute="Normal Text" context="#stay" beginRegion="block" />
+        <DetectChar char="}" attribute="Normal Text" context="#stay" endRegion="block" />
+        <RegExpr String="\\([a-zA-Z]+|.)" attribute="Char" context="#stay"/>
+        <DetectChar char="&quot;" attribute="String" context="String"/>
+      </context>
+
+      <context name="Entry" attribute="Ref Key" lineEndContext="#stay">
+        <DetectChar char="," attribute="Normal Text" context="#pop"/>
+        <DetectChar char="{" attribute="Normal Text" context="#stay" beginRegion="block" />
+        <DetectChar char="}" attribute="Normal Text" context="#stay" endRegion="block" />
+        <RegExpr String="\\([a-zA-Z]+|.)" attribute="Char" context="#stay"/>
+        <DetectChar char="&quot;" attribute="String" context="#pop"/>
+      </context>
+
+      <context name="String" attribute="String" lineEndContext="#stay">
+        <RegExpr String="\\([a-zA-Z]+|.)" attribute="Char" context="#stay"/>
+        <DetectChar char="&quot;" attribute="String" context="#pop"/>
+      </context>
+    </contexts>
+    <itemDatas>
+      <itemData name="Normal Text" defStyleNum="dsNormal"/>
+      <itemData name="Entry" defStyleNum="dsKeyword" color="#0000ff"/>
+      <itemData name="Command" defStyleNum="dsFunction"/>
+      <itemData name="Field" defStyleNum="dsDataType"/>
+      <itemData name="Ref Key" defStyleNum="dsOthers"/>
+      <itemData name="String" defStyleNum="dsString"/>
+      <itemData name="Char" defStyleNum="dsChar"/>
+    </itemDatas>
+  </highlighting>
+  <general>
+   <keywords casesensitive="0" weakDeliminator="\" wordWrapDeliminator=",{}[]"/>
+  </general>
+</language>
diff -rNu kile-1.7.1.orig/kile/syntax/bibtex.xml kile-1.7.1/kile/syntax/bibtex.xml
--- kile-1.7.1.orig/kile/syntax/bibtex.xml	2004-08-06 19:28:33.000000000 +0200
+++ kile-1.7.1/kile/syntax/bibtex.xml	1970-01-01 01:00:00.000000000 +0100
@@ -1,65 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<!DOCTYPE language SYSTEM "language.dtd">
-<language name="BibTeX" version="1.12" extensions="*.bib" section="Markup" mimetype="text/x-bib" casesensitive="1" author="Jeroen Wijnhout (Jeroen.Wijnhout@kdemail.net)" license="LGPL">
-  <highlighting>
-    <list name="kw_entry">
-      <item>@article</item> 
-      <item>@book</item> 
-      <item>@booklet</item> 
-      <item>@conference</item> 
-      <item>@inbook</item> 
-      <item>@incollection</item> 
-      <item>@inproceedings</item> 
-      <item>@manual</item> 
-      <item>@mastersthesis</item> 
-      <item>@misc</item> 
-      <item>@phdthesis</item> 
-      <item>@proceedings</item> 
-      <item>@techreport</item> 
-      <item>@unpublished</item>
-      <item>@collection</item>
-      <item>@patent</item>
-    </list>
-    <list name="kw_command">
-      <item>@string</item>
-      <item>@preamble</item>
-      <item>@comment</item>
-    </list>
-    <contexts>
-      <context name="Normal" attribute="Normal Text" lineEndContext="#stay">
-        <RegExpr String="^\s*([a-zA-Z]+)\s*=" attribute="Field" context="#stay"/>
-        <keyword String="kw_entry" attribute="Entry" context="Entry"/>
-        <keyword String="kw_command" attribute="Command" context="#stay"/>
-        <DetectChar char="{" attribute="Normal Text" context="#stay" beginRegion="block" />
-        <DetectChar char="}" attribute="Normal Text" context="#stay" endRegion="block" />
-        <RegExpr String="\\([a-zA-Z]+|.)" attribute="Char" context="#stay"/>
-        <DetectChar char="&quot;" attribute="String" context="String"/>
-      </context>
-
-      <context name="Entry" attribute="Ref Key" lineEndContext="#stay">
-        <DetectChar char="," attribute="Normal Text" context="#pop"/>
-        <DetectChar char="{" attribute="Normal Text" context="#stay" beginRegion="block" />
-        <DetectChar char="}" attribute="Normal Text" context="#stay" endRegion="block" />
-        <RegExpr String="\\([a-zA-Z]+|.)" attribute="Char" context="#stay"/>
-        <DetectChar char="&quot;" attribute="String" context="#pop"/>
-      </context>
-
-      <context name="String" attribute="String" lineEndContext="#stay">
-        <RegExpr String="\\([a-zA-Z]+|.)" attribute="Char" context="#stay"/>
-        <DetectChar char="&quot;" attribute="String" context="#pop"/>
-      </context>
-    </contexts>
-    <itemDatas>
-      <itemData name="Normal Text" defStyleNum="dsNormal"/>
-      <itemData name="Entry" defStyleNum="dsKeyword" color="#0000ff"/>
-      <itemData name="Command" defStyleNum="dsFunction"/>
-      <itemData name="Field" defStyleNum="dsDataType"/>
-      <itemData name="Ref Key" defStyleNum="dsOthers"/>
-      <itemData name="String" defStyleNum="dsString"/>
-      <itemData name="Char" defStyleNum="dsChar"/>
-    </itemDatas>
-  </highlighting>
-  <general>
-   <keywords casesensitive="0" weakDeliminator="\" wordWrapDeliminator=",{}[]"/>
-  </general>
-</language>
diff -rNu kile-1.7.1.orig/kile/syntax/latex-kile.xml kile-1.7.1/kile/syntax/latex-kile.xml
--- kile-1.7.1.orig/kile/syntax/latex-kile.xml	1970-01-01 01:00:00.000000000 +0100
+++ kile-1.7.1/kile/syntax/latex-kile.xml	2004-12-08 23:49:00.000000000 +0100
@@ -0,0 +1,127 @@
+<?xml version="1.01" encoding="UTF-8"?>
+<!DOCTYPE language SYSTEM "language.dtd">
+<language name="LaTeX" version="1.10" section="Markup" kateversion="2.3" extensions="*.tex; *.ltx; *.dtx; *.sty; *.cls;" mimetype="text/x-tex" casesensitive="1" author="Jeroen Wijnhout (Jeroen.Wijnhout@kdemail.net)" license="LGPL" >
+  <highlighting>
+    <contexts>
+      <context name="Normal Text" attribute="Normal Text" lineEndContext="#stay">
+        <RegExpr String="\\begin(?=[^a-zA-Z])" attribute="Structure" context="FindEnvironment" beginRegion="block" />
+        <RegExpr String="\\end(?=[^a-zA-Z])" attribute="Structure" context="FindEnvironment" endRegion="block" />
+        <RegExpr String="\\(label|pageref|ref|cite)(?=[^a-zA-Z])" attribute="Structure" context="Label"/>
+        <RegExpr String="\\(part|chapter|section|subsection|subsubsection|paragraph|subparagraph)(?=[^a-zA-Z])" attribute="Structure" context="#stay"/>
+        <StringDetect String="\renewcommand" attribute="Keyword" context="ToEndOfLine"/>
+        <StringDetect String="\newcommand" attribute="Keyword" context="ToEndOfLine"/>
+        <StringDetect String="\(" attribute="Math" context="MathMode" beginRegion="mathMode" />
+        <StringDetect String="\[" attribute="Math" context="MathMode" beginRegion="mathMode" />
+        <DetectChar char="\" attribute="Keyword" context="ContrSeq"/>
+
+        <StringDetect String="$$" attribute="Math" context="MathMode" beginRegion="mathMode" />
+        <DetectChar char="$" attribute="Math" context="MathMode" beginRegion="mathMode" />
+        <RegExpr String="^\s*%\s*BEGIN.*$" attribute="Region Marker" context="#stay" beginRegion="regionMarker" />
+        <RegExpr String="^\s*%\s*END.*$" attribute="Region Marker" context="#stay" endRegion="regionMarker" />
+        <DetectChar char="%" attribute="Comment" context="Comment"/>
+      </context>
+      <context name="ContrSeq" attribute="Keyword" lineEndContext="#pop">
+        <StringDetect String="verb*" attribute="Keyword" context="Verb"/>
+        <StringDetect String="verb" attribute="Keyword" context="Verb"/>
+        <RegExpr String="[a-zA-Z]+" attribute="Keyword" context="#pop"/>
+        <RegExpr String="[^a-zA-Z]" attribute="Keyword" context="#pop" />
+      </context>
+      <context name="ToEndOfLine" attribute="Normal Text" lineEndContext="#pop">
+      </context>
+
+      <context name="FindEnvironment" attribute="Normal Text" lineEndContext="#stay">
+        <DetectChar char="{" attribute="Normal Text" context="Environment"/>
+        <RegExpr String="[^\s]" attribute="Normal Text" context="#pop"/>
+      </context>
+      <context name="Environment" attribute="Environment" lineEndContext="#stay">
+        <DetectChar char="}" attribute="Normal Text" context="#pop#pop"/>
+        <DetectChar char="]" attribute="Normal Text" context="#pop#pop"/>
+        <RegExpr String="(verbatim|lstlisting|boxedverbatim|Verbatim)\*?" attribute="Environment" context="VerbatimEnv"/>
+        <RegExpr String="(equation|displaymath|eqnarray|math|multline)\*?" attribute="Environment" context="MathEnv"/>
+      </context>
+
+      <context name="Label" attribute="Normal Text" lineEndContext="#pop#pop" fallthrough="true" fallthroughContext="#pop#pop">
+        <RegExpr String="\s*\{\s*" attribute="Normal Text" context="#stay"/>
+        <RegExpr String="[^\}\{]+" attribute="Environment" context="#stay"/>
+        <RegExpr String="\s*\}\s*" attribute="Normal Text" context="#pop"/>
+      </context>
+
+      <context name="Verb" attribute="Verbatim" lineEndContext="#pop" fallthrough="true" fallthroughContext="#pop">
+        <RegExpr String="(.).*\1" attribute="Verbatim" context="#pop#pop" minimal="true"/>
+      </context>
+      <context name="VerbatimEnv" attribute="Environment" lineEndContext="#stay">
+        <DetectChar char="*" attribute="Normal Text" context="#stay"/>
+        <DetectChar char="}" attribute="Normal Text" context="Verbatim"/>
+        <RegExpr String="[^\s]" attribute="Normal Text" context="#pop"/>
+      </context>
+      <context name="Verbatim" attribute="Verbatim" lineEndContext="#stay">
+        <RegExpr String="\\end(?=\{(verbatim|lstlisting|boxedverbatim|Verbatim)\*?\})" attribute="Structure"  context="VerbFindEnd"/>
+      </context>
+      <context name="VerbFindEnd" attribute="Normal Text" lineEndContext="#pop" fallthrough="true" fallthroughContext="#pop">
+        <DetectChar char="{" attribute="Normal Text" context="#stay"/>
+        <RegExpr String="(verbatim|lstlisting|boxedverbatim|Verbatim)\*?" attribute="Environment" context="#stay"/>
+        <DetectChar char="}" attribute="Normal Text" context="#pop#pop#pop#pop#pop" endRegion="block"/>
+      </context>
+
+      <context name="MathMode" attribute="Math" lineEndContext="#stay">
+        <Detect2Chars char="\" char1="]" attribute="Math" context="#pop" endRegion="mathMode" />
+        <Detect2Chars char="\" char1=")" attribute="Math" context="#pop" endRegion="mathMode" />
+        <RegExpr String="\\begin(?=[^a-zA-Z])" attribute="Keyword Mathmode" context="#stay" beginRegion="block" />
+        <RegExpr String="\\end(?=[^a-zA-Z])" attribute="Keyword Mathmode" context="#stay" endRegion="block" />
+        <DetectChar char="\" attribute="Keyword Mathmode" context="MathContrSeq"/>
+        <StringDetect String="$$" attribute="Math" context="#pop" endRegion="mathMode" />
+        <DetectChar char="$" attribute="Math" context="#pop" endRegion="mathMode" />
+        <RegExpr String="^\s*%\s*BEGIN.*$" attribute="Region Marker" context="#stay" beginRegion="regionMarker" />
+        <RegExpr String="^\s*%\s*END.*$" attribute="Region Marker" context="#stay" endRegion="regionMarker" />
+        <DetectChar char="%" attribute="Comment" context="Comment"/>
+      </context>
+      <context name="MathModeEnv" attribute="Math" lineEndContext="#stay">
+        <RegExpr String="\\end(?=\s*\{\s*(equation|displaymath|eqnarray|math|multline)\*?\s*\})" attribute="Structure" context="MathFindEnd"/>
+        <RegExpr String="\\begin(?=[^a-zA-Z])" attribute="Keyword Mathmode" context="#stay" beginRegion="block" />
+        <RegExpr String="\\end(?=[^a-zA-Z])" attribute="Keyword Mathmode" context="#stay" endRegion="block" />
+        <StringDetect String="\(" attribute="Math" context="MathMode" beginRegion="mathMode" />
+        <StringDetect String="\[" attribute="Math" context="MathMode" beginRegion="mathMode" />
+        <DetectChar char="\" attribute="Keyword Mathmode" context="MathContrSeq"/>
+        <StringDetect String="$$" attribute="Math" context="MathMode" beginRegion="mathMode" />
+        <DetectChar char="$" attribute="Math" context="MathMode" beginRegion="mathMode" />
+        <RegExpr String="^\s*%\s*BEGIN.*$" attribute="Region Marker" context="#stay" beginRegion="regionMarker" />
+        <RegExpr String="^\s*%\s*END.*$" attribute="Region Marker" context="#stay" endRegion="regionMarker" />
+        <DetectChar char="%" attribute="Comment" context="Comment"/>
+      </context>
+      <context name="MathEnv" attribute="Environment" lineEndContext="#stay">
+        <DetectChar char="}" attribute="Normal Text" context="MathModeEnv"/>
+        <RegExpr String="[^\s]" attribute="Normal Text" context="#pop"/>
+      </context>
+      <context name="MathFindEnd" attribute="Normal Text" lineEndContext="#pop" fallthrough="true" fallthroughContext="#pop">
+        <DetectChar char="{" attribute="Normal Text" context="#stay"/>
+        <RegExpr String="(equation|displaymath|eqnarray|math|multline)\*?" attribute="Environment" context="#stay"/>
+        <RegExpr String="\s*" attribute="Normal Text" context="#stay"/>
+        <DetectChar char="}" attribute="Normal Text" context="#pop#pop#pop#pop#pop"  endRegion="block"/>
+      </context>
+      <context name="MathContrSeq" attribute="Keyword Mathmode" lineEndContext="#pop">
+        <RegExpr String="[a-zA-Z]+" attribute="Keyword Mathmode" context="#pop"/>
+        <RegExpr String="[^a-zA-Z]" attribute="Keyword Mathmode" context="#pop" />
+      </context>
+
+      <context name="Comment" attribute="Comment" lineEndContext="#pop">
+      </context>
+    </contexts>
+    <itemDatas>
+      <itemData name="Normal Text" defStyleNum="dsNormal"/>
+      <itemData name="Keyword" defStyleNum="dsNormal" color="#800000" selColor="#60FFFF" bold="0" italic="0"/>
+      <itemData name="Comment" defStyleNum="dsComment"/>
+      <itemData name="Math" defStyleNum="dsNormal" color="#00A000" selColor="#FF40FF"  bold="0" italic="0"/>
+      <itemData name="Structure" defStyleNum="dsNormal" color="#F00000" selColor="#80FFD0" bold="0" italic="0"/>
+      <itemData name="Keyword Mathmode" defStyleNum="dsNormal" color="#606000" selColor="#FFD0FF" bold="0" italic="0"/>
+      <itemData name="Environment" defStyleNum="dsNormal" color="#0000D0" selColor="#FFFF90" bold="0" italic="0"/>
+      <itemData name="Verbatim" defStyleNum="dsNormal" color="#a08000" selColor="#80D0FF" bold="0" italic="0"/>
+      <itemData name="Region Marker" defStyleNum="dsNormal" color="#0000F0" selColor="#AAAA90" bold="0" italic="1"/>
+    </itemDatas>
+  </highlighting>
+  <general>
+    <keywords weakDeliminator="\" wordWrapDeliminator=",{}[]"/>
+    <comments>
+      <comment name="singleLine" start="%" />
+    </comments>
+  </general>
+</language>
diff -rNu kile-1.7.1.orig/kile/syntax/latex.xml kile-1.7.1/kile/syntax/latex.xml
--- kile-1.7.1.orig/kile/syntax/latex.xml	2004-06-21 12:49:33.000000000 +0200
+++ kile-1.7.1/kile/syntax/latex.xml	1970-01-01 01:00:00.000000000 +0100
@@ -1,127 +0,0 @@
-<?xml version="1.01" encoding="UTF-8"?>
-<!DOCTYPE language SYSTEM "language.dtd">
-<language name="LaTeX" version="1.10" section="Markup" kateversion="2.3" extensions="*.tex; *.ltx; *.dtx; *.sty; *.cls;" mimetype="text/x-tex" casesensitive="1" author="Jeroen Wijnhout (Jeroen.Wijnhout@kdemail.net)" license="LGPL" >
-  <highlighting>
-    <contexts>
-      <context name="Normal Text" attribute="Normal Text" lineEndContext="#stay">
-        <RegExpr String="\\begin(?=[^a-zA-Z])" attribute="Structure" context="FindEnvironment" beginRegion="block" />
-        <RegExpr String="\\end(?=[^a-zA-Z])" attribute="Structure" context="FindEnvironment" endRegion="block" />
-        <RegExpr String="\\(label|pageref|ref|cite)(?=[^a-zA-Z])" attribute="Structure" context="Label"/>
-        <RegExpr String="\\(part|chapter|section|subsection|subsubsection|paragraph|subparagraph)(?=[^a-zA-Z])" attribute="Structure" context="#stay"/>
-        <StringDetect String="\renewcommand" attribute="Keyword" context="ToEndOfLine"/>
-        <StringDetect String="\newcommand" attribute="Keyword" context="ToEndOfLine"/>
-        <StringDetect String="\(" attribute="Math" context="MathMode" beginRegion="mathMode" />
-        <StringDetect String="\[" attribute="Math" context="MathMode" beginRegion="mathMode" />
-        <DetectChar char="\" attribute="Keyword" context="ContrSeq"/>
-
-        <StringDetect String="$$" attribute="Math" context="MathMode" beginRegion="mathMode" />
-        <DetectChar char="$" attribute="Math" context="MathMode" beginRegion="mathMode" />
-        <RegExpr String="^\s*%\s*BEGIN.*$" attribute="Region Marker" context="#stay" beginRegion="regionMarker" />
-        <RegExpr String="^\s*%\s*END.*$" attribute="Region Marker" context="#stay" endRegion="regionMarker" />
-        <DetectChar char="%" attribute="Comment" context="Comment"/>
-      </context>
-      <context name="ContrSeq" attribute="Keyword" lineEndContext="#pop">
-        <StringDetect String="verb*" attribute="Keyword" context="Verb"/>
-        <StringDetect String="verb" attribute="Keyword" context="Verb"/>
-        <RegExpr String="[a-zA-Z]+" attribute="Keyword" context="#pop"/>
-        <RegExpr String="[^a-zA-Z]" attribute="Keyword" context="#pop" />
-      </context>
-      <context name="ToEndOfLine" attribute="Normal Text" lineEndContext="#pop">
-      </context>
-
-      <context name="FindEnvironment" attribute="Normal Text" lineEndContext="#stay">
-        <DetectChar char="{" attribute="Normal Text" context="Environment"/>
-        <RegExpr String="[^\s]" attribute="Normal Text" context="#pop"/>
-      </context>
-      <context name="Environment" attribute="Environment" lineEndContext="#stay">
-        <DetectChar char="}" attribute="Normal Text" context="#pop#pop"/>
-        <DetectChar char="]" attribute="Normal Text" context="#pop#pop"/>
-        <RegExpr String="(verbatim|lstlisting|boxedverbatim|Verbatim)\*?" attribute="Environment" context="VerbatimEnv"/>
-        <RegExpr String="(equation|displaymath|eqnarray|math|multline)\*?" attribute="Environment" context="MathEnv"/>
-      </context>
-
-      <context name="Label" attribute="Normal Text" lineEndContext="#pop#pop" fallthrough="true" fallthroughContext="#pop#pop">
-        <RegExpr String="\s*\{\s*" attribute="Normal Text" context="#stay"/>
-        <RegExpr String="[^\}\{]+" attribute="Environment" context="#stay"/>
-        <RegExpr String="\s*\}\s*" attribute="Normal Text" context="#pop"/>
-      </context>
-
-      <context name="Verb" attribute="Verbatim" lineEndContext="#pop" fallthrough="true" fallthroughContext="#pop">
-        <RegExpr String="(.).*\1" attribute="Verbatim" context="#pop#pop" minimal="true"/>
-      </context>
-      <context name="VerbatimEnv" attribute="Environment" lineEndContext="#stay">
-        <DetectChar char="*" attribute="Normal Text" context="#stay"/>
-        <DetectChar char="}" attribute="Normal Text" context="Verbatim"/>
-        <RegExpr String="[^\s]" attribute="Normal Text" context="#pop"/>
-      </context>
-      <context name="Verbatim" attribute="Verbatim" lineEndContext="#stay">
-        <RegExpr String="\\end(?=\{(verbatim|lstlisting|boxedverbatim|Verbatim)\*?\})" attribute="Structure"  context="VerbFindEnd"/>
-      </context>
-      <context name="VerbFindEnd" attribute="Normal Text" lineEndContext="#pop" fallthrough="true" fallthroughContext="#pop">
-        <DetectChar char="{" attribute="Normal Text" context="#stay"/>
-        <RegExpr String="(verbatim|lstlisting|boxedverbatim|Verbatim)\*?" attribute="Environment" context="#stay"/>
-        <DetectChar char="}" attribute="Normal Text" context="#pop#pop#pop#pop#pop" endRegion="block"/>
-      </context>
-
-      <context name="MathMode" attribute="Math" lineEndContext="#stay">
-        <Detect2Chars char="\" char1="]" attribute="Math" context="#pop" endRegion="mathMode" />
-        <Detect2Chars char="\" char1=")" attribute="Math" context="#pop" endRegion="mathMode" />
-        <RegExpr String="\\begin(?=[^a-zA-Z])" attribute="Keyword Mathmode" context="#stay" beginRegion="block" />
-        <RegExpr String="\\end(?=[^a-zA-Z])" attribute="Keyword Mathmode" context="#stay" endRegion="block" />
-        <DetectChar char="\" attribute="Keyword Mathmode" context="MathContrSeq"/>
-        <StringDetect String="$$" attribute="Math" context="#pop" endRegion="mathMode" />
-        <DetectChar char="$" attribute="Math" context="#pop" endRegion="mathMode" />
-        <RegExpr String="^\s*%\s*BEGIN.*$" attribute="Region Marker" context="#stay" beginRegion="regionMarker" />
-        <RegExpr String="^\s*%\s*END.*$" attribute="Region Marker" context="#stay" endRegion="regionMarker" />
-        <DetectChar char="%" attribute="Comment" context="Comment"/>
-      </context>
-      <context name="MathModeEnv" attribute="Math" lineEndContext="#stay">
-        <RegExpr String="\\end(?=\s*\{\s*(equation|displaymath|eqnarray|math|multline)\*?\s*\})" attribute="Structure" context="MathFindEnd"/>
-        <RegExpr String="\\begin(?=[^a-zA-Z])" attribute="Keyword Mathmode" context="#stay" beginRegion="block" />
-        <RegExpr String="\\end(?=[^a-zA-Z])" attribute="Keyword Mathmode" context="#stay" endRegion="block" />
-        <StringDetect String="\(" attribute="Math" context="MathMode" beginRegion="mathMode" />
-        <StringDetect String="\[" attribute="Math" context="MathMode" beginRegion="mathMode" />
-        <DetectChar char="\" attribute="Keyword Mathmode" context="MathContrSeq"/>
-        <StringDetect String="$$" attribute="Math" context="MathMode" beginRegion="mathMode" />
-        <DetectChar char="$" attribute="Math" context="MathMode" beginRegion="mathMode" />
-        <RegExpr String="^\s*%\s*BEGIN.*$" attribute="Region Marker" context="#stay" beginRegion="regionMarker" />
-        <RegExpr String="^\s*%\s*END.*$" attribute="Region Marker" context="#stay" endRegion="regionMarker" />
-        <DetectChar char="%" attribute="Comment" context="Comment"/>
-      </context>
-      <context name="MathEnv" attribute="Environment" lineEndContext="#stay">
-        <DetectChar char="}" attribute="Normal Text" context="MathModeEnv"/>
-        <RegExpr String="[^\s]" attribute="Normal Text" context="#pop"/>
-      </context>
-      <context name="MathFindEnd" attribute="Normal Text" lineEndContext="#pop" fallthrough="true" fallthroughContext="#pop">
-        <DetectChar char="{" attribute="Normal Text" context="#stay"/>
-        <RegExpr String="(equation|displaymath|eqnarray|math|multline)\*?" attribute="Environment" context="#stay"/>
-        <RegExpr String="\s*" attribute="Normal Text" context="#stay"/>
-        <DetectChar char="}" attribute="Normal Text" context="#pop#pop#pop#pop#pop"  endRegion="block"/>
-      </context>
-      <context name="MathContrSeq" attribute="Keyword Mathmode" lineEndContext="#pop">
-        <RegExpr String="[a-zA-Z]+" attribute="Keyword Mathmode" context="#pop"/>
-        <RegExpr String="[^a-zA-Z]" attribute="Keyword Mathmode" context="#pop" />
-      </context>
-
-      <context name="Comment" attribute="Comment" lineEndContext="#pop">
-      </context>
-    </contexts>
-    <itemDatas>
-      <itemData name="Normal Text" defStyleNum="dsNormal"/>
-      <itemData name="Keyword" defStyleNum="dsNormal" color="#800000" selColor="#60FFFF" bold="0" italic="0"/>
-      <itemData name="Comment" defStyleNum="dsComment"/>
-      <itemData name="Math" defStyleNum="dsNormal" color="#00A000" selColor="#FF40FF"  bold="0" italic="0"/>
-      <itemData name="Structure" defStyleNum="dsNormal" color="#F00000" selColor="#80FFD0" bold="0" italic="0"/>
-      <itemData name="Keyword Mathmode" defStyleNum="dsNormal" color="#606000" selColor="#FFD0FF" bold="0" italic="0"/>
-      <itemData name="Environment" defStyleNum="dsNormal" color="#0000D0" selColor="#FFFF90" bold="0" italic="0"/>
-      <itemData name="Verbatim" defStyleNum="dsNormal" color="#a08000" selColor="#80D0FF" bold="0" italic="0"/>
-      <itemData name="Region Marker" defStyleNum="dsNormal" color="#0000F0" selColor="#AAAA90" bold="0" italic="1"/>
-    </itemDatas>
-  </highlighting>
-  <general>
-    <keywords weakDeliminator="\" wordWrapDeliminator=",{}[]"/>
-    <comments>
-      <comment name="singleLine" start="%" />
-    </comments>
-  </general>
-</language>
diff -rNu kile-1.7.1.orig/kile/syntax/Makefile.am kile-1.7.1/kile/syntax/Makefile.am
--- kile-1.7.1.orig/kile/syntax/Makefile.am	2004-06-17 21:00:33.000000000 +0200
+++ kile-1.7.1/kile/syntax/Makefile.am	2004-12-08 23:49:00.000000000 +0100
@@ -1,3 +1,3 @@
 syntaxdir = $(kde_datadir)/katepart/syntax
-syntax_DATA = latex.xml bibtex.xml
+syntax_DATA = latex-kile.xml bibtex-kile.xml
 
diff -rNu kile-1.7.1.orig/kile/syntax/Makefile.in kile-1.7.1/kile/syntax/Makefile.in
--- kile-1.7.1.orig/kile/syntax/Makefile.in	2004-10-17 16:08:56.000000000 +0200
+++ kile-1.7.1/kile/syntax/Makefile.in	2004-12-08 23:49:00.000000000 +0100
@@ -291,7 +291,7 @@
 xdg_directorydir = @xdg_directorydir@
 xdg_menudir = @xdg_menudir@
 syntaxdir = $(kde_datadir)/katepart/syntax
-syntax_DATA = latex.xml bibtex.xml
+syntax_DATA = latex-kile.xml bibtex-kile.xml
 #>- all: all-am
 #>+ 1
 all: docs-am  all-am
@@ -496,7 +496,7 @@
 .NOEXPORT:
 
 #>+ 2
-KDE_DIST=latex.xml bibtex.xml Makefile.in Makefile.am 
+KDE_DIST=latex-kile.xml bibtex-kile.xml Makefile.in Makefile.am 
 
 #>+ 2
 docs-am:
