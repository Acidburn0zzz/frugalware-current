# Last Modified: Sun, 17 Jul 2005 15:31:52 +0200
# Compiling Time: ~0.06 SBU
# Maintainer: BMH1980 <bmh1980de@yahoo.de>

pkgname=rox-session
pkgver=20050710
pkgrel=1
pkgdesc="ROX-Session is a simple session manager. It loads, runs any programs you asked it to, and then quits when you run it a second time."
url="http://rox.sourceforge.net/"
license="GPL2"
groups=('rox-extra')
archs=('i686')
up2date="lynx -dump $url/phpwiki/index.php/ROX-Session | grep -A 1 latest | grep -o [0-9].[0-9].[0-9][0-9] | sed 's|0.1.25|20050710|'"
source=(rox.desktop rox-session \
	http://ftp.frugalware.org/pub/other/$pkgname/$pkgname-$pkgver.tar.gz \
	xinitrc.rox)
md5sums=('12db7b89549c2a2f3fe155a0bdf52a6c' 'a36ddb475bb1b6369d7d5b821d34c4c2'\
         '3e0d5cf3df9a044329ddddefa41370f6' '494d89739715b8329e79c8de38093767')
depends=('dbus' 'libxml2' 'rox-lib')
force=1

build()
{
	Fmkdir /etc/X11/sessions /etc/X11/xinit /usr/sbin /usr/share/Apps
	Ffile /etc/X11/sessions/rox.desktop
	Fexe /usr/sbin/rox-session
	Fexe /etc/X11/xinit/xinitrc.rox
	# Change the rox startup from cvs to the startup from current/stable
	sed -i 's|exec rox -S|exec rox -n -p Default -b Default|' ROX-Session/RunROX || return 1
	ROX-Session/AppRun --compile || return 1
	cp -arv ROX-Session $Fdestdir/usr/share/Apps/
	Frm /usr/share/Apps/ROX-Session/{CVS,src}
	Frm /usr/share/Apps/ROX-Session/{Help,images}/CVS
	Fdocrel ROX-Session/Help/Changes \
		ROX-Session/Help/COPYING \
		ROX-Session/Help/DBUS-API \
		ROX-Session/Help/README
}

# optimalization ok - i686

# vim: ft=sh
