# Last Modified: Tue, 02 Aug 2005 20:30:04 +0200
# Compiling Time: ~0.81 SBU
# Maintainer: BMH1980 <bmh1980de@yahoo.de>

pkgname=anjuta
pkgver=1.2.3
pkgrel=3
pkgdesc="Anjuta is a versatile IDE for C and C++, written for GTK/GNOME."
url="http://anjuta.sourceforge.net/"
depends=('libgnomeui' 'libgnomeprintui' 'ncurses' 'pcre' 'vte')
up2date="lynx -dump $url/anjuta.php?page=downloads | grep 'Latest stable' | grep -o [0-9]\.[0-9]\.[0-9] | head -n 1"
source=(http://dl.sourceforge.net/sourceforge/$pkgname/$pkgname-$pkgver.tar.gz \
	pango-1.8.patch)
sha1sums=('6ecb773b64142a495f4da061590c24499423882c' \
          'c0d8205e2ad3b9bc53c71553c6a8af3f9fe4e4a9')
license="GPL2"
groups=('gnome-extra')
install=$pkgname.install
archs=('i686' 'x86_64')

build()
{
	Fcd
	# A patch to work with pango 1.8
	# hunk 2 doesn't work and isn't needed. So without || return 1
	patch scintilla/PlatGTK.cxx $Fsrcdir/pango-1.8.patch
	Fsed "^CFLAGS = @CFLAGS@" "CFLAGS = $CFLAGS" Makefile.in
	Fmake || return 1
	Fmakeinstall || return 1
	Fmv /usr/share/doc/$pkgname /usr/share/doc/$pkgname-$pkgver
}

# vim: ft=sh

# optimalization OK
