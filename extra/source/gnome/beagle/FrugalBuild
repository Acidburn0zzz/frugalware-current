# Last modified: Mon, 10 Apr 2006 01:11:00 +0200
# Compiling time: 1.24 SBU
# Maintainer: alex_extreme <alex.extreme2@gmail.com>

pkgname=beagle
pkgver=0.2.4
pkgrel=1
pkgdesc="Search tool that ransacks your personal information space"
url="http://beagle-project.org"
depends=('firefox' 'gecko-sharp' 'gmime>=2.1.19' 'gtk-sharp' 'libexif' 'libxml2' 'sqlite2' 'scrnsaverproto' 'libxscrnsaver')
makedepends=('intltool' 'pygtk' 'zip')
backup=('etc/beagle/crawl-applications' 'etc/beagle/crawl-documentation' 'etc/beagle/crawl-windows')
groups=('gnome-extra')
archs=('i686')
Finclude gnome
source=(http://ftp.gnome.org/pub/GNOME/sources/beagle/$preup2date/beagle-$pkgver.tar.gz)
sha1sums=('c63f597c79cc252fb90b5b58a3dff303a55d8c56')

build() {
	export MONO_SHARED_DIR=$startdir/pkg/weird
	mkdir -p $MONO_SHARED_DIR
	
	Fcd
	Fpatchall 
	Fmake --disable-evolution-sharp --enable-inotify --disable-epiphany-extension
	Fmakeinstall
	
	rm -rf $startdir/pkg/etc/cron.d
	mkdir -p $startdir/pkg/etc/cron.daily
	cat > $startdir/pkg/etc/cron.daily/beagle-crawl-system << 'EOF'
#!/bin/sh

/usr/libexec/beagle-crawl-system
EOF
	
	rm -rf $MONO_SHARED_DIR
}

# optimalization OK
