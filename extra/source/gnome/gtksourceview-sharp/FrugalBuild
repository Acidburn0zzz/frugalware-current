# Last modified: Sun, 20 Mar 2005 14:13:45 +0100
# Compiling time: ~1 minute
# Maintainer: Laszlo Dvornik <dvornik@gnome.hu>

pkgname=gtksourceview-sharp
pkgver=0.5
pkgrel=2
pkgdesc="A C# binding to gtksourceview"
url="http://www.mono-project.com/"
depends=('gtk-sharp' 'gtksourceview' 'monodoc')
groups=('gnome-extra')
install=$pkgname.install
up2date=`lynx -dump http://www.go-mono.com/packagers/|grep $pkgname-[0-9\.]*.tar.gz|sed -n 's/.*-\(.*\).t.*/\1/;1 p'`
source=(http://www.go-mono.com/archive/1.0/$pkgname-$pkgver.tar.gz \
	$pkgname.install)
md5sums=('b82e767e42a542e185a534048db3078d' \
	'931b0ddfa45ccdd23837c0249167712d')

build() {
	export MONO_SHARED_DIR=$startdir/pkg/weird
	mkdir -p $MONO_SHARED_DIR

	cd $startdir/src/$pkgname-$pkgver
	./configure --prefix=/usr

	make || return 1

	make GACUTIL="/usr/bin/gacutil /root $startdir/pkg/usr/lib" DESTDIR=$startdir/pkg install
	rm -rf $MONO_SHARED_DIR

	# gtksourceview contains these files.
	rm -rf $startdir/pkg/usr/share/gtksourceview-1.0
}

# vim: ft=sh
