# Last modified: Fri, 18 Feb 2005 17:06:54 +0100
# Compiling time: ~1 minute
# Maintainer: Laszlo Dvornik <dvornik@gnome.hu>

pkgname=monodoc
pkgver=1.0.6
pkgrel=1
pkgdesc="Documentation for mono's .Net class library"
url="http://www.mono-project.com/"
depends=('gtk-sharp' 'desktop-file-utils')
makedepends=('pkgconfig')
groups=('gnome-extra')
install=$pkgname.install
up2date="lynx -dump 'http://www.mono-project.com/downloads/'|grep MonoDoc|sed -n 's/.*c \(.*\).*/\1/;1 p'"
source=(http://www.go-mono.com/archive/$pkgver/$pkgname-$pkgver.tar.gz \
	00-$pkgname-1.0.5-hu.patch \
	$pkgname.install)
md5sums=('f2fc27e8e4717d90dc7efa2450625693' \
	'3c38b2c0b6506b10b99831537f4ce5da' \
	'cf92485eec44bfa3829e6c1fbd3b3852')

build() {
	export MONO_SHARED_DIR=$startdir/pkg/weird
	mkdir -p $MONO_SHARED_DIR
	[ -f /etc/profile.d/gnome.sh ] && . /etc/profile.d/gnome.sh

	cd $startdir/src/$pkgname-$pkgver
	patch -p1 < $startdir/src/00-$pkgname-1.0.5-hu.patch || return 1
	./configure --prefix=/usr

	make || return 1

	make GACUTIL="/usr/bin/gacutil /root $startdir/pkg/usr/lib" DESTDIR=$startdir/pkg install
	rm -rf $MONO_SHARED_DIR
}

# vim: ft=sh
