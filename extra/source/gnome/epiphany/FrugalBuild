# Last Modified: Fri, 02 Jun 2006 02:59:09 +0200
# Compiling Time: 1.60 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=epiphany
pkgver=2.14.2.1
pkgrel=1
pkgdesc="GNOME webbrowser based on the mozilla rendering engine"
url="http://www.gnome.org/projects/epiphany/"
depends=('libgnomeprintui' 'libstdc++' 'dbus' 'dbus-gtk+2' 'atk' 'libsm' 'libxslt' 'gnome-desktop' \
                 'startup-notification' 'firefox=1.5.0.4' 'docbook-xsl')
makedepends=('pygtk' 'gtk-doc' 'perl-xml' 'python' 'gnome-python' 'iso-codes' 'gnome-doc-utils')
Finclude gnome
source=(http://ftp.gnome.org/pub/GNOME/sources/$pkgname/$preup2date/$pkgname-$pkgver.tar.bz2)
license="GPL2"
groups=('gnome-extra')
archs=('x86_64' 'i686')

build()
{
	Fcd
	find . -name Makefile.in -exec sed -i -e 's/-scrollkeeper-update.*//' {} \;
	if [ -f omf.make ]; then
	    sed -i -e 's/-scrollkeeper-update.*//' omf.make
	fi
	Fmake --with-gecko=firefox --disable-scrollkeeper \
		--enable-python --enable-certificate-manager --enable-gtk-doc \
		--disable-schemas-install
	Fmakeinstall GCONF_DISABLE_SCHEMA_INSTALL=1
}

# optimization OK
sha1sums=('c1b20979670755f2e82beedb475c42a54be8f993')
