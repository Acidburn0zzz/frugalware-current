# Last Modified: Thu, 21 Jul 2005 17:52:08 +0200
# Compiling Time: ~ 1.51 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=lablgtk2
pkgver=2.4.0
pkgrel=1
pkgdesc="an interface to the GIMP Tool Kit"
url="http://wwwfun.kurims.kyoto-u.ac.jp/soft/olabl/lablgtk.html"
depends=('gtk+2' 'librsvg' 'libglade' 'libgnomecanvas' 'gnome-panel' 'libgnomeui' 'ocaml')
groups=('gnome-extra')
archs=('x86_64' 'i686')
up2date="lynx -dump $url |grep lablgtk-|sed -n 's/.*lablgtk-\(.*\)/\1/;1 p' | sed 's|.tar.gz||'"
source=(http://wwwfun.kurims.kyoto-u.ac.jp/soft/olabl/dist/lablgtk-$pkgver.tar.gz \
	lablgtk-2.4.0-small-fix.patch)
md5sums=('faa7b28c3ad97a1a76d983d24f26f567' '782306c50e0bf83c4799cd2146844817')
license="LGPL"

build () {
	Fcd lablgtk-$pkgver
	Fpatchall
	Fconf
	make all opt || return 1
	if [ "$CARCH" = "i686" ] ; then
		make DESTDIR=$Fdestdir install # Fmakeinstall doesn't work on i686
	else
		Fmakeinstall
	fi
	Fmkdir usr/share/doc/$pkgname-$pkgver/examples
	Ffile lablgtk-$pkgver/examples/*.ml usr/share/doc/$pkgname-$pkgver/examples/
}

# vim: ft=sh

# TODO: lablgl support. (gtkgl, etc.)
