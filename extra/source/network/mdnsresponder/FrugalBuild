# Last Modified: Sat, 18 Mar 2006 17:18:38 +0100
# Compiling Time: ~0.04 SBU
# Maintainer: voroskoi <voroskoi@frugalware.org>

pkgname=mdnsresponder
origname=mDNSResponder
pkgver=107.1
pkgrel=1
pkgdesc="Multi-cast DNS responder written in C# to the Mono/.NET platform."
url="http://developer.apple.com/networking/bonjour/index.html"
depends=('glibc')
#makedepends=('j2sdk')
groups=('network-extra')
archs=('i686')
up2date="lynx -dump http://helios.et.put.poznan.pl/~jstachow/pub/ |grep http.*mDNS |sed -ne 's/.*r-\(.*\).t.*/\1/;1 p'"
source=(http://helios.et.put.poznan.pl/~jstachow/pub/$origname-$pkgver.tar.gz \
	Makefiles.patch)
sha1sums=('272c97dce83cea643a75ddd46a6e7d4c4e05d1ef' \
	'0fe3c7676eca7614a9cca5b9ee4e6eb0fbfb4f47')

build() {
	Fmkdir /usr/{sbin,lib,include,man/man{5,8}} /{lib,etc}
	patch -p0 < Makefiles.patch || Fdie
	Fcd $origname-$pkgver/mDNSPosix
	make os=linux || Fdie
	#make os=linux Java || Fdie
	Fcd $origname-$pkgver/Clients
	make os=linux || Fdie
	Fcd $origname-$pkgver/mDNSPosix
	make DESTDIR="$Fdestdir/" os=linux install
}
