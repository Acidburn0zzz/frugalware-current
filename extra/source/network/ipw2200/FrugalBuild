# Last Modified: Sun, 23 Oct 2005 16:13:46 +0200
# Compiling Time: 0.15 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=ipw2200
pkgver=1.0.8
pkgrel=1
pkgdesc="Intel. PRO/Wireless 2200BG Driver"
url="http://ipw2200.sourceforge.net/"
depends=('wireless_tools' 'kernel=2.6.13-2' 'ieee80211>=1.1.5')
makedepends=('kernel-source=2.6.13-2')
groups=('network-extra')
archs=('i686' 'x86_64')
install=$pkgname.install
up2date="lynx -dump $url/downloads.php|grep tgz|sed -n 's/.*-\(.*\)\.t.*/\1/;1 p'"
# the later can be downloaded from http://ipw2200.sourceforge.net/firmware.php
source=(http://dl.sourceforge.net/sourceforge/$pkgname/$pkgname-$pkgver.tgz \
	$pkgname-fw-2.4.tgz)
sha1sums=('207e3c0ed10be6e768a91a849f8083fe62ffdd8d' \
	  '8b941b9280ac3ecb3503b1f5d3e97cfe35ba2033')

build()
{
	Fsed '\(KMISC :=\) ' '\1 $(DESTDIR)' Makefile
	Fsed '/sbin/depmod -a' '' Makefile
	Fbuild
	Ffile *.fw /lib/firmware/
}

# vim: ft=sh
