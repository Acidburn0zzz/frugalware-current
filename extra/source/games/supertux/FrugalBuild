# Last Modified: Wed, 01 Jun 2005 07:02:34 +0200
# Compiling Time: ~2 minute
# Maintainer: Janny <janny@vnet.hu>

pkgname=supertux
pkgver=0.1.2
pkgrel=1
pkgdesc="SuperTux is a classic 2D jump'n run sidescroller game in a style similar to the original SuperMario games."
url="http://supertux.berlios.de/"
depends=('x' 'aalib' 'audiofile' 'gdk-pixbuf' 'glib' 'gtk+2' 'imlib' 'libmikmod')
groups=('games-extra')
archs=('i686')
license="GPL"
up2date="lynx -dump http://download.berlios.de/supertux/|grep supertux-[0-9\.]*\.tar.bz2$|sed -n 's/.*-\(.*\)\.t.*/\1/;1 p'"
source=(http://download.berlios.de/supertux/supertux-0.1.2.tar.bz2 supertux.desktop)
md5sums=('7c10acf574f09ae5cb9eb2a4b9bf93ff' '644146d086d410d559f91a4942947aee')

build()
{
        Fbuild || return 1

	# Install icon for the menu file.
	Fln  /usr/share/supertux/images/icon.xpm \
		/usr/share/pixmaps/$pkgname.xpm || return 1
	Fln /usr/share/supertux/images/icon.xpm \
		/opt/kde/share/icons/hicolor/48x48/apps/$pkgname.xpm || return 1

	# Install GNOME menu file.
        Ffile /usr/share/applications/$pkgname.desktop || return 1

        # Install KDE menu file.
	Ffile /opt/kde/share/applications/kde/$pkgname.desktop || return 1
}

# optimalization ok

# vim: ft=sh
