# Last Modified: Tue, 09 May 2006 10:02:29 +0200
# Compiling Time: 0.4 SBU
# Maintainer: BMH1980 <bmh1980@frugalware.org>

pkgname=lshw
pkgver=B.02.08.01
pkgrel=0
pkgdesc="A tool to provide information on the hardware configuration of the machine."
url="http://ezix.org/project/wiki/HardwareLiSter"
license="GPL2"
up2date="lynx -dump $url|grep -m 1 latest|grep -o '[A-Z][0-9\.]\+[0-9]'"
source=(http://ezix.org/software/files/$pkgname-$pkgver.tar.gz)
sha1sums=('fee8fe9397b5ceb70b88388bd6987faf54212510')
groups=('apps-extra')
archs=('i686' 'x86_64')
makedepends=('gtk+2')
depends=('libstdc++')

subpkgs=("gtk-$pkgname")
subdescs=("Gtk+2 frontend for lshw")
sublicense=("GPL2")
subgroups=('xapps-extra')
subdepends=('gtk+2')
subarchs=('i686 x86_64')

build()
{
	for i in `find . -name Makefile` ; do
		sed -i -e "s|DESTDIR=/|DESTDIR=$Fdestdir|" \
		       -e "s|SBINDIR=\$(PREFIX)/sbin|SBINDIR=\$(PREFIX)/bin|" \
		       -e "s|^CXXFLAGS=.*|&$CXXFLAGS|" $i || Fdie
	done
	Fmake
	Fmakeinstall
	Fmake gui
	Fmakeinstall install-gui
	Fdocrel docs/*
	Fmkdir /usr/share/doc/${subpkgs[0]}-$pkgver
	Ffilerel COPYING README docs/* /usr/share/doc/${subpkgs[0]}-$pkgver/
	Fsplit ${subpkgs[0]} usr/bin/${subpkgs[0]} usr/share/$pkgname/artwork
	Fsplit ${subpkgs[0]} usr/share/doc/${subpkgs[0]}-$pkgver
}
# optimization OK
