--- foo2zjs.orig/Makefile	2006-04-28 16:27:06.000000000 +0200
+++ foo2zjs/Makefile	2006-04-29 21:28:08.000000000 +0200
@@ -6,8 +6,7 @@
 VERSION=0.0
 
 # Installation prefix...
-PREFIX=/usr/local
-PREFIX=/usr
+PREFIX=$(DESTDIR)/usr
 
 # Pathnames for this package...
 BIN=$(PREFIX)/bin
@@ -18,7 +17,7 @@
 DOCDIR=$(PREFIX)/share/doc/foo2zjs/
 
 # Pathnames for referenced packages...
-FOODB=/usr/share/foomatic/db/source
+FOODB=$(DESTDIR)/usr/share/foomatic/db/source
 
 # User ID's
 LPuid=-olp
@@ -311,7 +310,7 @@
 	#
 	install -c $(PROGS) $(SHELLS) $(BIN)/
 	if [ "$(BINPROGS)" != "" ]; then \
-	    install -c $(BINPROGS) /bin/; \
+	    install -c $(BINPROGS) $(PREFIX)/bin/; \
 	fi
 	#
 	# Install gamma correction files.  These are just templates,
@@ -421,8 +420,9 @@
 	    fi; \
 	done
 
-MODEL=/usr/share/cups/model
-LOCALMODEL=/usr/local/share/cups/model
+MODEL=$(DESTDIR)/usr/share/cups/model
+# Apparently used as local dir when no cups present, eg. spoolerless installs
+LOCALMODEL=$(DESTDIR)/usr/local/share/cups/model
 install-ppd:
 	#
 	# Install PPD files for CUPS
@@ -439,8 +439,8 @@
 	    done; \
 	fi
 
-USBDIR=/etc/hotplug/usb
-UDEVDIR=/etc/udev/rules.d
+USBDIR=$(DESTDIR)/etc/hotplug/usb
+UDEVDIR=$(DESTDIR)/etc/udev/rules.d
 RULES=hplj10xx.rules
 install-hotplug:
 	[ -d $(USBDIR) ] || install -d -m 755 $(USBDIR)/
@@ -744,8 +744,7 @@
 	install -c -m 644 README $(DOCDIR)
 	install -c -m 644 ChangeLog $(DOCDIR)
 
-GROFF=/usr/local/test/bin/groff
-GROFF=groff
+GROFF=/usr/bin/groff
 manual.pdf: $(MANPAGES)
 	-$(GROFF) -t -man $(MANPAGES) | ps2pdf - $@
 
