# Last Modified: Wed, 30 Nov 2005 18:50:43 +0100
# Compiling Time: 0.32 SBU
# Maintainer: pete <pete@teamlupus.hu>

pkgname=foo2zjs
pkgver=2005_11_24
pkgrel=1
pkgdesc="A linux printer driver for ZjStream protocol"
url="http://foo2zjs.rkkda.com/"
license="GPL2"
up2date="lynx -dump http://foo2zjs.rkkda.com/Changelog|head -n 1|cut -d ' ' -f 1|sed y/-/_/"
source=($url/$pkgname.tar.gz $pkgname-destdir.patch)
sha1sums=('d9de0d6798e589da2b7c7fb686516e5782c2ed24' \
          'df6046dbe1a7c9f7fe0bae1ca72d871bf6bb8888')
groups=('apps-extra')
archs=('i686')
# Are this depends really required? chkdep is reporting only glibc
depends=('cups' 'espgs' 'libjpeg' 'groff' 'foomatic-filters-ppds' 'a2ps')
install=$pkgname.install

build()
{
	Fcd $pkgname
	Fpatchall
	Fmkdir /usr/bin
	Fmake
	./getweb 2300 || return 1
	./getweb 2200 || return 1
	./getweb cpwl || return 1
	./getweb 1005 || return 1
	./getweb 1000 || return 1
	Fmakeinstall
	Fexerel /etc/hotplug/usb/hplj1000
	Fln /etc/hotplug/usb/hplj1000 /etc/hotplug/usb/hplj1005
	Fln /etc/hotplug/usb/hplj1000 /etc/hotplug/usb/hplj1020
	Ffilerel hplj10xx.rules /etc/udev/rules.d/11-hplj10xx.rules
	Fmv /usr/share/doc/$pkgname /usr/share/doc/$pkgname-$pkgver
}

# vim: ft=sh

# optimalization OK
