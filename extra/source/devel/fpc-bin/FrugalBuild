# Last Modified: Fri, 29 Jul 2005 12:32:22 +0200
# Compiling Time: ~0.5 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=fpc-bin
pkgver=2.0.0
pkgrel=1
pkgdesc="FreePascal Compiler (Binary version)"
url="http://www.freepascal.org"
depends=('gpm')
conflicts=('fpc')
archs=('i686' 'x86_64')
groups=('devel-extra')
up2date="lynx -dump $url |grep 'latest stable' |sed 's/.*Version \(.*\) is.*/\1/'"
fpc_arch=i386 && sha1=63e5b475f3715b508b0f45e37b975a741504edfd
[ "$CARCH" == "x86_64" ] && fpc_arch=x86_64 && sha1=a2c88d71ff2ff2326a0ed55b90f28b5613c6b4b3
sha1sums=("$sha1")
source=(ftp://ftp.freepascal.org/pub/fpc/dist/$fpc_arch-linux-$pkgver/`echo $pkgname | sed 's/-bin//'`-$pkgver.$fpc_arch-linux.tar)

build()
{
	cd $Fsrcdir || return 1
	mkdir $Fsrcdir/$pkgname || return 1
	tar -xf binary.$fpc_arch-linux.tar -C $pkgname || return 1
	cd $Fsrcdir/$pkgname || return 1
	Fmkdir /usr
	for i in `ls -1`
	do
	    tar -xzf $i -C ${Fdestdir}/usr
	done
	Fln /usr/lib/fpc/$pkgver/ppcx64 /usr/bin/ppcx64
}

# vim: ft=sh

# optimalization OK 
