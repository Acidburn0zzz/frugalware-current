# Last Modified: Sat, 29 Oct 2005 21:16:40 +0200
# Compiling Time: ~0.01 SBU
# Maintainer: Zsolt Szalai <xbit@frugalware.org>

pkgname=perl-unicode-string
pkgver=2.09
pkgrel=1
pkgdesc="String of Unicode characters (UTF-16BE)"
url="http://search.cpan.org/~gaas/Unicode-String/"
depends=('perl')
makedepends=()
groups=('devel-extra')
archs=('i686')
up2date="pud -s http://search.cpan.org/~gaas/Unicode-String/ -e 'BE.*?rsion.>(.*?)</t'"
source=(http://search.cpan.org/CPAN/authors/id/G/GA/GAAS/Unicode-String-$pkgver.tar.gz)
sha1sums=('7cc47c5a1c5e38f23886bbc613b27a4a4a3d5459')

build() {
	cd $startdir/src/Unicode-String-$pkgver

#	perl Build.PL destdir=$startdir/pkg
#	./Build
#	./Build test
#	./Build install DESTDIR=$startdir/pkg

	perl Makefile.PL
	make || return 1
	make test
	make install DESTDIR=$startdir/pkg

	mv $startdir/pkg/usr/lib/perl5/site_perl/?.?.? \
		$startdir/pkg/usr/lib/perl5/site_perl/current
	rm -rf $startdir/pkg/usr/lib/perl5/?.?.?
	find $startdir/pkg/usr/lib/perl5/ -name perllocal.pod -exec rm {} \;
	find $startdir/pkg/usr/lib/perl5/ -name .packlist -exec rm {} \;
}
# vim: ft=sh

# optimalization OK
