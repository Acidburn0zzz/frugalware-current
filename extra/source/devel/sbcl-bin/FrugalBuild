# Last Modified: Fri, 10 Mar 2006 09:16:57 +0100
# Compiling Time: 0 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=sbcl-bin
realname=sbcl
pkgver=0.9.10
pkgrel=1
pkgdesc="Steel Bank Common Lisp (Binary version)"
depends=('glibc')
groups=('devel-extra')
archs=('i686' 'x86_64')
conflicts=('sbcl')
Finclude sourceforge
if [ "$CARCH" == "i686" ]; then
	arch="x86"
	sha1sums=('d716fc3d8578bbd2ef26de1ab9ae339da421c301')
elif [ "$CARCH" == "x86_64" ]; then
	arch="x86-64"
	sha1sums=('de57bc3dee3b01f57d1aa39b4bd5e5ed4a8a05d1')
fi
sha1sums=(${sha1sums[@]} '9357b6f2d69801cccfa5070706c16ffc9dc821bc' \
	  'fc5c50ba962a9cd0a84be5a1b0b7995a1b972e69')
source=(http://dl.sourceforge.net/sourceforge/$realname/$realname-$pkgver-$targetarch-linux-binary.tar.bz2 \
	$realname.sh \
	sbcl-fix-missing-doc.patch)
options=('nobuild')

build()
{
	Fcd $realname-$pkgver-$targetarch-linux
	Fpatchall
	export INSTALL_ROOT=$Fdestdir/usr
	Fmkdir /usr/share/man/man1	
	sh install.sh || return 1
	Fexe /etc/profile.d/$realname.sh
	Fmv /usr/share/doc/$realname /usr/share/doc/$pkgname-$pkgver
	Frm /usr/share/doc/$pkgname-$pkgver/html
}
