# Last Modified: Sat, 15 Oct 2005 19:25:47 +0200
# Compiling Time: 0.01 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=mingw-w32api
pkgver=3.3
pkgrel=1
pkgdesc="Free libraries for the Win32 API"
url="http://www.mingw.org"
depends=('mingw-gcc')
groups=('devel-extra')
archs=('i686')
up2date="lynx -dump http://sourceforge.net/project/showfiles.php?group_id=2435|grep w32api-|sed 's/.*i-\(.*\)-s.*/\1/;s/-/_/g;q'"
source=(http://dl.sourceforge.net/sourceforge/mingw/w32api-$pkgver-src.tar.gz)
sha1sums=('67a4cee21d43b83ae508d874f783dd153c4ada0f')

build()
{
	export PATH=$PATH:/usr/lib/mingw/bin:/usr/lib/mingw/i386-mingw32msvc/bin
	Fprefix=/usr/lib/mingw/i386-mingw32msvc
	Fcd w32api-$pkgver
	RANLIB=i386-mingw32msvc-ranlib AR=i386-mingw32msvc-ar \
	AS=i386-mingw32msvc-as CC=i386-mingw32msvc-gcc \
	DLLTOOL=i386-mingw32msvc-dlltool ./configure --target=i386-mingw32msvc \
		--prefix=/usr/lib/mingw/i386-mingw32msvc \
		--build=i386-mingw32msvc || return 1
	make || return 1
	Fmakeinstall
}

# vim: ft=sh

# optimalization OK
