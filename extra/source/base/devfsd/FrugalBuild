# Last Modified: Fri Jul  2 16:51:50 CEST 2004
# Compiling Time: ~1 minute
# Maintainer: VMiklos <mamajom@axelero.hu>

# UDev will not automatically load a driver if a /dev node is opened
# when it is not present
#
# If you really require this functionality, then use devfs.
# NOTE: There is NO devfs support in FrugalWare's kernel

pkgname=devfsd
pkgver=1.3.25
pkgrel=3
pkgdesc="Manages device entries in the Device Filesystem (devfs)"
url="http://www.atnf.csiro.au/~rgooch/linux"
backup=(etc/devfsd.conf)
depends=('glibc' 'bash')
conflicts=('udev')
install=install.$pkgname
up2date=`lynx -dump http://www.atnf.csiro.au/people/rgooch/linux/|grep tar.gz|sed -n '1 p'|tr -s ' '|cut -d ' ' -f 7|sed 's/.tar.gz//'|cut -d v -f 3`
source=(ftp://ftp.atnf.csiro.au/pub/people/rgooch/linux/daemons/$pkgname/$pkgname-v$pkgver.tar.gz rc.devfsd)
md5sums=('44c6394b8e2e8feaf453aeddc8a3ee69' '8d3f084d271f392d0b97c7ab534d1016')

build() {
  cd $startdir/src/$pkgname
  make || return 1
  make PREFIX=$startdir/pkg install
  install -D -m755 $startdir/src/rc.devfsd $startdir/pkg/etc/rc.d/rc.devfsd
}
