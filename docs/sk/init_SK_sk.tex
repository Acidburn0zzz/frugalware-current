\chapter{Init-inicializaèný/zavádzací Skript Systém Frugalwaru}
\label{chap:init_SK_sk}
\section{O jadre:}

Linux jadro je v {\tt kernel} balíèku. Skú¹ame pou¾i» tak málo záplat ako je len mo¾né aby sme boli èo najbli¾¹ie
k pôvodnému jadru. Jedinou výnimkou je {\tt bootsplash} záplata, ktorá povoµuje voliteµnú peknú zavádzací
splash obrázok poèas zavádzania. Jadro obsahuje vopred zabudovanú podporu pre IDE diskové radièe, ale
v¹etky nízko-úrovòové SCSI ovládaèe sú kompilované ako moduly. Ak jadro Frugalwaru neobsahuje zabudovanú
podporu pre Vá¹ radiè, mô¾ete kompilova» vlastné jadro. Nebojte sa, je to jednoduché.

1) Keï nastavovanie konèí, vyberte nieèo ¹peciálne èo by ste chceli robi».

2) Zmeòte Vá¹ root adresár {\tt /mnt/target} s {\tt chroot /mnt/target}

3) Zdrojový kód Vá¹ho jadra (s prídavnými u¾ pou¾itými záplatami) je mo¾né nájs» v {\tt /usr/src/linux} adresári.
    Tak¾e, choïte do  adresára {\tt/usr/src/linux} a spustite konfiguraèné menu napísaním {\tt make menuconfig}.
    Tam, vyberte ovládaè ktorí nechcete aby bolo kompilované ako modul ïalej, a opuste menu s ulo¾ením zmien.
    
4) Kompilujte Va¹e jadro s  {\tt make} príkazom. To mô¾e trva» pár desa» minút.

5) Kopírujte svoje jadro do adresára {\tt /boot} napísaním príkazu {\tt cp /usr/src/linux/arch/\textit{yourarch}/boot/bzImage/boot/vmlinuz}.
   Na x86, \textit{yourarch} je i386. 
   
   To je v¹etko


\section{Init skripty/Zavádzacie skripty}


Init skripty na Frugalware su oznaèené ako rc.nieèo a nachádzajú sa v {\tt /etc/rc.d}. Mô¾ete spravova» tieto skripty s príkazom {\tt service}: 
{\tt service adsl stop}  -zastaví adsl spojenie

{\tt service httpd start} - spustí  webserver,

{\tt service clamd add} - slu¾ba clamd bude v¾dy spustené poèas zavádzania

{\tt service sshd del} - slu¾ba sshd u¾ nebude automaticky spustené    
         
{\tt service acpid list} - vráti krátky zoznam v ktorých úrovniach behu budú ¹pecifikované slu¾by automaticky spustené
  

\section{Zavádzací mechanizmus systému}


Ak nezadáte extra {\tt init=/path/to/init} parameter, tak jadro bude ¹tartova» {\tt /sbin/init} ako posledný krok zavádzacej
sekvencie jadra.{\tt init} bude hµada» {\tt /etc/inittab}  (ako je v òom konfigurované) a spustí:

1) v¹etky {\tt S*} skripty v {\tt /etc/rc.d/rcS.d}

2) v¹etky  {\tt S*} skripty v {\tt /etc/rc.d/rc\textit{n}.d}, kde \textit{n} prednastavený úroveò behu. Toto je pred-nastavené na 4.
    Tu je zoznam mo¾ných úrovniach behu:

0 = zastavi»

1 = jednou¾ívateµský mód  

2 = nepou¾itý ( ale nastavené na to isté ako úroveò behu 3)

3 = viacu¾ívateµský mód (znakovom móde)

4 = X11 KDM/GDM/XDM (prednastavený úroveò behu vo Frugalware)

5 = nepou¾itý ( ale nastavené na to isté ako úroveò behu 3)

6 = re¹tart

Ak je X11 konfigurované,  {\tt /etc/rc.d/rc.4} bude ¹tartova»  desktop mana¾éra, konfigurovaného v {\tt /etc/sysconfig/desktop}.





\section{GRUB gfxmenu}

Vo Frugalware je pekný grafický grub menu (vïaka vývojárom gfxmenu  z SuSE). Ak Vám nepáèi, mô¾ete to
de-aktivova» komentovaním v  inicializaènom súbore gfxmenu, na riadku {\tt /boot/grub/menu.lst}. Ako napr.:

Pred: 
{\tt gfxmenu (hd0,5)/boot/grub/message}

Po
{\tt # gfxmenu (hd0,5)/boot/grub/message}



\section{Bootsplash}

V jadre Frugalware je bootsplash záplata. To umo¾òuje pou¾ívateµom vidie» len pekný obrázok a li¹tu postupu
poèas zavádzania. Ak preferujete mnohovravný mód a nechcete v¾dy stláèa» {\tt F2} klávesu alebo chcete kompletne vypnú»
bootsplash budete potrebova» prida» extra parameter do  {\tt /boot/grub/menu.lst} pre jadro.

\begin{tabular}{ll}
{\tt splash=silent} & tichý mód  len li¹ta postupu (prednastavený s  GRUB gfxmenu) \\
{\tt splash=verbose} & mnohovravný mód, ale s pekným pozadím (prednastavený bez gfxmenu\\
{\tt splash=none} & kompletne vypne bootsplash \\
\end{tabular}



\textbf{Upozornenie}: \textit{Nemô¾ete} pou¾i» framebuffer s 24 bit håbkou a s bootsplashom.


Tu je sumár  {\tt vga=} parametrov ktoré mô¾ete a  \textit{nemô¾ete} pou¾i»:     

\begin{tabular}{lll}
 & 800x600 & 1024x768 \\
16 bit (dobre) &  788 & 791 \\
24 bit (zle) &  789 & 792 \\
\end{tabular} 