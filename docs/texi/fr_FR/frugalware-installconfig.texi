@node Installer et configurer, Développement, Premiers pas, Début
@c node-name,     next,        previous,         up

@chapter Installer et configurer


@section Choisir le type d'installation


Suivant vos besoins, il y'a différents installateurs avec des
 caractéristiques propres. Vous pouvez choisir celui qui convient le mieux.


@subsection Installer depuis les CD


De quels CD avez vous besoin? Si vous installez un serveur sans X, juste du premier.
 Si vous installez un système graphique, vous aurez besoin des 2 cd. (Vous pourrez installer
 les paquets d'internationalisation plus tard depuis les serveurs FTP si vous en avez besoin.)


@subsection Installer depuis le DVD


Si vous n'avez pas de connexion internet mais souhaitez installez les paquets traduits ainsi
 que d'autres paquets optionnels, vous aurez besoin du DVD.

Pour: une installation complète hors ligne (déconnecté d'internet) est possible.

Contre: Une grosse quantité de donnée devra être téléchargée, dont probablement
des paquets absolument inutiles.


@subsection Netinstall


C'est une petite image ISO, actuellement inférieure à 32Mb, qui est à même de démarrer, 
configurer le réseau et installer le système avec les paquets sélectionnés, 
qui seront téléchargés à la volé au fur et à mesure des besoins..

Pour: La petite taille de l'image, pas de perte de bande passante pour le téléchargement de 
paquet inutiles ou obsolètes.

Conter: Pas d'installation hors ligne possible, nécessite une grosse bande passante ou des heures de  
patience pour une installation complète (comptez 3/4h avec un dl d'envion 3-4Mb/s effectifs, temps de boot et choix des options compris).


@subsection Fwbootstrap (chroot auto-inclu)


C'est un "tarball" qui doit être téléchargé et decompacté. Essentiellement utile pour les 
développeurs qui veulent compiler des paquets dans cet environnement de construction basé sur 
un système Frugalware. Les archives peuvent être trouvées à  
@samp{http://ftp.frugalware.org/pub/other/chroot/} Exemple d'utilisation:

1) Télécharger le tarball

@quotation
wget http://ftp.frugalware.org/pub/other/chroot/fwchroot-<date>-<arch>.tar.bz2
@end quotation
2) Décompactez le

@quotation
tar xvjf fwchroot-<date>-<arch>.tar.bz2
@end quotation

3) Entrez dans le chroot. Le paramètre est la racine du chroot.
@quotation
cd fwchroot-<date>-<arch> @*
./fwbootstrap ./
@end quotation

4) Utilisez le (pour construire un paquet ou 2)

5) Quittez le shell et fwbootstrap va démonter les répertoires nécessaires à votre place.

Vous pouvez obtenir une liste des paquets installés dans le chroot en utilisant la commande
@samp{pacman -Q} command.

@subsection Un bootstrap complet

Ainsi vous souhaitez disposer d'une Frugalware installée dans /mnt/foo. Avant tout vous devez disposer d'une
Frugalware en fonctionnement dans laquelle vous pourrez saisir

@samp{pacman -Sy core base -r /mnt/foo}

ce qui y installera le système de base et les paquet primordiaux. Mais prenez garde:

@verbatim
$ pacman -Qo /etc/sysconfig/keymap
No package owns /etc/sysconfig/keymap
$ pacman -Qo /etc/profile.d/lang.sh
No package owns /etc/profile.d/lang.sh
$ pacman -Qo /etc/fstab
No package owns /etc/fstab
@end verbatim

vous aurez donc à les copier ou à les écrire à la main. 

@section Obtenir un média d'installation


Un média d'installation de Frugalware peut se trouver sur plusieurs sources. Vous pouvez en télécharger
 gratuitement par HTTP, FTP ou rsync ou vous pouvez acheter un CD sur CheapISO.com,
voir @uref{http://cheapiso.com/product_info.php?products_id=141}.

Voici d'autes exemples:

Via FTP:
@quotation
wget @uref{ftp://ftp3.frugalware.org/mirrors/frugalware/frugalware/}
frugalware-version-iso/frugalware-version-arch-media.iso
@end quotation

Via HTTP:
@quotation
wget @uref{http://www5.frugalware.org/linux/frugalware/pub/frugalware/}
frugalware-version-iso/frugalware-version-arch-media.iso
@end quotation

Via rsync:
@quotation
rsync -avP rsync://ftp4.frugalware.org/ftp/pub/linux/distributions/
frugalware/frugalware-0.3-iso/frugalware-0.3-i686-dvd.iso ./
@end quotation

Pou plus d'infos ainsi qu'une liste complète des miroirs voir notre page de 
téléchargement: @uref{http://frugalware.org/download.php}.

@subsection J'ai l'ossature d'un système installée depuis un CD/DVD, et je souhaiterais utiliser les paquets du média


Il 'a deux méthodes.

La première est la plus simple, mais nécessite pas mal d'espace libre 
(et de faire attention à ne pas utiliser pacman -Scc ;) ): moutez le media tous les .fpm trouvés dans le  
répertoire frugalware-i686 (ou frugalware-x86_64) vers /var/cache/pacman/pkg.

La deuxième solution tient un peu plus du défit, mais c'est plus pratique. Ajoutez une nouvelle ligne 
dans /etc/pacman.conf avant les autres lignes d'inclusion (Include):

Include = /etc/pacman.d/cd

Créer un nouveau fichier /etc/pacman.d/cd avec le contenu suivant:

Server = file:///media/dvd/frugalware-i686

Pour x86_64, utilisez ceci:

Server = file:///media/dvd/frugalware-x86_64

Le média doit être monté dans /media/dvd, ou bien changez la ligne "Server"
en conséquence. La section et le nom de fichier doivent être identiques.



@section Processus d'installation


Après avoir téléchargé et gravé le(s) CDs/DVD, insérez le premier dans votre lecteur  
CD/DVD, et redémarrez votre ordinateur. Dans le menu de grub, vous pouvez désactiver 
le framebuffer, si le framebuffer ne fonctionne pas avec une résolution 800x600 
pour votre carte graphique ou votre moniteur. Après ça, grub charge le noyau et 
l'image initrd.

Lors du premier écran de dialogue, vous pouvez choisir votre langue. Si elle n'est pas
 sur la liste, vous devriez choisir anglais.

Après la sélection de la disposition clavier (lors de l'écran suivant), le programme d'installation  
recherche automatiquement les médias d'installation.

L'étape suivante est le partionnement. L'installateur Frugalware affiche la liste de vos disques 
durs, vous devez en sélectionner un à partitionner (NDT: même si vos partitions sont déja prêtes 
auquel cas vous accepterez simplement le partionnement courant lors du partionnement lui même). 
L'écran suivant vous permet de choisir le programme de partitionnement à utiliser, actuellement 
fdisk et cfdisk sont inclus (NDT: cfdisk propose une interface ncurse et est plus accessible). 
Vous devriez créer au moins une partition de type 'Linux', et il est recommandé de créer une 
partition de swap (type 'Linux swap'). Quand vous avez fini de partitionner, vous pouvez poursuivre 
l'installation en pressant 'Continuer' (NDT: attention la fenêtre étant bizarrement conçue, il est 
possible en cas d'inattention de re-boucler sur l'étape de partitionnement).

Il faut ensuite sélectionner votre partition de swap, la liste de vos partitions étant alors affichée. 
Une fois voter sélection effectuée, l'utilitaire d'installation formatera la dite partition.

La fenêtre suivante est celle de sélection de votre partition racine (/). Vous devez choisir,  
puis indiquer s'il faut la formater (et pour quel type de système de fichiers) ou préserver le système 
de fichiers et les données contenues par la partition. Une fois la partition racine déterminée, vous pouvez 
paramétrer d'autres partitions Linux (choisir leurs systèmes des fichiers et point de montage). L'utilisation 
d'une partition distincte est supportée pour /boot, mais pas encore pour /usr. 

Après avoir monté vos partition Linux, vous devriez faire la même chose avec vos partitions DOS/Windows. 
L'installateur en affichera la liste, s'il en existe. Vous devriez simplement leur choisir un point de montage.

L'étape suivante est le choix des catégories de paquets. Une installation complète est généralement le 
meilleur choix. Si vous ne souhaitez pas utiliser KDE ou GNOME, vous souhaiterez probablement en dé-sélectionner un. 
Dans la plupart des cas, ce n'est pas une bonne idée de désactiver une des autres catégories. La fenêtre suivante va 
afficher une liste des paquets qui sont inclus dans les catégories sélectionnées. Vous avez la possibilité d'utiliser 
le pavé alphabétique pour chercher un paquet spécifique. En règle générale, vous pouvez tous simplement presser entrée
lors de cette étape.

Après l'installation des éléments de base, l'installateur va charger grub sur votre disque dur. 
Il y'a alors trois options: installer sur le MBR, sur la partition racine ou sur une disquette. 
L'installation sur MBR est un bon choix si vous souhaitez que Frugalware gère le démarrage de votre ordinateur. 
Choisir la partition racine est bonne idée si vous utiliser déjà un gestionnaire de démarrage que vous souhaitez laisser 
intact et fonctionnel (vous devrez le modifier vous même pour qu'il gère Frugalware). L'installation de grub sur 
disquette est pratique si par exemple vous n'avez pas de gestionnaire de démarrage mais souhaitez laisser votre MBR intact. 
(NDT: ça peut être utile par exemple si vous avez peur de toucher votre boot windows, ou si le secteur d'amorce de votre disque est hs ...)

Une fois grub installé, l'installateur continue avec les autres catégories de programmes (apps, lib, multimedia, network, devel)  depuis le premier CD (si vous installez depuis les CDs évidement). Une fois cela terminé, il vous sera demandé d'insérer le CD2 de  Frugalware (NDT: bien entendu cela ne concerne ni les installations 'netinstall' ni celles depuis DVD). Si vous n'avez qu'un disque, vous pouvez sans crainte annuler l'installation de ces paquets, vous pourrez y procéder ultérieurement sans problème (NDT: 
si vous avez une connexion internet passable, il est tout de me suggéré de posséder les 2 disques, voir "Choisir le type d'installation").

Si vous procédez à l'installation depuis un DVD, vous pouvez installer les paquets optionnels ou spécifiques à votre langue. 
Le processus est le même, sélection des catégories, sélection des paquets, installation.


@section Configuration de Base


Après installation des paquets, l'outil d'installation Frugalware va paramétrer vos modules noyau. Cela veut dire qu'un dialogue 
informatif va apparaître, mais sans proposer de choix, ni nécessiter d'intervention.

Une fois cela fait, vous devrez définir le mot de passe pour le compte root (administrateur système). C'est très important. 
Si vous éclipsez cette étape, n'importe qui sera à même de se connecter en tant que root (il n'y pas de mot de passe par défaut).  Une fois le mot de passe crée, vous devriez un utilisateur 'standard'. Il est hautement recommandé d'en créer un et de se connecter 
par là suite avec ce compte. Si une commande doit être exécuté en tant que root, alors vous pourrez utiliser su ou sudo dans console, gksu ou son équivalent KDE sous X.

L'étape suivante est la configuration réseau. L'utilitaire d'installation fait tout simplement appel à la commande netconfig, 
qui est décrite dans la section "Réseau".

Une fois le paramétrage réseau effectué, il faut régler l'horloge système. 
L'installateur vous demande si l'horloge système (réglable dans le bios) est en phase avec l'UTC (Coordinated Universal Time). 
Si oui, répondez simplement oui. Si l'horloge est réglée par rapport au fuseau horaire local (ce qui est généralement le cas), 
vous devriez répondre non. Dans le doute, vous devriez répondre non.

Ceci fait, le programme d'installation vous demande de configurer votre souris. La configuration sera appliqué au service de 
souris pour la console (gpm) et pour le serveur X.
Le paramétrage se fera par la suite avec xconfig.

si vous avez installé un serveur X (par défaut xorg), l'outil d'installation va exécuter xconfig. Pour plus d'informations 
sur xconfig, voir la section Interface Graphique (X11).


@section Gestion basique des paquets


Frugalware vient avec le bel outil de Judd Vinet, le gestionnaire de paquet pacman. 
Si vous souhaitez faire quoique ce soit avec les paquets, vous aurez toujours à faire à la commande pacman.
Voici quelques commandes basiques:

Actions généralement utilisée lors d'une installation depuis un serveur FTP:
@quotation
pacman -Sy
@end quotation

Met à jour la base de données des paquets. Avant de rechercher un paquet ou d'en installer depuis un serveur FTP, 
vous devriez utiliser cette commande. 
@quotation
pacman -Su
@end quotation

Met à jour tous les paquets actuellement installés sur le système dont une version plus récente existe sur les serveurs FTP.
(NDT: on peut combiner les  commandes précédentes; pacman -Syu va mettre à jour la base de donnée, comparer avec les paquets 
installés localement et installer dans la foulée toutes les mises à jours disponibles)
@quotation
pacman -Sup
@end quotation

Affiche l'url de tous les paquets que pacman doit télécharger. De cette façon vous pourrez télécharger les paquets de n'importe 
où et les copier dans /var/cache/pacman/pkg. C'est très pratique si vous avez une bande passante limitée sur votre ordinateur 
mais vous pouvez télécharger sans contraintes d'ailleurs (bibliothèque, cybercafé, lieu de travail/études).
@quotation
pacman -S sendmail
@end quotation

Installe sendmail avec toutes ses dépendance depuis le serveur FTP. 
S'il entre en conflit avec n'importe quel autre paquet, pacman vous demandera sil faut le(s) retirer.
@quotation
pacman -Ss perl 
@end quotation

Cherche dans la base de donnée un paquet correspondant (sur le serveur FTP). Cet exemple va probablement 
afficher le paquet perl et ceux des modules perl.

Évidement, vous pouvez traiter les paquets comme des fichiers normaux, et les ajouter/supprimer/.. indivuellement et manuellement. 
Quelques exemples:
@quotation
pacman -U zsh-4.2.1-1.fpm
@end quotation

Ajoute (ou met à jour s'il est déjà installé) le paquet zsh, depuis le fichier zsh-4.2.1-1.fpm 
qui se trouve dans le répertoire courant
@quotation
pacman -R qt
@end quotation

Supprime le paquet Qt.
@quotation
pacman -Qs perl
@end quotation

Recherche dans la liste des paquets installés ceux qui contiennent la chaîne perl.

Généralement, si vous souhaitez désactiver la vérification de confilt de fichiers, 
vous pouvez utiliser le paramètre -f, et si vous souhaitez désactiver les vérifications de dépendances
vous devriez utiliser le switch -d.
@quotation
pacman -h
@end quotation
Affichera les options évoquées précédemment, et bien plus encore. 
Encore une fois, ce ne sont que les bases.


@section Réseau


FIXME après que la ré-écriture de netconfig soit terminée.


@subsection Initialisation de la carte réseau


Dans la plupart des cas, la configuration de votre carte réseau sera faite automatique via les 
scripts linux-hotplug. Cela veut dire qu'à chaque démarrage du système, ces scripts vont chercher 
la/les carte(s) réseau, et charger les modules noyau pour qu'elle(s) fonctionne(nt) correctement.
Si vous le souhaitez, vous pouvez charger manuellement le(s) module(s) de votre/vos carte(s) en 
en éditant le fichier /etc/rc.d/rc.modules et en inscrivant le(s) module(s) dans la blacklist en 
éditant /etc/hotplug/blacklist. 
La tache de configuration des interfaces liées à votre/vos cartes revient à l'utilitaire netconfig. 
L'initialisation des cartes réseau se termine ici.


@subsection L'utilitaire netconfig


La configuration de vos paramètres réseau se fait par l'utilitaire netconfig.

Tout d'abord, nous devons donner un nom à l'ordinateur. Le nom doit contenir au moins 2 parties, 
séparées par un point (.).

Dans l'écran suivant, vous devez indiquer comment voter machine est reliée au réseau. 
Si vous avez une carte réseau interne, une adresse ip définie, une passerelle, et des 
DNS, utilisez l'option 'static' pour entrer ces informations. Si votre adresse ip est assignée  
par un serveur DHCP (c'est généralement le cas pour opérateurs cable, variable pour les opérateurs 
DSL), choisissez DHCP. Enfin, si vous n'avez pas de carte réseau, choisissez lo. 
Le choix lo est également le bon si vous utilisez une carte réseau PCMCIA.

Si vous avez choisi static, vous devez indiquer voter adresse IP, le masque réseau de votre 
réseau local, l'adresse de votre passerelle (vous pouvez laisser vide) et l'adresse IP 
de votre DNS principal (vous pourrez ajouter d'autres DNS plus tard en éditant le fichier 
/etc/resolv.conf), la configuration du réseau est alors terminée.

Si vous avez choisi dhcp, vous pouvez optionnellement indiquer votre nom d'hote dhcp, cependant, 
netconfig ne posera pas plus de questions sur votre réseau, car toutes les autres informations seront 
fournies par le serveur DHCP.

Si vous avez choisi lo, vous n'aurez à répondre à aucune question.

Finalement, netconfig va écrire tous vos fichier de config. si vous voulez éditer vos paramètrages 
à la main, les éléments relatifs aux interfaces sont enregistrés dans le fichier /etc/sysconfig/interfaces.


@subsection Configurer une connexion DSL


La configuration de votre connexion DSL (ou ADSL) doit se faire après avoir configuré 
votre carte réseau. L'utilitaire vous demandera également si vous souhaitez configurer  
votre connexion DSL.

Vous devrez tout d'abord indiquer votre nom d'utilisateur, quelque chose du genre @samp{someone@@provider.net}. 
Ensuite vous devrez spécifier l'interface réseau (généralement eth0) au travers de laquelle le script de 
de connexion ADSL va essayer de communiquer avec votre modem ADSL. 
Il faut ensuite saisir le mot de passe 2 fois.

Si vous êtes satisfait des paramètres, appuyer sur entrée pour accepter cette configuration.

A partir de là, vous pouvez utiliser le service adsl pour gérer votre connexion ADSL: 
su -c 'service adsl start' établira la connexion, su -c 'service adsl stop' la terminera. 
Si vous souhaitez que Frugalware établisse automatiquement la connexion au démarrage, 
ajouter le service ADSL à la liste de ceux qui ont automatiquement démarrés: su -c 'service adsl add'.


@subsection Configuration de base du Firewall


Frugalware arrive avec un firewall configuré pour fonctionner 'out of the box' (directement sans rien faire). 
Il autorise toutes les connections sortantes, et les paquets entrants pour les connexions établies. Il 
n'autorise les paquets entrants standards (NDT: comprendre hors connexion établie) pour aucun port. 
La configuration du firewall est placée dans @samp{/etc/sysconfig/firewall}.

Voyons un exemple: vous voudriez autoriser l'accès en ssh à votre machine. Editer /etc/sysconfig/firewall, 
enlevez les dièses (#) du début de ligne sous la description # ssh, et redémarrez le firewall:

@samp{su -c 'service firewall restart'}

C'est la même chose pour apache ou autres services.

Si vous souhaitez une configuration plus avancée, configurez votre firewall en root avec iptables puis 
sauvez votre config (en root toujours) avec iptables-save >/etc/sysconfig/firewall.

Attention! Cela écrasera votre configuration précédente! Il est fortement recommandé d'effectuer une sauvegarde 
de /etc/sysconfig/firewall avant d'enregistrer vos paramètres.

(NDT: vous pouvez aussi ajouter vos règles directement dans le fichier de configuration afin de préserver les commentaires
Pour autoriser amule, on ajoutera par exemple les règles suivantes:
#amule
-A INPUT -p tcp -m tcp --dport 4662 -j ACCEPT
-A INPUT -p udp -m udp --dport 4662 -j ACCEPT
-A INPUT -p udp -m udp --dport 4665 -j ACCEPT
)

@section Interface graphique (X11)


@subsection Configurer votre carte graphique


Si vous installez X, le programme d'installation lancera automatiquement xconfig, notre utilitaire de configuration pour X. 
Tout d'abord, xconfig va détecter votre configuration et créer un fichier de configuration basique. Ensuite il va vous 
demander de spécifier la résolution d'écran et la profondeur de couleurs.Enfin, il va créer le fichier de configuration 
final, avec les paramètres supplémentaires suivants:

@itemize
@item Configuration automatique de la molette de la souris (si détectée)
@item Paramétrage du mappage clavier conformément à votre langue
@item Activation de DPMS
@item Activation de l'option DRI
@end itemize

Après avoir généré le fichier de configuration, l'installateur va démarrer le serveur X. 
Vous devrez cliquer sur le bouton ok pour confirmer que le paramétrage est correct. 


@subsection Accéleration 3D, drivers binaires


S'il y'a un support "embarqué" de l'accéleration 3D pour votre carte dans X, xconfig 
ajoutera les éléments nécessaires dans /etc/X11/xorg.conf et X chargera le(s) module(s).

Si vous avez une carte ATI ou NVIDIA, vous aurez probablement besoin des drivers binaires du 
constructeur. Installer les drivers binaires d'NVIDIA est assez simple:

@quotation
su -c 'pacman -Sy nvidia'
@end quotation

Si vous avez une carte ATI, l'installation ne sera pas plus compliquée qu'un simple

@quotation
su -c 'pacman -Sy fglrx'
@end quotation

Attention: Vous devrez ré-exécuter pacman -S nvidia/fglrx après chaque mise à jour du kernel ou de xorg!


@subsubsection xorg ou le kernel flingue le GUI, et maintenant?


Réinstallez le paquet nvidia ou fglrx.


@subsection Autoriser la connexion en tant que root depuis KDM/GDM


Par défaut, la connexion en tant qu root n'est pas autorisé en interface graphique, la méthode recommandée pour  
pour exécuter des programmes raphique en tant root est d'utiliser kdm ou gdm.

Pour l'autoriser tout de même (la connexion en root depuis G/Kdm), il faut éditer la ligne suivante:

Pour KDM (/usr/share/config/kdm/kdmrc)

@quotation
AllowRootLogin=false 
@end quotation

à modifier en

@quotation
AllowRootLogin=true 
@end quotation

Pour GDM (/etc/gdm/gdm.conf)

@quotation
AllowRoot=false 
@end quotation

à modifier en 

@quotation
AllowRoot=true
@end quotation

(NDT: pour gdm, on peut aussi le configurer directement depuis l'outil de configuration gdm)

@section Son

@subsection Configuration de la carte son

Frugalware utilise le sous système "Advanced Linux Sound Architecture" (ALSA) pour les 
cartes son. Pour les anciennes applications, les modules de compatibilité Open Sound System (OSS) 
sont chargés, mais Frugalware ne contient pas de support natif de l'OSS.

Trouver et charger les modules nécessaires à votre carte son est assez simple. 
Le processus est assez similaire à celui de mise en route de votre carte réseau. 
A chaque démarrage, les scripts hotplug vont détecter votre carte son, mais, 
évidement, vous pouvez placer les modules auto-cahrgé en blacklist, 
et les cahrger manuellement en éditant /etc/sysconfig/modules.


@subsection Configuration du volume avec alsamixer


Par défaut, votre carte son est muette. vous devez utiliser alsamixer pour activer le  
volume de votre carte son. Utilisez les touches < et > pour activer un canal, les flèches 
haut et bas pour régler le volume, les flèches droite et gauche pour changer de canal.
Vous pouvez quitter alsamixer en pressant la touche echap.

Si vous souhaitez que Frugalware sauve automatiquement vos paramètres lors de l'arret et les restore au démarrage, 
alors la première fois vous devrez les mémoriser manuellement:

@quotation
su -c 'alsactl store'
@end quotation


>A partir de là, Frugalware enregistrera vos paramètres lors de l'extinction, mais vous pouvez les
enregistrer ou charger manuellement avec les commandes

@quotation
su -c 'service alsa save'
@end quotation

et

@quotation
su -c 'service alsa load'
@end quotation



@section Impression


Frugalware utilise le système "Common Unix Printing System" (CUPS) pour gérer les imprimantes et les impressions.

@subsection Configurer les imprimantes

1.) Ouvrez votre navigateur internet préféré et ouvrez la page @uref{http://localhost:631/}. 
C'est l'interface web de CUPS.

2.) Sélectionnez Administration dans le menu noir supérieur. Si un nom d'utilisateur est requis, 
saisissez root, et utilisez votre mot de passe root.

3.) Vous pouvez faire a peu près tout en ce qui concerne la gestion des imprimantes. 
Dans notre exemple, nous allons ajouter une nouvelle imprimante locale.

4.) Cliquez sur "Ajouter imprimante", indiquez un nom et optionnellement l'emplacement ainsi qu'une 
description.

5.) Sélectionnez "Device", dans la plupart des cas il s'agit de "Parallel Port #1" (NDT connectique db25) pour les anciens 
modèles et l'un des ports usb pour les imprimantes plus récentes.

6.) Sur la page suivante, sélectionnez le constructeur et le type/modèle d'imprimante.

Pour paramètrer une imprimante partagée sous windows avec un mot de passe, saisir une chaîne de ce type 
dans le champ "URI de périphérique"  (le "share name"[nom de partage] correspond au nom assigné a l'imprimante 
sur le poste distant):
@samp{smb://user:passwd@@Netbios_Name_or_ip_address/Share_name}

Notez que, quand vous affichez la configuration de l'imprimante, paramètrages ne sont pas affichés, 
mais ils seront bien utilisés.


@subsection Mon imprimante n'est pas listée


Si le constructeur ou le modèle de l'imprimante n'est pas listé , vous devriez verifier sur @uref{http://linuxprinting.org/} 
si elle est supportée sous linux ou non. Si elle n'est pas listée sur @uref{http://linuxprinting.org/} essayez tout de même  
de vérifier sur google. Si elle est listé mais indiqué "paperweight", il n'y a alors rien a faire. Si elle est indiquée comme 
supportée et fonctionnelle sur le site,veuillez alors soumettre un rapport de bug avec les informations de votre imprimante. 
Quand nous aurons corrigé le problème, alors vous pourrez installer le pilote (le ppd) par vous même.

Sur le coté gauche, sélectionnez liste d'imprimante. Sélectionnez ensuite le constructeur et le modèle de votre imprimante. 
Sur la page de résultat, sélectionnez PPD. Après téléchargement, vous disposerez d'un fichier nommé quelque_chose_termine_par.ppd

Sauver le fichier PPD dans le répertoire /usr/share/cups/model/. Le fichier n'a pas besoin d'être exécutable, mais il doit 
être lisible par tout le monde et bien avoir l'extension ".ppd".

Redémarrez ensuite le service cups: @samp{su -c 'service cups restart'}. L'installation du driver est désormais terminée, 
vous pouvez maintenant installer votre imprimante par l'interface web. Une bonne documentation peut être trouvée à l'adresse 
@uref{http://linuxprinting.org/cups-doc.html}.

(NDT: je ne trouve pas a l'heure de traduction de page de drivers sur le site de Frugalware, donc soit j'ai mal comprit, soit 
la page en question n'existe plus, ce qui est tout a fait possible puisque la doc n'est pas de toute dernière jeunesse -mais 
entièrement valide en dehors peut être de ce point)

@subsection Plusieurs pages sur une seule feuille


C'est également connu comme impression "n-up". Si une application ne le supporte pas nativement, 
imprimez le document comme un fichier PostScript et utilisez psnup:
@quotation
psnup -2 print.ps > print2page.ps 
@end quotation
La première option spécifie le nombre de pages sur une feuille, la seconde est le
est le fichier du document recto-verso original, et la dernière est le document n-up (recto-verso). 
Vous pouvez l'imprimer avec
@quotation
cupsdoprint -P nameofprinter foo.ps
@end quotation
ou l'ouvrir dans votre éditeur PostScript favoris.

@subsection Problèmes

Si quelque chose ne marche pas correctement, vérifiez le log de CUPS /var/log/cups. Il y'a un log complet et  
et un log d'accès également. Par ailleurs, sur linuxprinting.org il y'a une section pour toutes les imprimantes  
supportées (ou connues pour ne pas l'être).

@section Le sous système hotplug

@subsection udev

Le répertoire /dev de Frugalware est un 'ramdisk'. Chaque noeud de périphérique est crée automatiquement  
pendant le démarrage du système par le sous système hotplug, plus spécifiquement par udev. Cela veut dire 
qu'il n'y aura pas de noeud de matériel non nécessaire dans /dev, mais cela implique également que si vous 
créez un noeud manuellement, il n'existera que jusqu'au prochain arrêt/redémarrage.

Si vous souhaitez forcer Frugalware à créer une entrée de périphérique "manuellement" à chaque démarrage, 
vous devez éditer le fichier de configuration /etc/sysconfig/udev.

Udev nécessite sysfs, aussi il ne marchera qu'avec un noyau de la série 2.6.x. 
N'essayez pas d'utilise udev sur Frugalware avec un noyau de la série 2.4.x.


@subsection Clefs usb


Les clefs usb sont bien supportée par les scripts hotplug et udev. Si vous en insérer une dans un 
slot USB, udev lui créer une entrée dans /dev. La plupart des clefs ne contiennent qu'une partition et 
de type vfat. Dans la plupart des cas, la clef va apparaître comme un disque scsi. Cela implique que 
vous pourrez trouver la clef sous /dev/sda et sa partition principale sous /dev/sda1. 
En ajoutant à /etc/fstab la ligne suivante:
@quotation
/dev/sda1 /media/pendrive auto defaults,noauto,user 0 0
@end quotation
vous autoriserez les utilisateur à monter leur clef usb si elle existe (autrement dit si elle est branchée).

(NDT: sous gnome les périphériques usb sont automatiquement détectés [à chaud] et un raccourci placé sur le bureau)


@subsection Appareils photos numériques


Typiquement, il y'a deux type d'appareils numériques. Certain supportent les deux méthodes 
d'accès, d'autre n'en utilisent qu'une des deux. Tout d'abord, la plupart des appareils peuvent être 
traités comme une clef usb (USB Mass Storage device), vous pouvez les monter et copier leur contenu sans problème.

Les autres appareils utilisent le protocole Picture Transfer (PTP). vous pouvez récupérer les photo qu'ils 
contiennent (et effectuer des tas d'autres choses) avec gphoto2, si votre modèle est supporté. (Si gphoto2 
n'est pas installé sur votre pc, un simple su -c 'pacman -S gphoto2' l'installera.)

@subsection Montage automatique: D-BUS, HAL et Ivman

D-BUS est une simple bibliothèque IPC (inter-process communication) basée sur les messages. 
HAL est une couche d'abstraction matérielle (Hardware Abstraction Layer) qui utilise D-BUS. Ivman est 
basé sur HAL et utilise pmount ("policy mount"), qui est une sur-couche au programme standard mount et 
permet aux utilisateurs 'standard' de monter leurs périphériques sans nécessiter d'entrée dans /etc/fstab entry.

Ivman est un programme en tache de fond (daemon) pour monter les CD-ROMs et DVDs quand ils sont insérés dans le 
lecteur, jouer les CDs audio ou DVDs vidéos automatiquement. Il tourne à 100% dans l'espace utilisateur, par conséquent 
il s'agit d'un remplacement 'sécuritaire' à submount.

Si vous souhaitez modifier le paramétrage par défaut, tous les fichiers de config sont situés dans /etc/ivman. 
Ce sont des fichiers en XML brut, lisez les simplement, tout assez bien expliqué/facile a comprendre.

@section Scripts d'init, amorçage


@subsection A propos du noyau


Le noyau Linux est dans le paquet kernel. Nous essayons d'utiliser aussi peu de patchs que possible, 
afin de rester au plus près du noyau vanilla. La seule exception est le patch bootsplash patch, 
qui autorise une joli image durant le démarrage. 
Le noyau contient des drivers compilés pour la plupart des contrôleurs IDE, mais tous les drivers 
SCSI de bas niveau sont compilés en tant que modules. Si le noyau Frugalware ne contient pas de 
support natif pour votre contrôleur, vous pouvez simplement compiler votre propre kernel.
Ne vous inquiettez pas c'est franchement simple.

1) Après que l'installation se soit terminée, choisissez l'option qui vous permet de faire quelque chose de spécial.

2) Changer votre répertoire racine vers /mnt/target:
@quotation
chroot /mnt/target
@end quotation
3) La source de votre noyau (avec les patch additionnels appliqués) peut être trouvé sous /usr/src/linux. 
Allons donc dans le répertoire /usr/src/linux lançons le menu de configuration en tapant menuconfig. 
A l'intérieur, choisissez le contrôleur que vous souhaitez compiler de façon native et non plus comme un module, 
puis quittez le menu en enregistrant.

4) Compilez votre noyau avec la commande make. Cela peut prendre plusieurs minutes.

5) Copier votre noyau vers /boot en tappant la commande 
@samp{cp /usr/src/linux/arch/yourarch/boot/bzImage /boot/vmlinuz}. 
Sur x86, yourarch est i386.

@subsection Scripts d'init

Sous Frugalware, les scripts d'init sont toujours appelés rc.quelquechose et sont placés dans /etc/rc.d. 
Vous pouvez gérer ces scripts avec la commande service:
@itemize
@item @samp{service adsl stop} - arrêtera votre connexion ADSL
@item @samp{service httpd start} - démarrera votre serveur web
@item @samp{service clamd add} - le service clamd (antivirus) sera démarré avec le système
@item @samp{service sshd del} - le service sshd ne sera plus démarré avec l'os
@item @samp{service acpid list} - vous indique la liste des niveaux de fonctionnement (runlevels) ou le service 
est spécifié (ici acpid) est démarré automatiquement
@end itemize

@subsection Démarage du système, niveau de fonctionnement (runlevels)


Si vous ne lui passez aucun paramètre supplémentaire du type @samp{init=/path/to/init}, le noyau démarrera 
/sbin/init à la fin de son amorçage. Conformément à /etc/inittab, init lancera:

1) Chaque script S* dans /etc/rc.d/rcS.d

2) Chaque script S* dans /etc/rc.d/rcn.d, ou n est le niveau d'exécution. Par défaut le niveau d'exécution 
est défini à 4. Liste des niveau d'exécution disponibles:
@quotation
0 = arrêt	@*
1 = mode utilisateur simple	@*
2 = non utilisé (mais configuré comme le niveau 3)	@*
3 = mode multi-utilisateur (texte seulement)	@*
4 = mode multi-utilisateur, X11 avec KDM/GDM/XDM (niveau par défaut sous Frugalware)	@*
5 = non utilisé (mais configuré comme le niveau 3)	@*
6 = redémarrage	@*
@end quotation

Si X11 est configuré, /etc/rc.d/rc.4 lancera l'un des gestionnaire de bureau, tel que configuré dans 
/etc/sysconfig/desktop.

@subsection GRUB gfxmenu

Frugalware vient avec un joli menu graphique pour grub (merci aux développeurs SuSE de gfxmenu). 
Si vous ne l'aimez pas, vous pouvez le désactiver en commentant la ligne d'initialisation de gfxmenu dans /boot/grub/menu.lst. 
Ainsi par exemple:

Avant: @samp{gfxmenu (hd0,5)/boot/grub/message}	@*
Après: @samp{# gfxmenu (hd0,5)/boot/grub/message}

@subsection Image de démarrage (Bootsplash)

Le noyeau Frugalware contient le patch bootsplash. Cela permet aux utilisateur de voir une jolie image avec 
une barre de progression au lieu des messages texte pendant la durée de démarrage du système. 
Si vous préférez le mode texte mais ne souhaitez pas appuyer sur la touche F2 à chaque démarrage, ou souhaitez 
complètement désactiver le bootsplash, vous devrez rajouter un paramètre supplémentaire à votre noyau 
dans /boot/grub/menu.lst.

@itemize
@item splash=silent 	Mode silencieux, jute une barre de progression 
(défaut avec GRUB gfxmenu)
@item splash=verbose 	Mode texte, mais avec une jolie image de fond 
(défaut sans gfxmenu)
@item splash=none 	désactiver complètement l'image de boot
@end itemize

Attention: Vous ne pouvez pas utiliser le framebuffer avec une profondeur de couleur de 24 bit 
et le bootsplash en même temp.

Petit résumé des paramètres @samp{vga=} que vous pouvez/ne pouvez pas utiliser:

@c have to use a multi-table, 2 columned (simple) tables are not enough

@multitable @columnfractions .5 .2 .2
@headitem depth / resolution @tab 800x600 @tab 1024x768
@item 16 bit (ok)   @tab  788  @tab  791
@item 24 bit (pas bon)  @tab  789  @tab  792
@end multitable


@subsection Mise en veille


La mise en veille de votre ordinateur peut causer des pertes de données ou de sérieux dommages au système de 
fichier si les choses tournent mal. Il est fortement suggéré de réfléchir au réel besoin de mise en veille. 
Essayer d'abord sur une installation vierge avant que de le faire sur un système en production.

>From kernel/suspend.c:

@verbatim
* BIG FAT WARNING *********************************************************
*
* If you have unsupported (*) devices using DMA...
*                              ...say goodbye to your data.
*
* If you touch anything on disk between suspend and resume...
*                              ...kiss your data goodbye.
*
* If your disk driver does not support suspend... (IDE does)
*                              ...you'd better find out how to get along
*                                 without your data.
*
* If you change kernel command line between suspend and resume...
*                              ...prepare for nasty fsck or worse.
*
* If you change your hardware while system is suspended...
*                              ...well, it was not good idea.
*
* (*) suspend/resume support is needed to make it safe.
@end verbatim


Vous avez été prévenus (NDT: oui, oui en anglais, mais faire l'effort de traduire 
vous fera peut être mieux prendre conscience de la mise en garde). 
Si vous n'êtes pas découragés (tête brulée!), lisez donc la suite!


Tout d'abord, vous aurez besoin de créer une partition de swap (si vous n'en avez pas encore). 
Vous devrez ajouter un paramètre supplémentaire à votre noyau resume=/dev/swappart dans 
/boot/grub/menu.lst. Par exemple, sur ma machine l'ancienne ligne était:

@samp{kernel (hd0,2)/boot/vmlinuz ro root=/dev/hda3 quiet vga=788}

La nouvelle:

@samp{kernel (hd0,2)/boot/vmlinuz ro root=/dev/hda3 quiet vga=788 resume=/dev/hda2}

Une fois fait, vous pouvez redémarrer. La mise en veille peut être lancée avec:

@samp{echo shutdown > /sys/power/disk; echo disk > /sys/power/state}

et la prochaine fois que vous démarrerez le noyau devrait reprendre au même endroit. Pour plus d'infos, 
jettez un coup d'oeil à /usr/src/linux/Documentation/power/swsusp.txt. Cela nécessite les sources du noyau, 
qui peuvent être installées par la commande @samp{pacman -S kernel-source} en tant que root.


@section Apt - pacman références croisées


Pour ceux qui sont familiarisé avec l'outil de gestiond e paquet apt-get, voici une rapide référence croisée.

@c well, multi-tables, again :)

@multitable @columnfractions .4 .3 .3
@headitem Action
 	@tab Apt command 
 	@tab pacman command
@item Mettre à jour la liste des paquets: 
	@tab  apt-get update  
	@tab  pacman -Sy
@item Mettre à jour les paquets installés vers 
la dernière version disponible:  
	@tab apt-get upgrade 
	@tab pacman -Su
@item Installer un nouveau paquet:  
	@tab apt-get install foo
	@tab pacman -S foo
@item Supprimer un paquet:  
	@tab  apt-get remove foo 
	@tab pacman -Rc foo
@item Rechercher un paquet parmis l'ensemble :  
	@tab  apt-cache search foo 
	@tab pacman -Ss foo
@item Installer un paquet depuis un fichier:  
	@tab  dpkg -i foo.deb 
	@tab pacman -A foo.tgz
@item Nettoyer le cache: 
	@tab  apt-get clean 
	@tab pacman -Sc
@end multitable
(NDT: apt-get clean correspondrait plutôt à pacman -Scc, car -Sc efface les paquets obsolètes tandis 
que -Scc efface complètement le cache)

@include frugalware-apps.texi
