= Upgrading from Frugalware 1.2 to 1.3

== Preamble

The aim of this howto is to show how you can upgrade a Frugalware-1.2
(Locris) system to Frugalware-1.3 (Haven).

== pacman-g2

The new release comes with an improved pacman-g2, so the first step is
to install it. Given that it depends on OpenSSL 1.0 and conflicts with
earlier bash-completion, you need to update those packages in one go
first:

----
# pacman-g2 -Sy pacman-g2 curl wget proftpd bash-completion
-----

== Removing obsolete packages

Some software has been marked as obsolete in the new release. To remove
them:

----
# pacman-g2 -Rd pident ctorrent farsight gst-plugins-farsight libjingle-tapioca libchipcard2 libchipcard3 bitswash
----

== Upgrading the system

Now it's time to upgrade the system itself:

----
# pacman-g2 -Su
:: Starting local database upgrade...
:: Replace dvdrtools with frugalware-current/cdrtools? [Y/n]
:: Replace gqview with frugalware-current/geeqie? [Y/n]
:: Replace libgksu with frugalware-current/gksu-frugalware? [Y/n]
:: Replace gksu with frugalware-current/gksu-frugalware? [Y/n]
:: Replace nautilus-gksu with frugalware-current/gksu-frugalware? [Y/n]
:: Replace gal with frugalware-current/libgnome? [Y/n]
:: Replace eel with frugalware-current/nautilus? [Y/n]
:: Replace akode with frugalware-current/phonon? [Y/n]
:: Replace arts with frugalware-current/phonon? [Y/n]
:: Replace gnome-cups-manager with frugalware-current/system-config-printer? [Y/n]
:: Replace xf86-input-citron with frugalware-current/xf86-input-mouse? [Y/n]
----

You will be asked to replace the above packages automatically.  These
are normal and you are expected to answer 'Y' to these questions (or
just hit ENTER).

After this, the list of to-be-upgraded packages is displayed. Just hit
enter and wait. Make some tea, it can take a while. :-)

== Installing replacement packages

In case you removed anything in section 3, now you can install the
replacement packages:


=== ctorrent, bitswash ===

Those projects are abandoned. Just look for an other bittorrent client
in the tree. Those can be: rtorrent, deluge, btg, libtorrent-rasterbar
to mention some of them.

----
# pacman-g2 -S deluge
----

=== pident ===

No replacement for this package. You should not use it anyway.
http://www.clock.org/~fair/opinion/identd.html

=== farsight, gst-plugins-farsight, libjingle-tapioca ===

farsight2, gst-plugins-good and gst-plugins-bad are the replacements
here. Farsight2 will install the others as well.

----
# pacman-g2 -S farsight2
----

=== libchipcard2, libchipcard3 ===

These libraries are very old. None of your packages should depend on them,
so use libchipcard package instead of these.

== XOrg configuration file removal

XOrg now uses udev to automatically detect your hardware when you start
XOrg, so `/etc/X11/xorg.conf` is no longer necessary, you are
recommended to remove it:

----
# rm /etc/X11/xorg.conf
----

Instead, if you still want to manually fine-tune parts of your XOrg
configuration, you can place a fragment file to the new
`/etc/X11/xorg.conf.d` directory.  If you still keep the monolithic
`xorg.conf`, and you have conflicting settings in the monolithic and the
fragment files, the later ones have priority.

== The reboot

Since the kernel is upgraded, too, you have to reboot your machine.

Done!
