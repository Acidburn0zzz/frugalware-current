\chapter{Hálózat konfigurálása Frugalware alatt}

\section{A hálózati kártya konfigurálása}

Sok esetben a hálózati kártya konfigurálása automatikusan történik a {\tt linux-hotplug} szkriptekkel.
Ez azt jelenti, hogy minden rendszerinduláskor ezek a szkriptek megkeresik a hálózati kártyákat és betöltik a megfelelõ modulokat, hogy mûködjenek. A {\tt /etc/rc.d/rc.modules} file szerkesztésével a kívánt modult betöltheti manuálisan is, vagy akár feketelistára is tehet egyes modulokat a {\/etc/hotplug/blacklist} file editálásával.
A hálózati kártya felületének tényleges konfigurálása a {\tt netconfig eszköz} parancs feladata.
A kártya inicializálása ezzel kész.


\section{{\tt netconfig} eszköz}
\label{section:netconfig}

A hálózati konfigurálás a {\tt netconfig eszköz} indításával kezdõdik.

Elõször nevet kell adunk a számítógépnek. 
A név legalább két szóból áll és el van választva pontokkal ({\tt .}).

A következõ ablakban ki kell választania, hogy hogyan kapcsolódik a gépe a hálózathoz.
Ha belsõ hálózati kártyája van, és elõre megadott IP, gateway és DNS címe, akkor válassza a
{\tt static} opciót. Ha az IP címet a DHCP szervertõl (ez gyakran használt a kábelmodemes szolgáltatásoknál, ami \textit{nem} egyenlõ a dsl szolgáltatással) kapja akkor válassza a {\tt dhcp} opciót. 
Végül, ha nincs kártyája akkor válassza a {\tt lo} lehetõséget.

A {\tt lo} válasz akkor is jó, ha PCMCIA kártyája van.

Ha Ön a \textit{static} opciót választja akkor, meg kell adnia egy \textit{saját} IP címet, a helyi hálózat netmask-ját, és a gateway címét (ezt talán üresen is hagyható) és a fõ DNS szerver címét (késõbb megadhat több DNS szervert is a {\tt /etc/resolv.conf} file 
szerkesztésével). Mindezek megadása után a konfiguráció befejezõdik.

Ha a \textit{dhcp} opciót választja, akkor meg kell adnia a \textit{dhcp host-ot}. Ez esetben nem kérdez több adatot a program a hálózatról, mivel az összes többi adatot a dhcp szerver megadja.


Ha a \textit{lo} opciót választja akkor sem kell megadnia semmit.

Ezután a {\tt netconfig } elmenti a hálózati konfigurációs filet.
Ha manuálisan akarja módosítani a beállításokat, akkor ezeket megteheti a {\tt /etc/sysconfig/interfaces} fileban.
 

\section{A DSL kapcsolat beállítása}


A DSL (vagy ADSL) kapcsolatot \textit{csak} a telepítés után lehet beállítani.
Használja a {\tt su -c 'adsl-setup'} parancsot a konfiguráció indításához.

Elõször meg kell adnia a felhasználói nevet, pl. {\tt valaki@szolgaltato.hu}.
Utána meg kell adni a hálózati csatoló felületet, ami általában ({\tt eth0}). Lehetséges, hogy az
ADSL kapcsolódási szkript megpróbál kommunikálni az ADSL modemmel.
Általában jó az on-demand értéket {\tt no}-n hagyni.
Adja meg a DNS szerver nevét amikor a program a DNS -rõl kérdez, majd
kétszer adja meg a jelszavát.

Tanácsos nem kiválasztani semmilyen firewallt, ezért adja meg a {\tt 0}) értéket.
A firewall beállítása nem az {\tt adsl-setup} feladata.

Ha a beállítás megfelelõ, akkor adjon meg egy {\tt y}-t, hogy elfogadja a megadott
értékeket.

Mostantól használható az \textit{adsl} szolgáltatás az adsl kapcsolat menedzselésére:

A {\tt su -c 'service adsl start'} paranccsal rákapcsolódik az internetre, a {\tt su -c 'service adsl stop'} parancs pedig lekapcsolódik.
Ha azt akarja, hogy a Frugalware induláskor rákapcsolódjon a internetre, akkor adja hozzá az adsl szolgáltatást az automatikusan induló szolgáltatásokhoz: {\tt su -c 'service adsl add'}. 
Ez minden.


\section{Firewall alap konfigurálása}

A Frugalware tartalmaz egy elõre konfigurált, és mûködõ firewallt,
ami engedélyezi az összes kimenõ kapcsolódást és az összes
bejövõ csomagot minden egyes sikeres kapcsolódásra.

\textit{Nem} engedi a bejövõ normális csomagot semmilyen portra.
A firewall konfigurációja a {\tt /etc/sysconfig/firewall} fileban van.

Nézzünk meg egy példát: 

Meg szeretné engedni, hogy mások rákapcsolódjanak a gépére ssh-val.

Törölje a ({\tt #}) karaktert a sor elejérõl onnan, ahol ez van {\tt # ssh} és restartolja
a firewallt: {\tt su -c 'service firewall restart'}

Ugyanezt kell tennie az apache, vagy más szolgáltatások esetében is.

Ha szeretne komolyabb konfigurációt a firewallnak, akkor konfigurálja azt rootként a {\tt iptables} paranccsal, majd mentse el a beállításokat {\tt iptables-save >/etc/sysconfig/firewall}.

\textbf{Figyelmeztetés!}
Ez átírja a már létezõ konfigurációt.
Ezért ajánlatos másolatot készíteni a {\tt /etc/sysconfig/firewall} fileról, mielõtt elmentené az új konfigurációt.
