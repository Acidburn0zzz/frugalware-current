# Compiling Time: 0.44 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=plasma-nm
pkgver=5.8.1
pkgrel=1
pkgdesc="Plasma applet written in QML for managing network connections."
groups=('plasma')
archs=('i686' 'x86_64')
_F_kde_project="plasma"
Finclude kf5
depends=("networkmanager-qt>=$_F_kf5_full" "modemmanager-qt>=$_F_kf5_full" "plasma-workspace>=$_F_kdever_plasma" \
	'mobile-broadband-provider-info' "kdelibs4support>=$_F_kf5_full" "qca>=2.1.1-6" "plasma-framework>=$_F_kf5_full")
makedepends+=("kdoctools>=$_F_kf5_full" "kemoticons>=$_F_kf5_full" "kitemmodels>=$_F_kf5_full" \
	"kinit>=$_F_kf5_full")

sha1sums=('46f5e3a38c5a8218a48b6656b523ad734ca186d5')

replaces=('networkmanagement' 'knetworkmanager' 'plasma-applet-networkmanager' 'kppp')
conflicts=("${replaces[@]}")

subpkgs=('plasma-nm-openconnect')
subdescs='Openconnect Plugin for Plasma network manager'
subdepends=('openconnect')
subgroups=('kde5-extra')
subarchs=('i686 x86_64')

build() {
	KDE_build
	Fsplit plasma-nm-openconnect /usr/lib/qt5/plugins/libplasmanetworkmanagement_openconnectui.so
	Fsplit plasma-nm-openconnect /usr/share/kservices5/plasmanetworkmanagement_openconnectui.desktop
	Fsplit plasma-nm-openconnect /usr/share/locale/*/LC_MESSAGES/plasmanetworkmanagement_openconnectui.mo
}

# optimization OK
