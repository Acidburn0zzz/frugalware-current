# Compiling Time: 0.19 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=libcanberra
pkgver=0.9
pkgrel=1
pkgdesc="libcanberra is an implementation of the XDG Sound Theme and Name Specifications."
url="http://0pointer.de/lennart/projects/$pkgname/"
depends=('libvorbis')
makedepends=('alsa-lib' 'gstreamer' 'gtk+2')
groups=('multimedia')
archs=('i686' 'x86_64')
up2date="lynx -dump -source $url | Flasttar"
source=($url/$pkgname-$pkgver.tar.gz)
sha1sums=('42b87af1ee770378dbfd8bfeb3c11a6e4f513dab')

subpkgs=("libcanberra-alsa" "libcanberra-gst" "libcanberra-gtk")
subdepends=("$pkgname-alsa alsa-lib" "$pkgname-gst gstreamer" "$pkgname-gtk gtk+2")
subdescs=('Alsa libcanberra' 'gstreamer libcanberra' 'GTK+2 libcanberra')
subgroups=('multimedia-extra' 'xmultimedia-extra' 'xmultimedia-extra')
subarchs=('i686 x86_64' 'i686 x86_64' 'i686 x86_64')
build(){
	Fbuild
	Fsplit $pkgname-gtk usr/lib/pkgconfig/libcanberra-gtk.pc
	Fsplit $pkgname-gtk usr/include/canberra-gtk.h
	Fsplit $pkgname-gtk usr/lib/gtk-2.0
	Fsplit $pkgname-alsa usr/lib/libcanberra/libcanberra-alsa*
	Fsplit $pkgname-gst usr/lib/libcanberra/libcanberra-gstreamer*
	Fsplit $pkgname-gtk usr/lib/libcanberra-gtk*
	Fsplit $pkgname-gtk usr/share/gtk-doc
	Fmv usr/share/doc/$pkgname usr/share/doc/$pkgname-$pkgver
}

# optimization OK
