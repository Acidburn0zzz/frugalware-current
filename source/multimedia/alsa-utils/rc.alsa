#!/bin/sh

# (c) 2003-2004 Vajna Miklos <mamajom@axelero.hu>
# rc.alsa for Frugalware
# distributed under GPL License

. /etc/rc.d/rc.functions

# chkconfig: 2345 99 01
# description: Loads and saves ALSA mixer settings

[ -d /proc/asound ] || exit 1

if [ "$1" = "stop" ]; then
	start "$stopalsa"
	alsactl store
	ok $?
elif [ "$1" = "restart" ]; then
	"$0" stop
	sleep 1
	"$0" start
else #start
	[ -r /etc/asound.state ] || exit 1
	start "$startalsa"
	alsactl restore
	ok $?
fi
