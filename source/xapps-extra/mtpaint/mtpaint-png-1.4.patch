diff -aur mtpaint-3.31/src/png.c mtpaint-3.31-2/src/png.c
--- mtpaint-3.31/src/png.c	2009-02-05 04:39:16.000000000 -0600
+++ mtpaint-3.31-2/src/png.c	2010-05-01 12:28:43.000000000 -0500
@@ -539,7 +539,7 @@
 	if (settings->bpp == 3)
 	{
 		png_set_strip_16(png_ptr);
-		png_set_gray_1_2_4_to_8(png_ptr);
+		png_set_expand_gray_1_2_4_to_8(png_ptr);
 		png_set_palette_to_rgb(png_ptr);
 		png_set_gray_to_rgb(png_ptr);
 
Only in mtpaint-3.31-2/src: png.c~
