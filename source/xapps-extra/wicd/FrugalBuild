# Compiling time: 0 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=wicd
pkgver=1.7.0
pkgrel=1
pkgdesc="A wired and wireless network manager for Linux"
depends=('dbus-python' 'pygtk' 'dhcp' 'dhcpcd' 'wireless_tools' 'wpa_supplicant'\
	'ethtool' 'python>=2.7' 'urwid' 'python-wpactrl' 'python-iwscan')
groups=('xapps-extra')
archs=('i686' 'x86_64' 'ppc')
options=('scriptlet' 'force')
_F_gnome_iconcache="y"
_F_gnome_desktop="y"
_F_sourceforge_realname="wicd-stable"
Finclude sourceforge gnome-scriptlet
source=($source rc.wicd wicd.service deopcopy.diff)
sha1sums=('76d9c0ad7b020ff1abac5c92c301739a04d5595e' \
          '09c87f876e24b42ad1512277256b01638a182db9' \
          '682d90437dadd5e7043f9d82c98bd9dab3985582' \
          '90c81ca12ef5cf7ebca6fed700af45a3af226645')

build() {
	Fcd
	Fpatchall
	python ./setup.py configure --no-install-init --no-install-docs --resume=/usr/share/wicd/scripts/ --suspend=/usr/share/wicd/scripts/ --verbose || Fdie
	python ./setup.py build || Fdie
	Fmakeinstall
	Frcd2 wicd
	Fmkdir lib/systemd/system/
	Finstall 0644 wicd.service /lib/systemd/system/wicd.service
	Fbuild_gnome_scriptlet
}
