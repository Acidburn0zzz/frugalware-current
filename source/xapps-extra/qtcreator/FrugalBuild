# Compiling time: 12.70 SBU
# Maintainer: Melko <lorddarthfener@gmail.com>

pkgname=qtcreator
_F_archive_name=qt-creator
pkgver=2.2.0
pkgrel=1
pkgdesc='Lightweight, cross-platform integrated development environment'
archs=('i686' 'x86_64')
url='http://qt.nokia.com/products/developer-tools'
groups=(xapps-extra)
depends=('qt4>=4.7')
up2date=('Flastarchive http://qt.nokia.com/downloads/qt-creator-source-package \.src\.zip')
source=(http://get.qt.nokia.com/$pkgname/$_F_archive_name-$pkgver-src.zip \
	$pkgname.desktop)
sha1sums=('d6ee517ce6b045ad3172b50c39b58b43f131c66b' \
          '485e6b3eb0bcee67c81b6609a4432bb958a3af8f')

build() {
	export QTCREATOR_WITH_QML=1
	mkdir -p build || Fdie
	cd build || Fdie
	qmake $Fsrcdir/$_F_archive_name-$pkgver-src/qtcreator.pro || Fdie
	make || Fdie
	make INSTALL_ROOT=${Fdestdir}/usr install || Fdie
	Ffile /usr/share/applications/$pkgname.desktop
}
