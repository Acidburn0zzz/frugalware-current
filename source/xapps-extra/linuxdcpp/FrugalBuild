# Compiling Time: 1.03 SBU
# Maintainer: voroskoi <voroskoi@frugalware.org>
# Contributor: Korpenkraxar

pkgname=linuxdcpp
pkgver=1.0.1
pkgrel=1
pkgdesc="A port the DC++ direct connect client to Linux"
url="http://linuxdcpp.berlios.de/"
depends=('libglade' 'atk' 'expat' 'freetype2' 'cairo' 'libstdc++' 'pango' 'openssl')
makedepends=('scons')
groups=('xapps-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump http://linuxdcpp.berlios.de/document.php?id=1 |grep dc.*tar |sed -ne 's/.*-\(.*\).t.*/\1/;1p'"
source=(http://download.berlios.de/linuxdcpp/linuxdcpp-${pkgver}.tar.bz2 gcc_4.3_include.diff)
sha1sums=('0da46e3c1920f8d898852a2abeb197609fe35ae7' \
          '9d49ea954d9effe5d981f1c25344b4cc663333a2')


build()
{
	Fcd
	Fpatchall
	scons PREFIX=/usr LIBDIR=/usr/share || return 1
	scons PREFIX=/usr LIBDIR=/usr/share install FAKE_ROOT=$Fdestdir || return 1
	_F_desktop_icon="/usr/share/${pkgname}/pixmaps/${pkgname}.png"
	_F_desktop_categories="GTK;Network;P2P;"
	Fdesktop2
}

# optimization OK
