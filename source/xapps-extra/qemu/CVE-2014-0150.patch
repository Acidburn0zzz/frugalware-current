diff -Naur qemu-1.6.1/hw/net/virtio-net.c qemu-1.6.1.new/hw/net/virtio-net.c
--- qemu-1.6.1/hw/net/virtio-net.c	2013-10-09 21:20:32.000000000 +0200
+++ qemu-1.6.1.new/hw/net/virtio-net.c	2014-04-20 16:50:58.355124813 +0200
@@ -655,7 +655,7 @@
         goto error;
     }
 
-    if (n->mac_table.in_use + mac_data.entries <= MAC_TABLE_ENTRIES) {
+    if (mac_data.entries <= MAC_TABLE_ENTRIES - n->mac_table.in_use) {
         s = iov_to_buf(iov, iov_cnt, 0, n->mac_table.macs,
                        mac_data.entries * ETH_ALEN);
         if (s != mac_data.entries * ETH_ALEN) {
