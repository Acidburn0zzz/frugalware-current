# Compiling Time: 0.06 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=eric4
pkgver=4.3.0
pkgrel=1
pkgdesc="Eric4 is a full featured Python (and Ruby) IDE that is written in PyQt4."
_F_sourceforge_dirname="eric-ide"
Finclude sourceforge python
url="http://www.die-offenbachs.de/eric/index.html"
source=($source \
	${source/eric4-$pkgver/eric4-i18n-de-$pkgver} \
	${source/eric4-$pkgver/eric4-i18n-fr-$pkgver} \
	${source/eric4-$pkgver/eric4-i18n-ru-$pkgver} \
	${source/eric4-$pkgver/eric4-i18n-cs-$pkgver} \
	${source/eric4-$pkgver/eric4-i18n-tr-$pkgver} \
	$pkgname.desktop eric4-install-fix.patch)
sha1sums=('6700480cbc8de3c09ec2674dbd50046e50b47fce' \
          '289bbde3c5c5d2f3051be4bb7adf730b2aab8155' \
          '32efa602938c596523e55913cfacb727c3ea464c' \
          'c7557c9a20a5a0410b1ae8b81d10259e730dedfa' \
          '64f6cc940e8ff334d2e57d1427c017db51635d06' \
          'fb3923197b5341caca00823021984f35f9cc8db2' \
          'bdc6b72e48c1cab4bf779ed72a61b42cc1f997e5' \
          '67170f8acf2a3b7836232583bef2ba09807dbc80')
groups=('xapps-extra')
archs=('i686' 'x86_64')
options=('scriptlet')
depends=('pyqt4>=4.3.3-2' 'qscintilla2-qt4>=2.2' 'qscintilla2-python-qt4>=2.2' 'libxcursor')
rodepends=('shared-mime-info')

subpkgs=("$pkgname-i18n-de" "$pkgname-i18n-fr" "$pkgname-i18n-ru" "$pkgname-i18n-cs" "$pkgname-i18n-tr")
subreplaces=('' '' '' "$pkgname-i18n-cs_cz" '')
subdescs=('German language files for Eric4' 'Frech language files for Eric4' \
	'Russian language files for Eric4' 'Czech language files for Eric4' \
	'Turkish language files for Eric4')
subgroups=('locale-extra' 'locale-extra' 'locale-extra' 'locale-extra' 'locale-extra')
subdepends=('' '' '' '' '')
subarchs=('i686 x86_64' 'i686 x86_64' 'i686 x86_64' 'i686 x86_64' 'i686 x86_64')

build()
{
	Fcd
	Fpatchall

	python install.py -b /usr/bin -i $Fdestdir || Fdie
	Fdocrel LICENSE*
	rm -f README-i18n.txt || Fdie

	Ffilerel eric/icons/default/eric.png /usr/share/pixmaps/$pkgname.png
	Ffile /usr/share/applications/$pkgname.desktop

	Fsplit $pkgname-i18n-de $_F_python_libdir/eric4/i18n/eric4_de.qm
	Fsplit $pkgname-i18n-fr $_F_python_libdir/eric4/i18n/eric4_fr.qm
	Fsplit $pkgname-i18n-ru $_F_python_libdir/eric4/i18n/eric4_ru.qm
	Fsplit $pkgname-i18n-cs $_F_python_libdir/eric4/i18n/eric4_cs.qm
	Fsplit $pkgname-i18n-tr $_F_python_libdir/eric4/i18n/eric4_tr.qm
}
