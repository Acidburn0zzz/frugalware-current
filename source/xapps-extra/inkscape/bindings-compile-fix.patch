diff -Naur inkscape-0.44.1/src/extension/script/inkscape_perl_wrap.cpp inkscape-0.44.1-p/src/extension/script/inkscape_perl_wrap.cpp
--- inkscape-0.44.1/src/extension/script/inkscape_perl_wrap.cpp	2006-09-06 07:42:03.000000000 +0200
+++ inkscape-0.44.1-p/src/extension/script/inkscape_perl_wrap.cpp	2007-02-04 04:07:25.000000000 +0100
@@ -776,14 +776,17 @@
 static void _swig_create_magic(CPerlObj *pPerl, SV *sv, const char *name, int (CPerlObj::*set)(SV *, MAGIC *), int (CPerlObj::*get)(SV *, MAGIC *)) {
 #endif
   MAGIC *mg;
+  MGVTBL *mgvtbl;
   sv_magic(sv,sv,'U',(char *) name,strlen(name));
   mg = mg_find(sv,'U');
-  mg->mg_virtual = (MGVTBL *) malloc(sizeof(MGVTBL));
-  mg->mg_virtual->svt_get = (SwigMagicFuncHack) get;
-  mg->mg_virtual->svt_set = (SwigMagicFuncHack) set;
-  mg->mg_virtual->svt_len = 0;
-  mg->mg_virtual->svt_clear = 0;
-  mg->mg_virtual->svt_free = 0;
+  mgvtbl = (MGVTBL *) malloc(sizeof(MGVTBL));
+  memcpy((void*)mgvtbl, (const void*)mg, sizeof(MGVTBL));
+  mgvtbl->svt_get = (SwigMagicFuncHack) get;
+  mgvtbl->svt_set = (SwigMagicFuncHack) set;
+  mgvtbl->svt_len = 0;
+  mgvtbl->svt_clear = 0;
+  mgvtbl->svt_free = 0;
+  mg->mg_virtual = mgvtbl;
 }
 
 
diff -Naur inkscape-0.44.1/src/extension/script/inkscape_py_wrap.cpp inkscape-0.44.1-p/src/extension/script/inkscape_py_wrap.cpp
--- inkscape-0.44.1/src/extension/script/inkscape_py_wrap.cpp	2006-09-06 07:42:03.000000000 +0200
+++ inkscape-0.44.1-p/src/extension/script/inkscape_py_wrap.cpp	2007-02-04 04:08:14.000000000 +0100
@@ -802,7 +802,7 @@
     obj = pyobj;
     if (PyCFunction_Check(obj)) {
       /* here we get the method pointer for callbacks */
-      char *doc = (((PyCFunctionObject *)obj) -> m_ml -> ml_doc);
+      const char *doc = (((PyCFunctionObject *)obj) -> m_ml -> ml_doc);
       c = doc ? strstr(doc, "swig_ptr: ") : 0;
       if (c) {
 	c += 10;
@@ -977,11 +977,11 @@
 		       swig_type_info **types_initial) {
   int i;
   for (i = 0; methods[i].ml_name; ++i) {
-    char *c = methods[i].ml_doc;
+    const char *c = methods[i].ml_doc;
     if (c && (c = strstr(c, "swig_ptr: "))) {
       int j;
       swig_const_info *ci = 0;
-      char *name = c + 10;
+      const char *name = c + 10;
       for (j = 0; const_table[j].type; j++) {
 	if (strncmp(const_table[j].name, name, 
 		    strlen(const_table[j].name)) == 0) {
