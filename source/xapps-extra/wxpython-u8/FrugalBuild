# Compiling Time: 0.01 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=wxpython-u8
pkgver=2.6.4.0
pkgrel=1
pkgdesc="wxPython GUI toolkit unicode version"
_F_sourceforge_dirname="wxpython"
_F_sourceforge_name="wxPython-src"
_F_sourceforge_ext=".tar.bz2"
Finclude python sourceforge
url="http://www.wxpython.org/"
depends=('wxgtk-u8' 'python>=2.5' 'sdl' 'atk' 'expat' 'libstdc++' 'zlib' 'libxxf86vm' 'libxfixes' 'libxcb' \
		'freetype2' 'cairo' 'pango' 'glib2' 'libgcc')
makedepends=('wxgtk')
groups=('xapps-extra')
archs=('x86_64' 'i686')
sha1sums=('621f529e0a5c3e30d4a750046fd71179567a52f8')
options=('scriptlet')

build()
{
	export CXXFLAGS="$CXXFLAGS -fno-strict-aliasing -Wno-deprecated"
	export CFLAGS="$CFLAGS -fno-strict-aliasing"
	Fcd wxPython-src-$pkgver/wxPython
	Fsed "cflags.append('-O3')" "pass"  config.py
	Fmake BUILD_GLCANVAS=0 BUILD_STC=1 BUILD_GIZMOS=1 BUILD_ANIMATE=1 UNICODE=1 WX_CONFIG='wx-config-u8'
	Fmakeinstall BUILD_GLCANVAS=0 BUILD_STC=1 BUILD_GIZMOS=1 BUILD_ANIMATE=1 UNICODE=1 WX_CONFIG='wx-config-u8'
	/usr/bin/rm -rf $Fdestdir/usr/bin $Fdestdir/usr/include $Fdestdir/$_F_python_libdir/wxaddons
	cd $Fdestdir/$_F_python_libdir
	/usr/bin/rm -f wxversion.* wx.pth wxPython_common-${pkgver}-py2.5.egg-info wxaddons-${pkgver}-py2.5.egg-info
}

# optimization OK
