# Compiling Time: 1.54 SBU
# Maintainer: DeX77 <dex77@frugalware.org>
# Contributor: PacMiam <PacMiam@gmx.fr>

pkgname=lives
pkgver=2.4.6
pkgrel=1
pkgdesc="LiVES is a powerful video system aimed at the digital video artist and VJ."
depends=('mplayer>=1.0rc3-1' 'imagemagick>=6.7.9_2-1' 'gtk+3' 'libjpeg>=8a' 'sox>=14.4.2' 'transcode>=1.1.7' \
	'libavc1394' 'freetype2' 'libvisual-plugins' 'sdl' 'liboil' 'jack' 'procps' 'libpulse>=6.0')
makedepends=('imake' 'procps' 'x11-protos')
rodepends=('perl' 'python')
groups=('xapps-extra')
options=('scriptlet')
archs=('i686' 'x86_64')
_F_sourceforge_ext=".tar.bz2"
Finclude sourceforge
sha1sums=('d54e4a65b59f0b937d2ceab2b5a3942c882139fc')

build()
{
	if [ "$CARCH" == "x86_64" ]; then
		export CFLAGS="$CFLAGS -fPIC"
	fi
	Fcd
	Fmkdir usr/share/lives/icons
	Fmkdir usr/bin

	Fpatchall
	Fsed 'lives_widget_ensure_style' 'gtk_widget_ensure_style' src/gui.c
	Fbuild --disable-dvgrab

	Frm usr/bin/lives
	Fln /usr/bin/lives-exe usr/bin/lives
}

# optimization OK
