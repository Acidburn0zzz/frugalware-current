# Compiling Time: 0.01 SBU
# Maintainer: Miklos Vajna <vmiklos@frugalware.org>

pkgname=mixxx
pkgver=2.0.0
pkgextraver="-src"
pkgrel=2
pkgdesc="An open source DJ tool."
depends=('qt5-base' 'qt5-svg' 'qt5-script' 'libmad' 'taglib' \
	'libvorbis' 'libsndfile' 'portaudio>=19_20071207' 'jack>=0.118.0'
	'audiofile' 'python>=2.7' 'libstdc++' 'libgcc' 'ffmpeg>=0.10' \
	'portmidi' 'libglu' 'protobuf>=3.0.0' 'rubberband' 'libshout' 'chromaprint')
makedepends=('scons' 'qt5-tools' 'x11-protos')
url="http://www.mixxx.org/"
groups=('xapps-extra')
archs=('i686' 'x86_64')
up2date="Flasttar $url/download"
source=(http://downloads.mixxx.org/$pkgname-$pkgver/$pkgname-$pkgver-src.tar.gz)
sha1sums=('2cce8e35a659acfad6878f834a42bcb81196b72e')
_F_archive_ver="$pkgver"

build()
{
	Fcd
	export QTDIR=/usr
	export CFLAGS+=' -std=c++11'
	export CXXFLAGS+=' -std=c++11'
	Fexec scons  build=release optimize=portable virtualize=0 qt5=1 prefix=/usr install_root=$Fdestdir/usr || Fdie
	Fexec scons install qt5=1 prefix=/usr install_root=$Fdestdir/usr || Fdie
}

# optimization OK
