# Compiling Time: 9.03 SBU
# Contributor: Massimo Chiappini
# Maintainer: voroskoi <voroskoi@frugalware.org>

pkgname=mythtv
pkgver=0.20
pkgrel=2
pkgdesc="MythTV is a homebrew PVR project."
url="http://mythtv.org/"
depends=('qt' 'lame' 'libxvmc' 'libdvb' 'lirc')
rodepends=('mysql')
groups=('xapps-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump http://ftp.osuosl.org/pub/mythtv/ |grep mythtv-[0-9] |Flasttarbz2"
source=(http://ftp.osuosl.org/pub/mythtv/mythtv-$pkgver.tar.bz2 rc.mythtv \
	README.Frugalware mythtv-0.20-vsync.patch)

build() {
	Fpatchall
	Fconf --enable-xvmc \
		--enable-opengl-vsync \
		--enable-dvb \
		--enable-lirc
	qmake mythtv.pro || Fdie
	make || Fdie
	Fmakeinstall INSTALL_ROOT=$Fdestdir
	Ffilerel database/mc.sql /usr/share/mythtv
	Frcd2
}
sha1sums=('be6d2666a689340d40ca608f6a8a3af10f752a55' \
	  '22696806db38c127b244e0b51e0bf4ea66ade0f4' \
	  'eacde1abf7af4a903d60e0d84232c913bf368c7c' \
	  'd89e9b70f9968876ee0a40cc7ad4686e1589212c')

# optimization OK
