# Compiling Time: 3.35 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=librecad
pkgver=2.0.8
pkgrel=1
pkgdesc="Free Open Source personal CAD application."
url="http://librecad.org"
depends=('muparser' 'qt5-svg' 'qt5-tools')
makedepends=('boost')
groups=('xapps-extra')
archs=('i686' 'x86_64')
_F_github_name="LibreCAD"
_F_github_tag_v="y"
Finclude github
source=(https://github.com/LibreCAD/LibreCAD/archive/$pkgver.tar.gz
	qt5.patch)
sha1sums=('4aa4f6edfb547abb4fdc9bd452a39ed5d9f8ee05' \
          'da73318d46dc59c2b0d39c9e010e379993631f12')

build() {
	Fcd LibreCAD-$pkgver
	Fpatchall
	qmake-qt5 || Fdie
	Fmake
	Fexerel unix/$pkgname usr/bin/$pkgname
	Fexerel unix/ttf2lff usr/bin/ttf2lff
	Ficonrel librecad/res/main/$pkgname.png
	Ffilerel desktop/$pkgname.desktop usr/share/applications/$pkgname.desktop
	Fmkdir usr/share
	Fcprel unix/resources usr/share/$pkgname
}

# optimization OK
