# Compiling Time: 24.48 SBU
# Maintainer: crazy <crazy@frugalware.org>
# Contributor: Mcklaren <mcklaren@gmail.com>

pkgname=k3d
pkgver=0.8.0.1
pkgrel=3
pkgdesc="A complete free-as-in-freedom 3D modeling, animation and rendering system."
depends=('gtkglext' 'imagemagick>=6.4.8_9' 'librsvg' 'gts' 'python>=2.7' 'openexr>=1.7.0' 'libxml2' 'libsigc++2' \
	'freetype2' 'plib' 'graphviz' 'libtiff' 'atk' 'gtkmm2' 'pango' 'glibmm' 'libboost>=1.46.1')
makedepends=('boost')
groups=('xapps-extra')
archs=('i686' 'x86_64')
options=('scriptlet' 'force')
_F_sourceforge_ext=".tar.gz"
## trick to fix up2date
_F_sourceforge_name="$pkgname-source"
Finclude sourceforge cmake
source=($source \
$pkgname-0.7.11.0-libpng14.patch)
url="http://www.k-3d.org/"
sha1sums=('786d800cc54cdf9f93766497bbda1f0e64367229' \
          '068bb0671d608cdc59f556011491685725a56360')

build() {
	Fcd $_F_sourceforge_name-$pkgver
	rm -f CMakeCache.txt || Fdie
	Fsed "libpng12" "libpng14" cmake/modules/K3DFindPNG.cmake
	CMake_build
}

# optimization OK
