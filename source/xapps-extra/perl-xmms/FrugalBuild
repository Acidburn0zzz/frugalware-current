# Compiling Time: 0.01 SBU
# Maintainer: IroNiQ <iron@ironiq.hu>

pkgname=perl-xmms
pkgver=0.12
perlver=5.8.5
pkgrel=3
pkgdesc="Perl Interface to XMMS"
url="http://www.cpan.org/"
depends=('glibc' 'perl' 'xmms')
groups=('xapps-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump 'http://www.cpan.org/modules/by-module/Xmms/?M=D'|grep 'Xmms.*tar.gz$'|sed -ne 's/.*l-\(.*\)\.t.*/\1/;1 p'"
source=(http://www.cpan.org/modules/by-module/Xmms/Xmms-Perl-$pkgver.tar.gz)
sha1sums=('2c83fcf299be039398eb8a803c0ddd5d90736769')

build() {
	cd $startdir/src/Xmms-Perl-$pkgver
	perl Makefile.PL
	
	make test
	make || return 1

	make install DESTDIR=$startdir/pkg
	cd $startdir/pkg/usr/lib/perl5
	rm $perlver/i686-linux/perllocal.pod
	mv site_perl/?.?.? site_perl/current
	rm -rf ?.?.?

	find $startdir/pkg/usr/lib/perl5/site_perl/current/ -name .packlist -exec rm {} \;
}

# optimalization OK
