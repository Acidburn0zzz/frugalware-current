# Compiling Time: 4.34 SBU
# Maintainer: Melko <melko@frugalware.org>


pkgname=kvirc
pkgver=5.0.0
pkgextra="alpha2"
pkgrel=2
pkgdesc="Graphical Irc client for K Desktop"
Finclude kf5 cmake
depends=("kxmlgui>=$_F_kf5_full" "knotifications>=$_F_kf5_full" "qt5-webkit>=$_F_kdever_qt5" "qt5-x11extras>=$_F_kdever_qt5" \
		"qt5-svg>=$_F_kdever_qt5" 'audiofile>=0.3.6-2' "qt5-multimedia>=$_F_kdever_qt5" 'libxscrnsaver>=1.2.2-2')
makedepends+=('perl' 'python' 'doxygen')
groups=('kde5')
archs=('i686' 'x86_64')
url="http://www.kvirc.net"
## strange up2date , nothing else really work.. github .. ermm doesn't =)
## well we can use _alphaxx in pkgver but this will just result in a mess because stupid pacman
up2date="lynx -dump -listonly ftp://ftp.kvirc.de/pub/kvirc/| grep "[0-9].[0-9]" | tail -n1 | sed 's/.*\/\(.*\)/\1/' | sed 's/-$pkgextra//g'"
source=(ftp://ftp.kvirc.net/pub/${pkgname}/${pkgver}-${pkgextra}/source/${pkgname}-${pkgver}-${pkgextra}.tar.bz2)
sha1sums=('6a9f00c17e25f9819f853dcd5b340f26a710339d')
_F_cmake_confopts+=" -DWANT_ENV_FLAGS=ON \
		-DWANT_VERBOSE=ON \
		-DWANT_COEXISTENCE=OFF"
_F_cd_path="${pkgname}-${pkgver}-${pkgextra}"

# optimization OK
