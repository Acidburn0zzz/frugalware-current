#!/usr/bin/env python
import setup

import sys
import rox
import EditWindow

try:
	from optparse import OptionParser
except ImportError:
	# optparse missing, e.g. in Python 2.2
	line_number = None
	args = sys.argv[1:]
else:
	parser = OptionParser()
	parser.add_option("-l", "--line_number", type='int',
		dest="line_number", default=None,
		help="start editor at given line number")

	(options, args) = parser.parse_args()
	line_number = options.line_number

if len(args):
	for file in args:
		try:
			EditWindow.EditWindow(file, line_number = line_number)
		except EditWindow.Abort:
			pass
else:
	EditWindow.EditWindow()

rox.mainloop()
