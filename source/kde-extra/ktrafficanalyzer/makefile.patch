diff -Naur KTrafficAnalyzer-0.3.7-1/Makefile KTrafficAnalyzer-0.3.7-1-p/Makefile
--- KTrafficAnalyzer-0.3.7-1/Makefile	2007-04-15 15:43:09.000000000 +0200
+++ KTrafficAnalyzer-0.3.7-1-p/Makefile	2007-05-01 20:48:56.000000000 +0200
@@ -1,26 +1,21 @@
 MAKE		= make
 TARGET		= KTrafficAnalyzer
-OBJ			= settings stats lib
+OBJ		= settings stats lib
 SRC_ROOT	= `pwd`
-LIB_PATH    = lib`if [ "$(HOSTTYPE)" = "x86_64" ]; then echo "64";  fi`
-LFLAGS		= $(ADD_LFLAGS) -L$(QTDIR)/$(LIB_PATH)/ -L$(KDEDIR)/$(LIB_PATH)/ -lqt-mt -lkdeui -lkio
-CFLAGS		= $(ADD_CFLAGS) -I$(QTDIR)/include/ -I$(KDEDIR)/include/ -I$(SRC_ROOT)
+LFLAGS		+= $(ADD_LFLAGS) -L$(QTDIR)/lib/ -L$(KDEDIR)/lib/ -lqt-mt -lkdeui -lkio
+CFLAGS		+= $(ADD_CFLAGS) -I$(QTDIR)/include/ -I$(KDEDIR)/include/ -I$(SRC_ROOT)
 ECHO		= echo
 KDEDIR		= `kde-config --prefix`
-MOC         = $(QTDIR)/bin/moc
-UIC         = $(QTDIR)/bin/uic
+MOC             = $(QTDIR)/bin/moc
+UIC             = $(QTDIR)/bin/uic
 
 all:
-	if test "$(KDEDIR)" = ""; then $(ECHO) KDEDIR not set!; exit 1; fi;
-	if test "$(QTDIR)" = ""; then $(ECHO) QTDIR not set!; exit 1; fi;
 	for i in $(OBJ); do $(MAKE) -C $$i SRC_ROOT=$(SRC_ROOT) "CFLAGS=$(CFLAGS)" "MOC=$(MOC)" "UIC=$(UIC)"; done
 	gcc -c KTrafficAnalyzer.cpp $(CFLAGS)
 	gcc -o $(TARGET) *.o $(addsuffix /*.o,$(OBJ)) $(LFLAGS)
 
 install:
-	if test "$(KDEDIR)" = ""; then $(ECHO) KDEDIR not set!; exit 1; fi;
-	cp KTrafficAnalyzer $(KDEDIR)/bin/
-	ln -sf $(KDEDIR)/bin/KTrafficAnalyzer $(KDEDIR)/bin/ktrafficanalyzer
+	cp KTrafficAnalyzer $(DESTDIR)/$(KDEDIR)/bin/
 
 uninstall:
 	if test "$(KDEDIR)" = ""; then $(ECHO) KDEDIR not set!; exit 1; fi;
