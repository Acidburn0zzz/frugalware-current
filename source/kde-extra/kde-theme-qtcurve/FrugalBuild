# Compiling time: ~0.39 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=kde-theme-qtcurve
pkgver=0.46.3
pkgrel=1
pkgdesc="KDE QtCurve Theme"
depends=('kdelibs>=3.5.5')
makedepends=('gtk+2>=2.10.0' 'freetype2')
groups=('kde-extra')
archs=('i686' 'x86_64')
_F_kdeapps_id2="40492"
Finclude kdeapps
source=(http://home.freeuk.com/cpdrummond/{QtCurve-KDE3,QtCurve-Gtk2}-$pkgver.tar.gz admin_fix.patch)
up2date="lynx -dump 'http://www.kde-look.org/content/show.php?content=40492'|grep -m1 'Source download'|sed 's/.*- \(.*\).*)/\1/'"
sha1sums=('b006c4daa914ea5712a0f0f891d4ae8d42c4cf99' \
          '983f20d75efa622494a5b53da42b123456ad1657' \
          '5f99980cc75133c5a8c0b9ebc533aad6b257337d')

subpkgs=('qtcurve-gtk2')
subconflicts=('qtcurve-gtk')
subreplaces=('qtcurve-gtk')
subdescs=('GTK2 QtCurve Theme.')
subdepends=('libstdc++ gtk+2>=2.10.0')
subgroups=('gnome-extra')
subarchs=('i686 x86_64')

build()
{
	Fcd QtCurve-Gtk2-$pkgver
	Fmake --enable-mozilla-userjs
	Fmakeinstall
	Fsplit qtcurve-gtk2 /usr
   	cd ../QtCurve-KDE3-$pkgver
	Fpatch admin_fix.patch
	make -f admin/Makefile.common cvs || Fdie
   	Fmake \
		--disable-debug --without-debug \
   	  	--disable-dependency-tracking \
   	  	--enable-final --enable-tab-mouse-over
	Fmakeinstall
}

# optimization OK
