# Compiling Time: 4.96 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=pyqt4
origname=PyQt
pkgver=4.1
pkgrel=1
pkgdesc="PyQt4 is a set of Python bindings for the Qt4 toolkit."
url="http://www.riverbankcomputing.co.uk/pyqt/index.php"
depends=('qt4>=4.2.1' 'sip>=4.5' 'qscintilla2')
up2date="lynx -dump http://www.riverbankcomputing.co.uk/pyqt/download.php |grep 'PyQt-x11-gpl-4' |sed -ne 's/.*l-\(.*\).tar.gz .*/\1/;1 p'"
source=(http://www.riverbankcomputing.com/Downloads/PyQt4/GPL/$origname-x11-gpl-$pkgver.tar.gz)
#up2date="$pkgver"
#source=(http://www.riverbankcomputing.com/Downloads/Snapshots/PyQt4/$origname-x11-gpl-4-snapshot-$pkgver.tar.gz)
license="GPL"
groups=('kde-extra')
archs=('i686')
options=('force')
sha1sums=('45c5d5cf7806252fb81271f9a0ed66c1602bb8c1')

build()
{

	if [ ! -f /etc/profile.d/qt4.sh.off ]; then
		Fmessage "Uhmm something is very wrong , cannot find qt4.sh.. abording!"
		Fdie
	else
		source /etc/profile.d/qt4.sh.off
	fi
	Fcd $origname-x11-gpl-$pkgver
	echo "yes" | python configure.py -q /usr/bin/qmake -j 8 || Fdie
	Fmake
	Fmakeinstall
}

# optimization OK
