# Compiling Time: 0.91 SBU
# Maintainer: Priyank Gosalia <priyankmg@gmail.com>
# Contributor: Artur Grunau <greenag@gmail.com>

pkgname=deluge
pkgver=0.5.2
pkgrel=1
pkgdesc="BitTorrent client written in Python and GTK+."
url="http://deluge-torrent.org/"
depends=('pygtk' 'pyxdg' 'boost' 'notify-python' 'notification-daemon')
groups=('gnome-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump http://download.deluge-torrent.org/stable/ | grep '$pkgname' | Flasttar"
source=(http://download.deluge-torrent.org/stable/$pkgname-$pkgver.tar.gz \
	deluge-$pkgver-boostmt.diff)
sha1sums=('cfb5b8be4e8bb18b43611042bd1c67713e5489d1' \
          '4e3106e3fa18ac7821e30ff8102c99b2d194ae65')

build()
{
	Fcd
	Fpatchall
	Fsed 'PREFIX = /usr/local' 'PREFIX = /usr' Makefile
	Fsed '--prefix=$(PREFIX)' '--prefix=$(PREFIX) --root=$(DESTDIR)' Makefile
	make || Fdie
	make DESTDIR=$Fdestdir install
}

# optimization OK
