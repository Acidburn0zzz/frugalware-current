# Compiling Time: 1.18 SBU
# Maintainer: Devil505 <devil505linux@gmail.com>

pkgname=cinnamon
pkgver=1.3
pkgrel=1
pkgdesc="Linux desktop which provides advanced innovative features and a traditional user experience"
url="http://cinnamon.linuxmint.com/"
depends=('muffin' 'folks' 'telepathy-logger' 'gnome-menus' 'gjs' 'gnome-desktop' 'libpulse' 'krb5' 'gnome-bluetooth')
makedepends=('intltool' 'gnome-common' 'gobject-introspection')
groups=('gnome-extra')
archs=('i686' 'x86_64')
options=('force')
_F_gnome_schemas="/etc/gconf/schemas/cinnamon.schemas"
_F_gnome_desktop="y"
_F_gnome_glib="y"
Finclude gnome-scriptlet
up2date="Flasttar http://ftp.frugalware.org/pub/other/people/baste/sources/$pkgname"
source=(http://ftp.frugalware.org/pub/other/people/baste/sources/$pkgname/$pkgname-$pkgver.tar.gz \
	$pkgname.session)
sha1sums=('980f7ec822384c75d608cc04674bf0c42e0f9236' \
          '13ee239f209e1539ac17748ba96c4563fc22b53b')

build() {
	export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/xulrunner/
	cd linuxmint-Cinnamon*
	./autogen.sh --prefix=/usr --sysconfdir=/etc \
	--libexecdir=/usr/lib/cinnamon --localstatedir=/var \
	--disable-static --enable-compile-warnings=yes \
	--with-ca-certificates=/usr/share/ca-certificates || Fdie
	Fmakeinstall

	# Install GNOME Session manager session file for FW
	Finstall 644 $pkgname.session usr/share/gnome-session/sessions/$pkgname.session
	Fbuild_gnome_scriptlet
}
