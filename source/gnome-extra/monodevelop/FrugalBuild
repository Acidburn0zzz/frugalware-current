# Compiling time: 0.43 SBU
# Maintainer: AlexExtreme <alex@alex-smith.me.uk>

pkgname=monodevelop
pkgver=0.17
pkgrel=2
pkgdesc="A project to port SharpDevelop to Gtk#"
url="http://www.mono-project.com/"
depends=('gecko-sharp' 'gtksourceview-sharp' 'shared-mime-info' \
	'mono-tools>=1.2.4-2' 'firefox=2.0.0.10' 'ikvm' 'boo' 'gnome-sharp' 'mono>=1.2.5.2')
makedepends=('intltool')
groups=('gnome-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump 'http://www.go-mono.com/sources-stable/'|grep 'monodevelop-\(.*\).tar.bz2' |Flasttarbz2"
source=(http://www.go-mono.com/sources/$pkgname/$pkgname-$pkgver.tar.bz2 \
	boo_mimetype.patch \
	autogen.sh \
	update_templates_for_gtk_sharp_2.8.x.patch)
options=('scriptlet' 'force')
_F_gnome_desktop=y
_F_gnome_mime=y
Finclude gnome-scriptlet mono
sha1sums=('012fb18ed4b7cb2ffdf743b7a734a1a4381de976' \
          '719b456cee8e5e2b4cf3778915464c191f246d98' \
          '7e138cb136265162cdaf86520c4781b6ff2b9192' \
          'db0fe450ef76f83853179bd0fd557f408175c3ee')
Fconfopts="$Fconfopts --enable-java --enable-boo --enable-nunit --enable-versioncontrol"

build() {
	
	Fmonoexport
	Fcd
	Fpatchall
	chmod 755 ../autogen.sh || Fdie
	NOCONFIGURE=y ../autogen.sh || Fdie
	## won't build without on an SMP system
	unset MAKEFLAGS
	Fmake
	Fmakeinstall
	Fmonocleanup
	Fbuild_gnome_scriptlet
}
