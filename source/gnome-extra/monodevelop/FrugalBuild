# Compiling time: 0.43 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

USE_DEVEL=${USE_DEVEL:-"y"}

pkgname=monodevelop
pkgver=2.5.91
pkgrel=1
pkgdesc="A project to port SharpDevelop to Gtk#"
url="http://www.mono-project.com/"
depends=('shared-mime-info' 'gtk-sharp' 'mono>=2.10.1' \
	'mono-addins>=0.6' 'gnome-sharp' 'gtksourceview-sharp')
makedepends=('intltool' 'perl-xml-parser')
groups=('gnome-extra')
archs=('i686' 'x86_64' 'ppc')
if Fuse $USE_DEVEL; then
	up2date="Flasttar http://www.go-mono.com/sources/$pkgname/"
else
	up2date="Flasttar http://www.go-mono.com/sources-stable/"
fi
source=(http://www.go-mono.com/sources/$pkgname/$pkgname-$pkgver.tar.bz2)
options=('scriptlet')
_F_gnome_desktop=y
_F_gnome_mime=y
_F_gnome_iconcache=y
Finclude gnome-scriptlet mono
sha1sums=('55ba434cd4a8af629030fa358e1304317cee0be8')
Fconfopts="$Fconfopts --enable-versioncontrol --enable-git"

replaces=('monodevelop-boo')

build() {
	Fcd
	Fpatchall
	Fmonoexport
	Fconf
	## won't build without on an SMP system
	unset MAKEFLAGS
	Fmake
	Fmakeinstall
	Fmonocleanup
	Fbuild_gnome_scriptlet
}
