# Compiling Time: 0.50 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=glade3
pkgver=3.6.7
pkgrel=3
pkgdesc="Glade is a GUI builder for GTK+ and Gnome. (VERSION 3)"
url="http://glade.gnome.org/"
depends=("devhelp>=0.23")
rodepends=('libglade3-gnome')
makedepends=('perl-xml-parser' 'gtk-doc' 'intltool')
_F_gnome_scrollkeeper="y"
_F_gnome_desktop="y"
_F_gnome_iconcache="y"
Finclude gnome gnome-scriptlet
source=(${source[@]} desktop-file-fixes.patch)
groups=('gnome-extra')
archs=('i686' 'x86_64' 'ppc')
sha1sums=('7621d5ae486ed42c35bb1d147b5693428481e733' \
          '28a0ecf9ea108499ea25af1238f3a8fccf9a05d7')
Fconfopts="$Fconfopts --enable-gnome --enable-gtk-doc --enable-python"

subpkgs=("${subpkgs[@]}" "libglade3-gnome")
subdescs=("${subdescs[@]}" "Widget library gnome for Glade3")
subdepends=("${subdepends[@]}" "atk>=1.26.0 libgnomeui>=2.24.1-2 pango>=1.24.4")
subrodepends=("${subrodepends[@]}" "libglade3")
subgroups=("${subgroups[@]}" 'gnome')
subarchs=("${subarchs[@]}" 'i686 x86_64 ppc')

subpkgs=("${subpkgs[@]}" "libglade3")
subdescs=("${subdescs[@]}" "Widget library for Glade3")
subdepends=("${subdepends[@]}" "atk>=1.26.0 pango>=1.28.0-2")
subrodepends=("${subrodepends[@]}" "")
subgroups=("${subgroups[@]}" 'xlib')
subarchs=("${subarchs[@]}" 'i686 x86_64 ppc')

subpkgs=("${subpkgs[@]}" "glade3-doc")
subdescs=("${subdescs[@]}" "Glade3 documentation")
subdepends=("${subdepends[@]}" "")
subrodepends=("${subrodepends[@]}" "")
subgroups=("${subgroups[@]}" 'gnome-extra')
subarchs=("${subarchs[@]}" 'i686 x86_64 ppc')

build() {
	Fbuild
	Fbuild_gnome_scriptlet
	Fsplit glade3-doc usr/share/gtk-doc
        Fsplit libglade3-gnome usr/lib/glade3/modules/libgladegnome*
	Fsplit libglade3 usr/include
	Fsplit libglade3 usr/lib
}

# optimization OK
