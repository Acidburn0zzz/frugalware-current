# Compiling Time: 0.03 SBU
# Maintainer: Devil505 <devil505linux@gmail.com>

pkgname=gnome-theme-wild-shine
pkgver=1.4.2
pkgrel=1
pkgdesc="Wild Shine theme for Gnome."
url="http://www.bisigi-project.org"
depends=('gtk+2-engines-murrine' 'x-cursors-dmz')
makedepends=('imagemagick')
groups=('gnome-extra' 'bisigi-themes')
archs=('i686' 'x86_64')
_F_archive_name="wild-shine-theme"
Fpkgversep="_"
up2date="Flasttar https://launchpad.net/~bisigi/+archive/ppa/+sourcepub/1271917/+listing-archive-extra | sed 's/.lucid.ppa1+nmu1//g'"
source=("https://launchpad.net/~bisigi/+archive/ppa/+files/$_F_archive_name$Fpkgversep$pkgver.lucid.ppa1+nmu1.tar.gz" \
	"distributor-logo-frugalware.svg" \
	"wild-shine.patch")
sha1sums=('825ba18c7cc478ecdbc737a554e031ddf4eae269' \
          '8ada30924d1cdb1aeb5cc089c5a17b5884c66cd6' \
          'f93150389542ad070bed12098e988f4f8b4d83f4')

build() {
	Fcd "$_F_archive_name"
	Fmkdir usr/share/{themes,icons,pixmaps/backgrounds/gnome/nature,gnome-background-properties,emerald/themes}
	tar -xzf Gtk/wild-shine.tar.gz -C Gtk/ || Fdie

	#Icons theme
	tar -xjf Icons/wild-shine.tar.bz2 -C Icons/ || Fdie

	# fix some bad file permissions
	find Icons/ -type f -exec chmod -R 644 {} \;
	rm -f Icons/wild-shine/index.theme~
	install -D -m644 $Fsrcdir/distributor-logo-frugalware.svg Icons/wild-shine/scalable/places/distributor-logo.svg || Fdie
	install -D -m644 $Fsrcdir/distributor-logo-frugalware.svg Icons/wild-shine/scalable/places/gnome-main-menu.svg || Fdie
	install -D -m644 $Fsrcdir/distributor-logo-frugalware.svg Icons/wild-shine/scalable/places/start-here.svg || Fdie


	#Emerald theme
	mkdir Emerald/wild-shine || Fdie
	tar -xzf Emerald/wild_shine.emerald -C Emerald/wild-shine || Fdie

	# install files
	Fpatchall
	Fcprel Gtk/wild-shine/ usr/share/themes/
	Fcprel Icons/wild-shine/ usr/share/icons
	Finstallrel 644 Wallpaper/wild_shine.png usr/share/pixmaps/backgrounds/gnome/nature/
	Finstallrel 644 Wallpaper/wild-shine-wallpaper.xml usr/share/gnome-background-properties
	Fcprel Emerald/wild-shine usr/share/emerald/themes/
}
