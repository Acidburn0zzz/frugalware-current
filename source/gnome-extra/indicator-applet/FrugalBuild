# Compiling Time: 0.06 SBU
# Maintainer: Devil505 <devil505linux@gmail.com>

pkgname=indicator-applet
pkgver=0.4.5
pkgrel=1
pkgdesc="A small applet to display information from various applications consistently in the panel."
url="http://launchpad.net/indicator-applet"
depends=('gconf' 'gnome-panel' 'indicator-messages' 'indicator-session')
makedepends=('intltool' 'libindicator>=0.3.14')
groups=('gnome-extra')
archs=('i686' 'x86_64')
_F_gnome_iconcache="y"
_F_gnome_schemas=('/etc/gconf/schemas/indicator-applet.schemas')
Finclude gnome-scriptlet
up2date="Flasttar $url"
source=($url/0.4/$pkgver/+download/$pkgname-$pkgver.tar.gz indicator-applet-0.4.5-fastuserswitchapplet-collision.patch)
sha1sums=('cefbec7462f680a4ac7e44f066dc0c63db87e184' \
          '2322d7788b8e1e006fc24f8ec83e825857e6ff54')

build()	{
	Fcd
	# Don't collide with gdm-user-switch-applet's bonobo file
	mv data/GNOME_{FastUserSwitchApplet,IndicatorAppletSession}.server.in.in \
		|| Fdie
	Fsed "FastUserSwitchApplet" "IndicatorAppletSession" data/Makefile
	Fsed "FastUserSwitchApplet" "IndicatorAppletSession" data/Makefile.in
	Fbuild
	Fbuild_gnome_scriptlet
}

