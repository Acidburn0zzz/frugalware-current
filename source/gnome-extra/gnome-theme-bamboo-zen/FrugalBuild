# Compiling Time: 0.01 SBU
# Maintainer: Devil505 <devil505linux@gmail.com>

pkgname=gnome-theme-bamboo-zen
pkgver=1.4.1
pkgrel=1
pkgdesc="Bamboo-zen theme for Gnome."
url="http://www.bisigi-project.org"
depends=('gtk+2-engines-murrine' 'x-cursors-dmz')
groups=('gnome-extra')
archs=('i686' 'x86_64')
_F_archive_name="bamboo-zen-theme"
Fpkgversep="_"
up2date="elinks -dump 'https://launchpad.net/~bisigi/+archive/ppa/+packages' | Flasttar | sed 's/.lucid.ppa1+nmu1//g'"
source=(https://launchpad.net/~bisigi/+archive/ppa/+files/$_F_archive_name$Fpkgversep$pkgver.lucid.ppa1+nmu1.tar.gz
	ftp://ftp.frugalware.org/pub/other/people/devil505/artwork/frugal-icon48.svg \
	bamboo-zen.patch)
sha1sums=('676a9dacc9acf23690b4f937e9180cca6d43ca91' \
          '5864eed09d44dbc2c7b5b6e5bca3bd965d3bb25f' \
          '26e177737a6946ba68c6fa07d4badab231c30537')

build() {
	Fcd "bamboo-zen-theme"
	Fmkdir usr/share/{themes,icons,pixmaps/backgrounds/gnome/nature,gnome-background-properties,emerald/themes}
	tar -xzf Gtk/bamboo-zen.tar.gz -C Gtk/ || Fdie
	rm -f Gtk/bamboo-zen/index.theme~ || Fdie
	tar -xjf Icons/bamboo-zen.tar.bz2 -C Icons/ || Fdie
	rm -f Icons/Bamboo-zen/index.theme~ || Fdie

	# fix permission
	chmod 755 Icons/Bamboo-zen || Fdie
	install -D -m644 $Fsrcdir/frugal-icon48.svg Icons/Bamboo-zen/scalable/places/distributor-logo.svg || Fdie
	install -D -m644 $Fsrcdir/frugal-icon48.svg Icons/Bamboo-zen/scalable/places/gnome-main-menu.svg || Fdie
	install -D -m644 $Fsrcdir/frugal-icon48.svg Icons/Bamboo-zen/scalable/places/start-here.svg || Fdie

	#Emerald theme
	mkdir Emerald/bamboo-zen || Fdie
	tar -xzf Emerald/bamboo-zen.emerald -C Emerald/bamboo-zen/ || Fdie

	Fpatchall
	Fcprel Gtk/bamboo-zen/ usr/share/themes/
	Fcprel Icons/Bamboo-zen/ usr/share/icons
	Finstallrel 644 Wallpaper/Bamboo-Zen.jpg usr/share/pixmaps/backgrounds/gnome/nature	
	Finstallrel 644 Wallpaper/bamboo-zen-wallpaper.xml usr/share/gnome-background-properties
	Fcprel Emerald/bamboo-zen /usr/share/emerald/themes/
}
