# Compiling Time: 0.33 SBU
# Maintainer: Bence Nagy <nagybence@tipogral.hu>

pkgname=ruby-gnome2
pkgver=0.15.0
pkgrel=2
pkgdesc="Ruby language bindings for Gnome environment"
url="http://ruby-gnome2.sourceforge.jp/"
depends=('gnome-panel' 'gtksourceview' 'ruby' 'libgtkhtml' 'ruby-gtk2' 'dbus-glib>=0.71' 'vte' 'libcroco' 'ncurses')
groups=('gnome-extra')
options=('scriptlet')
archs=('i686' 'x86_64')
up2date='lynx -dump "http://sourceforge.net/project/showfiles.php?group_id=53614" | grep ruby-gnome2-all.*.tar.gz | head -n 1 | sed "s/.*ruby-gnome2-all-\(.*\).tar.gz.*/\1/"'
source=(http://heanet.dl.sourceforge.net/ruby-gnome2/ruby-gnome2-all-$pkgver.tar.gz)
sha1sums=('c7919b445b5a8de5fe61e07179384c9152f91bdc')

build() {
	Fcd ruby-gnome2-all-$pkgver
	Fconf
	Fsed ' atk ' ' ' Makefile
	Fsed ' gdkpixbuf ' ' ' Makefile
	Fsed ' glib ' ' ' Makefile
	Fsed ' gtk ' ' ' Makefile
	Fsed ' pango ' ' ' Makefile
	make || Fdie
	find */* -name \*.rb -exec sed -i -e 's|/usr/local/bin/ruby|/usr/bin/ruby|' {} \; || Fdie
	make DESTDIR=$Fdestdir libdir=$Fdestdir/lib install || Fdie
}

# optimization OK
