# Compiling time: 0.45 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>
# Contributor: AlexExtreme <alex@alex-smith.me.uk>

pkgname=f-spot
pkgver=0.8.0
pkgrel=2
pkgdesc="A personal photo management program for Gnome"
url="http://www.gnome.org/projects/f-spot/"
depends=('gtk2-sharp' 'lcms' 'libexif' 'libgphoto2' 'gnome-keyring-sharp' \
	'libjpeg>=8a' 'sqlite3' 'dbus-sharp' 'mono-addins' 'libflickrnet' \
	'dbus-sharp-glib' 'gnome-sharp>=2.16.0-3' 'gnome-desktop-sharp>=2.24.0-1')
makedepends=('gnome-screensaver' 'perl-xml-parser' 'gnome-doc-utils' 'intltool')
groups=('gnome-extra')
archs=('i686' 'x86_64' 'ppc')
_F_gnome_desktop=y
_F_gnome_iconcache=y
_F_gnome_scrollkeeper=y
_F_gnome_devel=y
Finclude gnome mono gnome-scriptlet
source=($source mono28.diff gdk.diff)
sha1sums=('e08e570c9bbfd22ab7fed2f4846f7f36d99156fd' \
          'f52c19650064baf48d423232f84712ad92571840' \
          'c58877642fcaddc8b48ec3a5f194092bb318e7a7')

build() {
	unset MAKEFLAGS
	Fmonoexport
	Fbuild_slice_scrollkeeper
	Fcd
	Fsed 'ndesk-dbus' 'dbus-sharp' configure
	Fsed 'ndesk-dbus-glib' 'dbus-sharp-glib' configure
	find src -exec sed -i "s/NDesk.DBus/DBus/g" {} \;
	Fpatchall
	Fmake
	Fmakeinstall
        Fmonocleanup
	Fbuild_gnome_scriptlet
}

# optimization OK
