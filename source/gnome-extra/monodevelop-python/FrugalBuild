# Compiling time: 0 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=monodevelop-python
pkgver=2.4
pkgrel=2
pkgdesc="Python Extension for MonoDevelop"
url="http://www.mono-project.com/"
depends=('monodevelop>=2.4' 'python>=2.7')
makedepends=('intltool' 'perl-xml-parser')
groups=('gnome-extra')
archs=('i686' 'x86_64' 'ppc')
up2date="Flasttar http://ftp.novell.com/pub/mono/sources-stable/"
source=(http://ftp.novell.com/pub/mono/sources/$pkgname/$pkgname-$pkgver.tar.bz2)
options=('scriptlet')
_F_mono_aot=0
Finclude mono
sha1sums=('ccc8db0d745829cd304af012b665ef8260457220')

build() {
	Fcd
	Fmonoexport
	Fsed "python2.6" "python2.7" PyBinding/PyBinding.Runtime/Python26Runtime.cs
	Fsed "python2.6" "python2.7" PyBinding/PyBinding/PythonHelper.cs
	Fsed "python2.6" "python2.7" PyBinding/Resources/completion.py
	Fsed "Python 2.6" "Python 2.7" PyBinding/PyBinding.Gui/PythonOptionsWidget.cs
	Fsed '$(DESTDIR)$(libdir)/pkgconfig' \
		"$Fdestdir\$(DESTDIR)\$(libdir)/pkgconfig" \
		PyBinding/Makefile
	Fmake
	Fmakeinstall
	Fmkdir /usr/lib/pkgconfig
	Fmv /var/tmp/fst/pkg/usr/lib/pkgconfig/monodevelop-pybinding.pc \
		/usr/lib/pkgconfig
	Frm /var
	Fmonocleanup
}
