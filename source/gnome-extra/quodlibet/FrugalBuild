# Compiling Time: 0.04 SBU
# Maintainer: Priyank Gosalia <priyankmg@gmail.com>

pkgname=quodlibet
pkgver=0.24
pkgrel=3
pkgdesc="QuodLibet is a GTK+ based audio player written in Python."
url="http://www.sacredchao.net/quodlibet/wiki"
makedepends=('intltool')
depends=('gtk+2' 'pygtk' 'mutagen' 'pyvorbis' 'pymad' 'gst-python' \
	'gnome-python-extras' 'python-ctypes' 'gst-plugins-good' \
	'gst-plugins-base-ogg' 'gst-plugins-base-vorbis' \
	'gst-plugins-ugly-mad' 'gst-plugins-good-flac' \
	'gst-plugins-base-alsa' 'gst-plugins-good-esd' \
	'gst-plugins-good-gconf' 'gst-plugins-base-gnomevfs' \
	'gst-plugins-bad-musepack' 'gst-plugins-bad' \
	'gst-plugins-bad-wavpack' 'gst-plugins-base-oil' \
	'hal>=0.5.9-2' 'dbus-python' 'dbus')
groups=('gnome-extra')
archs=('i686' 'x86_64')
options=('scriptlet')
up2date="lynx -dump $url/Download | grep -m1 tar.gz | sed 's/.*et-\(.*\).t.*/\1/'"
source=(http://www.sacredchao.net/~piman/software/$pkgname-$pkgver.tar.gz \
	quodlibet-0.24-hal.patch quodlibet-0.24-makefile.patch)
sha1sums=('9ac6142a2cb8db7e37b56b63a0adeed888aaf1f4'\
          '6677ad0546fa4c05ff8bcfdf307db4df277f568f'\
          '4619649966592c188689ef81db2a6b37baffa317')

build()
{
	Fcd
	Fsed '/share/man/man1' '/man/man1' Makefile
	Fpatchall
	make extensions || return 1
	make PREFIX=/usr DESTDIR=$Fdestdir install
}

# optimization OK
