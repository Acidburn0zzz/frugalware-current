# Compiling time: 0.25 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=libchamplain
pkgver=0.6.1
pkgrel=2
pkgdesc="Libchamplain is a C library providing a ClutterActor to display maps."
depends=('clutter-gtk>=0.10.4-2' 'libsoup-gnome>=2.30.0' 'memphis')
makedepends=('intltool' 'gnome-doc-utils' 'glproto')
groups=('gnome-extra')
archs=('i686' 'x86_64' 'ppc')
options=('force')
Finclude gnome python
sha1sums=('f365597312f4e8b0dcc080eb7720d631d6425e4c')

subpkgs=('libchamplain-python')
subdescs=('Pyton bindings for libchamplain')
subdepends=("pyclutter-gtk")
subrodepends=("$pkgname=$pkgver")
subgroups=('gnome-extra')
subarchs=('i686 x86_64 ppc')

unset MAKEFLAGS
build() {
	Fcd
	export CFLAGS="$CFLAGS -I/usr/include/libmemphis-0.1"
	Fsed "pyclutter-gtk-0.9" "pyclutter-1.0" configure
	Fmake --enable-python --enable-introspection=no
	Fmakeinstall
	Fsplit libchamplain-python $_F_python_libdir
}

# optimization OK
