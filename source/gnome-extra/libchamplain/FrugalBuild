# Compiling time: 0.25 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=libchamplain
pkgver=0.5.1
pkgrel=1
pkgdesc="Libchamplain is a C library providing a ClutterActor to display maps."
depends=('clutter-gtk' 'libsoup-gnome>=2.29.91-3' 'memphis')
makedepends=('intltool' 'gnome-doc-utils' 'pyclutter')
groups=('gnome-extra')
archs=('i686' 'x86_64' 'ppc')
Finclude gnome python
sha1sums=('ccde99301d4eef12f05b8aecb39b3a93e6b3e5dd')

subpkgs=('libchamplain-python')
subdescs=('Pyton bindings for libchamplain')
subdepends=("pyclutter")
subrodepends=("$pkgname=$pkgver")
subgroups=('gnome-extra')
subarchs=('i686 x86_64 ppc')

unset MAKEFLAGS
build() {
	Fcd
	export CFLAGS="$CFLAGS -I/usr/include/libmemphis-0.1"
	Fsed "pyclutter-gtk-0.9" "pyclutter-1.0" configure
	Fmake --enable-python --enable-introspection=no
	Fmakeinstall
	Fsplit libchamplain-python $_F_python_libdir
}

# optimization OK
