# Compiling Time: 0.03 SBU
# Maintainer: Devil505 <devil505linux@gmail.com>

pkgname=gnome-theme-orange
pkgver=1.4.2
pkgrel=1
pkgdesc="Orange theme for Gnome."
url="http://www.bisigi-project.org"
depends=('xcursor-theme-vanilla-dmz')
groups=('gnome-extra')
archs=('i686' 'x86_64')
_F_archive_name="orange-theme"
Fpkgversep="_"
up2date="elinks -dump 'https://launchpad.net/~bisigi/+archive/ppa/+packages' | Flasttar | sed 's/.karmic.ppa2+nmu1//g'"
source=("https://launchpad.net/~bisigi/+archive/ppa/+files/orange-theme_1.4.2.karmic.ppa2+nmu1.tar.gz" \
		"logo-fw64.svg" \
		"logo-fw48.svg" \
		"logo-fw32.svg" \
		"logo-fw24.svg" \
		"logo-fw22.svg" \
		"logo-fw16.svg" \
		"orange.patch")
sha1sums=('d806208e42234eb8987342e3577032cfe19917e8' \
          'b5098c2f79a40307b644d221a0d99eb6f0740dda' \
          '2388a17d2b88b8b09120575662cb23ddbd7272ce' \
          '60baeca148deed862daebe737f604c681fc23874' \
          '0a17e361c17e52a2731a3248eed6e17e744397bc' \
          '3af0e18a839a38feabac8185c3c79df689adb3a8' \
          '996186e9f45c6ae7b128bfcac5b91d8198aa6f64' \
          'b29e2d65a6cca8ea6e3629966444ddb5267d6112')

build() {
	Fcd "orange_karmic"
	Fmkdir usr/share/{themes,icons,pixmaps/backgrounds/gnome/abstract,gnome-background-properties,emerald/themes}
	tar -xzf Gtk/orange.tar.gz -C Gtk/ || Fdie

	#Icons theme
	tar -xjf Icons/humanity.tar.bz2 -C Icons/ || Fdie

	# fix some bad file permissions
	find Icons/ -type f -exec chmod -R 644 {} \;
	local _w=""
	for _w in {64,48,32,24,22,16}; do
		install -D -m644 $Fsrcdir/logo-fw$_w.svg Icons/humanity/places/$_w/distributor-logo.svg
		install -D -m644 $Fsrcdir/logo-fw$_w.svg Icons/humanity/places/$_w/gnome-main-menu.svg
		install -D -m644 $Fsrcdir/logo-fw$_w.svg Icons/humanity/places/$_w/start-here.svg
		install -D -m644 $Fsrcdir/logo-fw$_w.svg Icons/humanity/places/$_w/novell-button.svg
	done

	#Emerald theme
	mkdir Emerald/orange || Fdie
	tar -xzf Emerald/orange.emerald -C Emerald/orange || Fdie

	# install files
	Fpatchall
	Fcprel Gtk/orange/ usr/share/themes/
	Fcprel Icons/humanity/ usr/share/icons
	Finstallrel 644 Wallpaper/orange.jpg usr/share/pixmaps/backgrounds/gnome/abstract
	Finstallrel 644 Wallpaper/orange-wallpaper.xml usr/share/gnome-background-properties
	Fcprel Emerald/orange usr/share/emerald/themes/
}
