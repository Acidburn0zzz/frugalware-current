# Last Modified: Thu, 07 Sep 2006 16:13:24 +0200
# Compiling Time: 0.72 SBU
# Maintainer: Priyank <priyankmg@gmail.com>

pkgname=gnome-bluetooth
pkgver=0.7.0
pkgrel=3
pkgdesc="The GNOME Bluetooth Subsystem."
url="http://www.usefulinc.com/software/gnome-bluetooth/"
makedepends=('intltool' 'pkgconfig')
depends=('bluez-utils>=3.5' 'bluez-libs>=3.5' 'gob2' 'pygtk' \
		'librsvg>=2.16.0' 'gnome-python>=2.16.0' 'libbtctl>=0.6.0-2' \
		'libgnomeui>=2.16.0')
groups=('gnome-extra')
archs=('i686' 'x86_64')
nondevel="1"
_F_gnome_schemas=('/etc/gconf/schemas/gnome-obex-server.schemas')
_F_gnome_scrollkeeper="y"
Finclude gnome gnome-scriptlet
source=(${source[@]} gnome-bluetooth-0.7.0-aclocal_openobex.patch gnome-bluetooth-0.7.0-as-needed.patch)
sha1sums=('0962ca45d8a119b52bbf49fb3667d987181bc2d3' \
	'c0cc772346dfcdb272f4e95a7efa3922b8411461' \
	'44b2eb6784f8d88d8a224ddd3047e382aa010683')

build() {
	Fsed 'AM_PATH_OPENOBEX(1.0.0)' 'PKG_CHECK_MODULES(OPENOBEX, openobex)\n AC_SUBST(OPENOBEX_LIBS)\n AC_SUBST(OPENOBEX_CFLAGS)' configure.in
	Fsed 'blueradio-48.png' 'blueradio.png' > python/manager.py
	Fpatchall
	Fautoconfize
	Fbuild_slice_scrollkeeper
	Fmake
	Fmakeinstall GCONF_DISABLE_SCHEMA_INSTALL=1

	# Install gnome-bluetooth python files in correct location
	Fmv /usr/usr/lib/* /usr/lib/
	Frm usr/usr
	Fbuild_gnome_scriptlet
}

# optimization OK
