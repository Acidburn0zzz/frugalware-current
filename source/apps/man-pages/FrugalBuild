# Last Modified: Tue Oct 12 22:39:38 CEST 2004
# Compiling Time: ~2 minutes
# Maintainer: VMiklos <mamajom@axelero.hu>

pkgname=man-pages
pkgver=1.69
pkgrel=1
pkgdesc="Man pages are online documentation for Linux"
url="http://www.win.tue.nl/~aeb/linux/man"
depends=()
up2date=`lynx -dump 'http://www.kernel.org/pub/linux/docs/manpages/?C=M;O=D'|grep tar.gz$|sed -n -e 's/.*s-\(.*\)\.tar\.gz$/\1/' -e '1 p'`
source=(http://www.kernel.org/pub/linux/docs/manpages/$pkgname-$pkgver.tar.gz)
md5sums=('6e89aabacdc847173fe2fa708a239c3a')

build() {
	cd $startdir/src/$pkgname-$pkgver
	
	make prefix=$startdir/pkg install

	# removing files conflicting with other packages: coreutils
	rm -f $startdir/pkg/usr/share/man/man1/{chgrp,chmod,chown,cp,dir,dd}.1
	rm -f $startdir/pkg/usr/share/man/man1/{df,dircolors,du,install,ln,ls}.1
	rm -f $startdir/pkg/usr/share/man/man1/{mkdir,mkfifo,mknod,mv}.1
	rm -f $startdir/pkg/usr/share/man/man1/{rm,rmdir}.1
	rm -f $startdir/pkg/usr/share/man/man1/{touch,vdir}.1
	# shadow
	rm -f $startdir/pkg/usr/share/man/man{3/getspnam.3,5/passwd.5}
	# diffutils
	rm -f $startdir/pkg/usr/share/man/man1/diff.1
	# fdutils
	rm -f $startdir/pkg/usr/share/man/man4/fd.*
	# xfsprogs-attr
	rm -f $startdir/pkg/usr/share/man/man2/{flistxattr,fremovexattr}.*
	rm -f $startdir/pkg/usr/share/man/man2/{fsetxattr,getxattr,lgetxattr}.*
	rm -f $startdir/pkg/usr/share/man/man2/{listxattr,llistxattr}.*
	rm -f $startdir/pkg/usr/share/man/man2/{lremovexattr,lsetxattr}.*
	rm -f $startdir/pkg/usr/share/man/man2/{removexattr,setxattr}.*
	rm -f $startdir/pkg/usr/share/man/man2/fgetxattr.*
}

# vim: ft=sh
