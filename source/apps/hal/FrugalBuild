# Last modified: Wed, 09 Aug 2006 14:38:10 +0200
# Compiling time: 0.44 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>
# Contributor: Laszlo Dvornik <dvornik@gnome.hu>

pkgname=hal
pkgver=0.5.7.1
pkgrel=2
pkgdesc="Hardware Abstraction Layer"
url="http://freedesktop.org/wiki/Software_2fhal"
depends=('dbus>=0.60' 'udev>=080' 'glib2' 'libcap' 'python' \
	'libusb' 'popt' 'pciutils' 'shadow>=4.0.18.1-2')
makedepends=('pkgconfig' 'perl-xml' 'doxygen')
groups=('apps')
replaces=('submount')
archs=('i686' 'x86_64')
up2date="lynx -dump 'http://freedesktop.org/~david/dist/?C=M;O=A'|sort -n -r|head -n 1|sed 's/.*-\(.*\).t.*/\1/'"
source=(http://freedesktop.org/~david/dist/$pkgname-$pkgver.tar.gz rc.hald hal.conf.in.patch)
sha1sums=('233b67e724e68f41ec3f53adcfb7d139328c5813' \
          'b2feba21a927fafc4f27f4f630a79f9b3e0944fa' \
          'cf0c83c0f65398884467066c8280007577387dcd')

build()
{
	Fbuild --enable-pcmcia-support --with-pid-file=/var/run/hald.pid \
	      --with-hal-user=hald --with-hal-group=hald --enable-sysfs-carrier \
	      --disable-acpi-proc
        Frm /etc/hotplug.d
        Fmkdir /media
	Frcd hald
}

# optimization OK
