# Last Modified: Mon, 30 May 2005 12:42:38 +0000
# Compiling Time: ~1 minute
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=bpe
pkgver=1.5
pkgrel=1
pkgdesc="A tool for searching and modifying binary files."
url="http://ftp.ibiblio.org/pub/linux/utils/file/hex/bpe.lsm"
depends=('ncurses')
groups=('apps')
archs=('i686' 'x86_64')
up2date="lynx -dump 'http://ftp.ibiblio.org/pub/linux/utils/file/hex/?M=D' |grep bpe.*tar.gz$|sed -n 's/.*e-\(.*\)\.t.*/\1/;1 p'"
source=(ftp://ftp.ibiblio.org/pub/linux/utils/file/hex//$pkgname-$pkgver.tar.gz banners.tar.gz \
	bpe-1.5-cflags-fix.patch)
md5sums=('e135a7e0ef870e6d98c38061487fdeb9' 'f7fddc6d2dba676c4f5e00ab16b0b181' \
	'9b38d508db4f65f20a3899a8fed98e09')

build() {
  cd $startdir/src/$pkgname-$pkgver
  Fpatch bpe-1.5-cflags-fix.patch || return 1
  rm *.o
  make
  mkdir -p $startdir/pkg/usr/bin
  cp bpe $startdir/pkg/usr/bin
  mkdir -p $startdir/pkg/usr/man/man1
  cp bpe.1 $startdir/pkg/usr/man/man1
  
  # build banners
  cd ..
  cd banners
  make
  cp bban sysvbanner $startdir/pkg/usr/bin
}

# optimalization ok