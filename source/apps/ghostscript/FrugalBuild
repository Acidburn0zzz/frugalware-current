# Compiling Time: 2.42 SBU
# Maintainer: voroskoi <voroskoi@frugalware.org>

pkgname=ghostscript
pkgver=8.62
pkgrel=1
pkgdesc="An interpreter for the PostScript language."
depends=('cups')
rodepends=('foomatic-filters' 'urw-fonts')
makedepends=('libxt' 'libxext')
groups=('apps')
archs=('i686' 'x86_64')
license="GPLv2"
Finclude sourceforge
url="http://www.ghostscript.com/awki"
up2date="lynx -dump http://www.ghostscript.com/awki/Releases |grep latest |sed -ne 's/.*pt \(.*\) (.*/\1/;1p'"
sha1sums=('93633326e08e8e02a279ea87ead91b10b2c430f3')

subpkgs=('xghostscript')
subdescs=('A graphical interpreter for the PostScript language.')
subdepends=("libxt libxext cups foomatic-filters urw-fonts")
subgroups=('xapps')
subarchs=('i686 x86_64')

build() {
	if [[ "$CARCH" == "x86_64" ]]; then
		unset MAKEFLAGS
		CFLAGS="$CFLAGS -fPIC"
	fi
	Fmake
	make DESTDIR=${Fdestdir} install soinstall || Fdie
	Fsplit xghostscript /etc /usr
	make clean || Fdie
	Fmake --without-x
	make DESTDIR=${Fdestdir} install soinstall || Fdie
}

# optimization OK
