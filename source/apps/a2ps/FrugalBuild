# Last Modified: Wed, 08 Jun 2005 16:11:48 +0000
# Compiling Time: ~5 Minutes
# Contributed by zleho <zleho@index.hu>
# Maintainer: Bence Nagy <nagybence@tipogral.hu>

pkgname=a2ps
pkgver=4.13
pkgextraver=b
pkgrel=4
pkgdesc="An Any to PostScript filter"
url="http://www.inf.enst.fr/~demaille/a2ps"
depends=('glibc' 'urw-fonts' 'psutils')
makedepends=('emacs')
groups=('apps')
archs=('i686' 'x86_64')
backup=('etc/a2ps-site.cfg' 'etc/a2ps.cfg')
install=$pkgname.install
up2date="lynx -dump http://ftp.gnu.org/gnu/a2ps/?D=D| grep -m1 .tar.gz|sed 's/.*-\(.*\)b.tar.gz .*/\1/'"
source=(ftp://ftp.enst.fr/pub/unix/$pkgname/$pkgname-$pkgver$pkgextraver.tar.gz glibc-2.3.4.patch0 \
	a2ps-4.13b-autoconf-fixes.patch)
md5sums=('0c8e0c31b08c14f7a7198ce967eb3281' 'ab357935904242d68d3982c96816dabf' \
	'f7a2339347100d33da157ce65bf0bb10')

build()
{
	cd $startdir/src/$pkgname-$pkgver
	Fpatch glibc-2.3.4.patch0 || return 1
	[ "$CARCH" == "x86_64" ] && (Fpatch a2ps-4.13b-autoconf-fixes.patch || return 1)
	[ "$CARCH" == "x86_64" ] && (libtoolize --copy --force && cp /usr/share/aclocal/libtool.m4 m4/ && aclocal -I m4 && autoconf)
	Fmake --sysconfdir=/etc || return 1
	Fmakeinstall || return 1
}


# vim: ft=sh
