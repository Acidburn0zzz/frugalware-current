# Last Modified: Tue, 17 May 2005 10:13:29 +0200
# Compiling Time: 1 minute
# Maintainer: VMiklos <mamajom@axelero.hu>
# Contributor: Gabor Unger <unger_gabor@freemail.hu>

pkgname=lsof
pkgver=4.75
pkgrel=1
pkgdesc="Displays information about files open to Unix processes."
url="http://people.freebsd.org/~abe/"
depends=('glibc')
groups=('apps')
up2date="lynx -dump 'ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/README' | grep '(revision'| sed s/revision// | sed s/\(// | sed s/\)//|sed 's/^ *//'"
source=(ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/lsof.tar.gz \
	$pkgname-$pkgver-glibc233.diff)
md5sums=('ec4e62f1e70aaac52b58bdacf0cc9c05' '104bd0ff923198976f85993f8cd73df5')

build()
{
	Fcd ${pkgname}_$pkgver
	tar -xf ${pkgname}_${pkgver}_src.tar
	cd ${pkgname}_${pkgver}_src
	Fpatchall
	yes "" |./Configure linux
	Fsed '^\(CFGF=.*\)' "\1 $CFLAGS" Makefile
	
	make || return 1
	
	Fexerel /usr/bin/lsof
	Ffilerel /usr/man/man8/lsof.8
}

# optimalization ok

# vim: ft=sh
