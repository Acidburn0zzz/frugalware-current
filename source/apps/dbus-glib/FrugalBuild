# Compiling time: 0.24 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=dbus-glib
pkgver=0.72
pkgrel=1
pkgdesc="Glib bindings for DBUS"
url="http://www.freedesktop.org/wiki/Software_2fDBusBindings"
depends=('dbus>=0.93' 'glib2' 'expat')
makedepends=('gtk-doc' 'doxygen') ## LOL
groups=('apps')
archs=('i686' 'x86_64')
up2date="lynx -dump http://www.freedesktop.org/wiki/Software_2fDBusBindings|grep -m1 'dbus-glib-\(.*\).tar.gz'|sed 's/.*glib-\(.*\).t.*/\1/'"
source=(http://dbus.freedesktop.org/releases/$pkgname/$pkgname-$pkgver.tar.gz)
sha1sums=('78dc27362df25ec5867a63a3287abda648bd4e82')

build()
{
	Fcd
	Fpatchall
	Fautoreconf
	Fmake  --sysconfdir=/etc --localstatedir=/var \
                --exec-prefix=/ --libdir=/usr/lib \
                --bindir=/usr/bin \
		--enable-doxygen-docs \
		--disable-xml-docs \
		--disable-ansi \
		--disable-asserts \
		--disable-tests \
		--with-xml=libxml
	Fmakeinstall
	Fln ../usr/bin/dbus-binding-tool /bin/dbus-binding-tool
}
		
# optimization OK
