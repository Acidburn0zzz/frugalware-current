# Last modified: Sun, 24 Sep 2006 11:47:14 +0100
# Compiling time: 0.24 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=dbus-glib
pkgver=0.71
pkgrel=2
pkgdesc="Glib bindings for DBUS"
url="http://www.freedesktop.org/wiki/Software_2fDBusBindings"
depends=('dbus>=0.93' 'glib2' 'expat')
makedepends=('doxygen')
groups=('apps')
archs=('i686' 'x86_64')
up2date="lynx -dump http://www.freedesktop.org/wiki/Software_2fDBusBindings|grep -m1 'dbus-glib-\(.*\).tar.gz'|sed 's/.*glib-\(.*\).t.*/\1/'"
source=(http://dbus.freedesktop.org/releases/$pkgname/$pkgname-$pkgver.tar.gz \
	dbus-bus-introspect.xml.patch)
sha1sums=('3493225f8dc53d98b40c3237ffa1be020dcc0f76' \
          '4c7b1b226ceb3a8ddfbb02e49efdd56fee0ab14c')

build()
{
	Fcd
	Fpatchall
	Fautoreconf
	Fmake  --sysconfdir=/etc --localstatedir=/var \
                --exec-prefix=/ --libdir=/usr/lib \
                --bindir=/usr/bin \
		--enable-doxygen-docs \
		--disable-xml-docs \
		--disable-ansi \
		--disable-asserts \
		--disable-tests \
		--with-xml=libxml
	Fmakeinstall
	Fln ../usr/bin/dbus-binding-tool /bin/dbus-binding-tool
}
		
# optimization OK
