# Last Modified: Fri, 10 Feb 2006 16:56:25 +0100
# Compiling Time: 0.34 SBU
# Maintainer: Zsolt Szalai <xbit.lists@chello.hu>
# Contributor: CSÉCSY László <boobaa@ajrg.hu>

pkgname=nmap
pkgver=4.01
pkgrel=1
pkgdesc="A network exploration tool and security scanner"
url="http://www.insecure.org"
depends=('pcre' 'openssl')
makedepends=('gtk+2' 'libpcap')
groups=('network')
archs=('i686' 'x86_64')
up2date="lynx -dump 'http://download.insecure.org/nmap/dist/?M=D'|grep 'nmap-[0-9\.]*tgz$'|sed -n 's/.*-\(.*\)\.tgz/\1/;$ p'"
source=(http://download.insecure.org/$pkgname/dist/$pkgname-$pkgver.tar.bz2)
sha1sums=('91d69ee1658fa3a564b416d96f73296169777bce')

subpkgs=('nmapfe')
subdescs=('GTK+2 frontend for nmap')
subdepends=('gtk+2 nmap')
subgroups=('xapps')
subarchs=('i686 x86_64')

build()
{
	Fbuild --with-libpcre=/usr --with-openssl=/usr/include/openssl \
		--with-libpcap=/usr
	Fsplit nmapfe usr/bin/{nmapfe,xnmap}
	Fsplit nmapfe usr/man/man1/{nmapfe*,xnmap*}
	Fsplit nmapfe usr/share/applications/
}

# optimalization OK
