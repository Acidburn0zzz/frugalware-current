# Last Modified: Thu, 02 Jun 2005 14:22:42 +0000
# Compiling Time: ~9 minutes
# Maintainer: VMiklos <mamajom@axelero.hu>

pkgname=openldap
pkgver=2.2.26
pkgrel=1
pkgdesc="A suite of the Lightweight Directory Access Protocol servers"
url="http://www.openldap.org/"
groups=('network')
archs=('i686' 'x86_64')
backup=(etc/openldap/ldap.conf etc/openldap/slapd.conf)
depends=('db' 'openssl' 'libtool' 'cyrus-sasl')
up2date="lynx -dump http://www.openldap.org/software/download/|grep 'United States'|tr -s ' '|cut -d ' ' -f 6|cut -d ] -f 2"
source=(ftp://ftp.openldap.org/pub/OpenLDAP/openldap-release/$pkgname-$pkgver.tgz rc.slapd)
md5sums=('afc8700b5738da863b30208e1d3e9de8' 'ad7db3b2c58fb4c932e50a342724e0cf')

build()
{
	Fmake --sysconfdir=/etc \
		--localstatedir=/var/openldap --enable-syslog --enable-dynamic \
		--with-readline --with-threads --with-tls --enable-slapd \
		--enable-cleartext --enable-modules --enable-rlookups \
		--enable-wrappers --enable-bdb --enable-slurpd || return 1
	make DESTDIR=$Fdestdir install

	Fln liblber.so /usr/lib/liblber.so.2
	Fln libldap.so /usr/lib/libldap.so.2
	Frcd slapd
}

# vim: ft=sh
