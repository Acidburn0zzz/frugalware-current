# Last Modified: Tue, 25 Oct 2005 18:17:21 +0200
# Compiling Time: ~4 minutes on factory.frugalware.org
# Maintainer: Karoly COVEK <slinky@rei.keni.hu>

pkgname=cyrus-sasl
pkgver=2.1.21
pkgrel=4
pkgdesc="SASL Authentication mechanism"
url="http://ftp.andrew.cmu.edu/pub/cyrus-mail/"
depends=('heimdal' 'gdbm' 'mysql')
groups=('network')
archs=('i686' 'x86_64')
source=(ftp://ftp.andrew.cmu.edu/pub/cyrus-mail/cyrus-sasl-$pkgver.tar.gz \
	$pkgname-$pkgver-gcc4.patch)
up2date="lynx -dump 'http://ftp.andrew.cmu.edu/pub/cyrus-mail/?M=D'|grep cyrus-sasl.*tar.gz$|sed -n 's/.*-\(.*\)\.t.*/\1/;1 p'"
sha1sums=('6449f730c963d29d43600a95373a6e2db52d6d66' \
	  'e469d042df066c37e2ab8eb44d4e889f8f4f0b5a')

[ "$CHROOT" = "1" ] || \
	{
		error "You must build $pkgname in a chroot environment!"
		Fdie
	}

build()
{
	Fbuild --enable-login \
		--enable-sql \
		--enable-plain \
		--disable-anon \
		--with-gdbm=/usr/include/ \
		--with-saslauthd=/var/run/courier || return 1
	Frm /usr/man/cat8

}

# optimalization ok

# vim: ft=sh
