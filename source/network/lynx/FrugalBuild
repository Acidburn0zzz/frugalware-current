# Last Modified: Tue, 27 Dec 2005 19:53:03 +0000
# Compiling Time: ~5 minutes
# Contributor: VMiklos <vmiklos@frugalware.org>
# Maintainer: Zsolt Szalai <xbit.lists@chello.hu>

pkgname=lynx
pkgver=2.8.5
pkgrel=3
pkgdesc="A fully-featured text mode World Wide Web (WWW) client"
url="http://lynx.isc.org/"
groups=('network' 'chroot-core')
archs=('i686' 'x86_64' 'ppc')
depends=('ncurses' 'openssl' 'zlib')
up2date="lynx -dump $url|grep stable|sed -e 's/.*lynx\(.*\)\. .*/\1/' -e 's/-/./g'"
source=(http://lynx.isc.org/release/$pkgname$pkgver.tar.gz \
	ftp://lynx.isc.org/lynx2.8.5/patches/${pkgver}rel.2.patch.gz \
	ftp://lynx.isc.org/lynx2.8.5/patches/${pkgver}rel.3.patch.gz \
	ftp://lynx.isc.org/lynx2.8.5/patches/${pkgver}rel.4.patch.gz \
	ftp://lynx.isc.org/lynx2.8.5/patches/${pkgver}rel.5.patch.gz)
sha1sums=('f999ba2e1550c653527fc50ea1ef01161d1cceed' \
	  'f2f6cf025a11a860ce2af98ef9c3c0cf0699a8ee' \
	  '3df403358d24f2e3ebbe89732710f0e92af0242c' \
	  '69bc5f656d3ab45182541ca86c4631177ec51565' \
	  '8e99778c6cad4681ce5730a27caf2ed33aff1cf6')

build() {
	Fcd $pkgname`echo $pkgver|sed 's/\./-/g'`
	Fpatchall
	# --libdir is needed for config files, not real libraries. So put it those to /etc/lynx
	Fmake --with-ssl=yes --with-zlib --enable-included-msgs --enable-scrollbar \
		--enable-color-style --enable-file-upload --enable-read-eta --enable-cgi-links \
		--enable-libjs --libdir=/etc/lynx
	Fmakeinstall	
}

# vim: ft=sh

# optimalization OK
