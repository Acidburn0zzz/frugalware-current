# Compiling Time: 0.01 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=sedutil
pkgver=1.12
pkgrel=1
pkgdesc="TCG OPAL 2.00 SED Management Program"
archs=('x86_64')
groups=('base-extra')
depends=('ncurses')
_F_github_author="Drive-Trust-Alliance"
_F_github_tag=y
Finclude github
source+=(nvme.patch)
sha1sums=('4dc40e02f5b20c0536832fd6e6fef7dfa03452a8' \
          'e1b34ca05ffd59bb1fbba0be8709c4ff712217e6')

build() {
	Fcd
	Fpatchall

	cd linux/CLI/
	Fexec make CONF=Release_x86_64 build || Fdie
	cd ../../LinuxPBA/
	Fexec make CONF=Release_x86_64 build || Fdie

	Fexe sedutil-$pkgver/linux/CLI/dist/Release_x86_64/GNU-Linux/sedutil-cli usr/bin/sedutil-cli
	Fexe sedutil-$pkgver/LinuxPBA/dist/Release_x86_64/GNU-Linux/linuxpba usr/bin/linuxpba
}
