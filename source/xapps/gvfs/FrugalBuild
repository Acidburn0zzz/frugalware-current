# Compiling time: 0.66 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=gvfs
pkgver=1.2.3
pkgrel=2
pkgdesc="gvfs is a userspace virtual filesystem designed to work with the i/o abstractions of gio."
url="http://www.gnome.org/"
depends=('glib2>=2.20.1' 'dbus' 'avahi-glib' 'avahi' 'hal')
makedepends=('intltool' 'gnome-doc-utils' 'samba' 'fuse' 'libsoup>=2.26.0' 'gconf' \
		'gnome-keyring' 'libcdio' 'gphoto2' 'obexftp' \
		'bluez-libs' 'expat' 'openssh')
groups=('xapps')
archs=('i686' 'x86_64' 'ppc')
Finclude gnome
sha1sums=('c94d52b0bf2fe83d7e26c05ce9d65d240cd57be4')

subpkgs=("gvfs-gconf")
subdescs=('gvfs with gconf support for Gnome')
subdepends=("gvfs=$pkgver gconf")
subgroups=('gnome')
subarchs=('i686 x86_64 ppc')

build(){
	Fcd
	Fsed "libsoup-gnome" "libsoup" configure.ac
	Fsed "soup-gnome.h" "soup.h" daemon/gvfsbackendhttp.c
	Fsed "SOUP_TYPE_PROXY_RESOLVER_GNOME" "SOUP_TYPE_PROXY_RESOLVER" daemon/gvfsbackendhttp.c
	Fautoreconf
	Fbuild
	Fsplit gvfs-gconf /usr/lib/gio/modules/libgiogconf*
}

# optimization OK
