diff --git vcl/unx/source/app/saldisp.cxx vcl/unx/source/app/saldisp.cxx
index 1e0a27e..2bab894 100644
--- vcl/unx/source/app/saldisp.cxx
+++ vcl/unx/source/app/saldisp.cxx
@@ -81,7 +81,7 @@ Status XineramaGetInfo(Display*, int, XRectangle*, unsigned char*, int*);
 #endif
 #endif
 
-#if __XTestExtension__
+#if 0
 #include <X11/extensions/XTest.h>
 #include <X11/extensions/XKB.h>
 #include <X11/XKBlib.h>
@@ -1054,7 +1054,7 @@ void SalDisplay::Beep() const
 
 void SalDisplay::SimulateKeyPress( USHORT nKeyCode )
 {
-#if __XTestExtension__
+#if 0
     if (nKeyCode == KEY_CAPSLOCK)
     {
         XLIB_KeyCode keyCaps = XKeysymToKeycode(GetDisplay(), XK_Caps_Lock);
