# Last Modified: Mon, 02 Oct 2006 14:55:45 +0200
# Compiling Time: 0.80 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=xmms
pkgver=1.2.10
pkgrel=11
pkgdesc="The X MultiMedia System"
url="http://www.xmms.org"
depends=('gtk+' 'libvorbis' 'alsa-lib' 'libmikmod')
makedepends=('esd' 'libglx' 'mesa')
groups=('xapps')
archs=('i686' 'x86_64')
provides=('songplayer')
up2date="lynx -dump http://www.xmms.org/download.php|grep ^XMMS|cut -d ' ' -f 2"
source=(http://www.xmms.org/files/1.2.x/$pkgname-$pkgver.tar.bz2 \
	$pkgname.desktop \
	http://ftp.frugalware.org/pub/other/sources/xmms/xmms-cvs-20061002-backport.patch.bz2 \
	xmms-1.2.10-cvs-fw.patch)
sha1sums=('a3c3d3756d5263183c27b3c50a7f5404cba8bfaf' \
	  'af83776c2704f950957b161b1f408d4e17130c69' \
	  'ba63acfb67663b8d8b2f9ea0035da7279577c895' \
	  '7d5c91904c0c93bc058ead66aac36d955652683b')
[ "$CARCH" == "x86_64" ] && confopts=--disable-simd
[ "$CARCH" != "x86_64" ] && confopts=--enable-simd

build() {
	Fcd
	Fpatchall
	sh autogen.sh || Fdie
	Fmake $confopts
	Fmakeinstall
	Ffile /usr/share/applnk/Multimedia/xmms.desktop
}

# optimization OK
