# Compiling Time: 0.11 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=speech-dispatcher
pkgver=0.8.4
pkgrel=1
pkgdesc="speech-dispatcher speech synthesis interface"
url="http://www.freebsoft.org/speechd"
groups=('xapps')
archs=('i686' 'x86_64')
up2date="Flasttar http://www.freebsoft.org/pub/projects/speechd/"
source=(http://www.freebsoft.org/pub/projects/speechd/$pkgname-$pkgver.tar.gz speechd.service)
makedepends=('intltool' 'pulseaudio')
depends=('dotconf' 'libsndfile' 'libpulse')

subpkgs=("${subpkgs[@]}" "python-speech-dispatcher")
subdescs=("${subdescs[@]}" "python bindings for speech")
subdepends=("${subdepends[@]}" "python3")
subrodepends=("${subrodepends[@]}" "$pkgname=$pkgver")
subgroups=("${subgroups[@]}" 'devel-extra')
subarchs=("${subarchs[@]}" 'i686 x86_64')

Finclude python
sha1sums=('0acef5da6a128f329d0edaaf5cec64e408e534f1' \
          '74e9251a572fb8378137422be89126de84370890')
backup=(etc/speech-dispatcher/speechd.conf)

_F_systemd_units=(speechd=)
Finclude systemd

build() {
	Fcd
	Fbuild

	# python bindings
	Fsplit python-speech-dispatcher $_F_python3_libdir
	Ffile /lib/systemd/system/speechd.service
	Fgenscriptlet
}

# optimization OK
