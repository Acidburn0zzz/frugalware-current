# Compiling Time: 0.78 SBU
# Maintainer: Miklos Vajna <vmiklos@frugalware.org>

pkgname=icedtea-web
pkgver=1.1
pkgrel=1
pkgdesc="Provides a Free Software web browser plugin running applets written in Java."
url="http://icedtea.classpath.org/wiki/IcedTea-Web"
depends=('openjre' 'gtk+2')
makedepends=('openjdk' 'zip' 'xulrunner')
groups=('xapps')
archs=('i686' 'x86_64' 'ppc')
up2date="Flasttar http://icedtea.classpath.org/download/source/"
source=(http://icedtea.classpath.org/download/source/icedtea-web-$pkgver.tar.gz)
sha1sums=('243bc20e26637df5d5b3cd52c60c84e564cd3134')

build()
{
	Fbuild --prefix=/usr/lib/jvm/java-6-openjdk/jre

	if [ "$CARCH" == "i686" ]; then
		_parch="i386"
	elif [ "$CARCH" == "x86_64" ]; then
		_parch="amd64"
	fi
	Fmkdir /usr/lib/mozilla/plugins
	Fln ../../jvm/java-6-opendjk/jre/lib/$_parch/IcedTeaPlugin.so \
		/usr/lib/mozilla/plugins/IcedTeaPlugin.so
}

# optimization OK
