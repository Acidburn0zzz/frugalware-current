# Compiling time: 1.08 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=vte
pkgver=0.27.5
pkgrel=2
pkgdesc="Virtual Terminal Emulator (gtk+2)"
depends=('gtk+2')
rodepends=('vte-data')
makedepends=('gtk-doc>=1.11' 'perl-xml-parser' 'intltool')
groups=('xapps')
archs=('i686' 'x86_64' 'ppc')
_F_gnome_glib="y"
Finclude gnome gnome-scriptlet
unset install
sha1sums=('f64b9ebbb9bdb9464a1fbb36f926f4a9fc22b0a6')
Fconfopts="$Fconfopts --disable-gtk-doc"

subpkgs=('vte-python')
subdescs=('Python bindings for VTE')
subdepends=("pygtk>=2.22.0")
subrodepends=("$pkgname=$pkgver")
subgroups=('xlib-extra')
subarchs=('i686 x86_64 ppc')
subinstall=("${subinstall[@]}" "")

subpkgs=("${subpkgs[@]}" 'vte3')
subdescs=("${subdescs[@]}" 'Virtual Terminal Emulator (gtk+3)')
subrodepends=("${subrodepends[@]}" "vte-data")
subdepends=("${subdepends[@]}" "gtk+3")
subgroups=("${subgroups[@]}" 'xapps')
subarchs=("${subarchs[@]}" 'i686 x86_64 ppc')
subinstall=("${subinstall[@]}" "")

subpkgs=("${subpkgs[@]}" 'vte-data')
subdescs=("${subdescs[@]}" 'vte-data')
subrodepends=("${subrodepends[@]}" "")
subdepends=("${subdepends[@]}" "")
subgroups=("${subgroups[@]}" 'lib')
subarchs=("${subarchs[@]}" 'i686 x86_64 ppc')
subinstall=("${subinstall[@]}" "$_F_gnome_scriptlet")

build() {
	Fbuild --with-gtk=3.0 --disable-python
	Frm usr/share/glib-2.0/schemas/org.gnome.vte.v0.enums.xml
	Frm usr/libexec/gnome-pty-helper
	Fsplit vte3 usr
	Fbuild --with-gtk=2.0 --enable-python
	Fsplit vte-python usr/lib/python*
	Fsplit vte-data usr/share/glib-2.0/schemas/org.gnome.vte.v0.enums.xml
	Fsplit vte-data usr/libexec/gnome-pty-helper
	Fbuild_gnome_scriptlet
}

# optimization OK
