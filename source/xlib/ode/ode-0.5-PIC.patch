--- ode-0.5/ode/src/timer.cpp
+++ ode-0.5/ode/src/timer.cpp
@@ -117,9 +117,11 @@ static inline void getClockCount (unsign
 static inline void serialize()
 {
   asm volatile (
+	"mov %%ebx,%%edi\n"
 	"mov $0,%%eax\n"
 	"cpuid\n"
+	"mov %%edi,%%ebx\n"
-	: : : "%eax","%ebx","%ecx","%edx","cc","memory");
+	: : : "%eax","%edi","%ecx","%edx","cc","memory");
 }
 
 
