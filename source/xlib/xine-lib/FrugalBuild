# Last Modified: Wed, 27 Jul 2005 21:22:23 +0200
# Compiling Time: 2.82 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=xine-lib
pkgver=1.1.0
pkgrel=2
pkgdesc="Xine multimedia playback engine libraries"
url="http://www.xinehq.de/"
depends=('flac' 'libtheora' 'imagemagick' 'libmng' 'libvorbis' 'faad2' 'libogg')
makedepends=('arts' 'esd' 'sdl')
groups=('xlib')
archs=('i686' 'x86_64')
preup2date=`lynx -dump http://xinehq.de/index.php/releases|grep xine-lib-|sed -n 's/.*b-\(.*\)\.t.*/\1/;1 p'`
up2date="echo $preup2date|sed 's/-//'"
source=(http://dl.sourceforge.net/sourceforge/xine/$pkgname-$pkgver.tar.gz)
sha1sums=('2bdf88d6aa39720368c54f9cbcfe1e58a23b7e30')
[ "$CARCH" == "x86_64" ] && source=(${source[@]} 07_all_vidix64.patch)
[ "$CARCH" == "x86_64" ] && sha1sums=(${sha1sums[@]} 'e55c1ec2c286f877fd0f462fab120cffdc2d7f29')

build () {
	Fcd
	[ "$CARCH" == "x86_64" ] && Fpatch 07_all_vidix64.patch
	[ "$CARCH" == "x86_64" ] && autoconf
	export CFLAGS="$CFLAGS -UHAVE_MMX"
	Fmake --enable-ipv6 --with-internal-vcdlibs
	Fmakeinstall
}

# optimalization ok

# vim: ft=sh
