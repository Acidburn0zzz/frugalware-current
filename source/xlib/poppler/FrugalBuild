# Last modified: Thu, 02 Mar 2006 11:58:00 +0100
# Compiling time: 0.89 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>
# Old Maintainer: Krisztian VASAS <iron@frugalware.org>

pkgname=poppler
pkgver=0.5.1
pkgrel=1
pkgdesc="A PDF rendering library"
url="http://poppler.freedesktop.org/"
depends=('libxext' 'fontconfig' 'libstdc++' 'cairo' 'libjpeg' 'libxrender' 'libpng')
makedepends=('qt' 'gtk+2' 'gtk-doc')
groups=('xlib')
archs=('i686' 'x86_64')
up2date="lynx -dump http://poppler.freedesktop.org/releases.html|grep tar.gz|sed -n 's/.*-\(.*\)\.t.*/\1/;1 p'"
source=(http://poppler.freedesktop.org/$pkgname-$pkgver.tar.gz \
	01-poppler.conf)
sha1sums=('8d654a0f8eb6ad8c8cb08ced24a06f1f5b13c711' \
	  'a048348d9a8c6d545714350d3ab66dc7028e4b7f')

subpkgs=('poppler-glib' 'poppler-qt' 'poppler-pdftools')
subdescs=('Poppler glib/GTK+ bindings' 'Poppler QT bindings' 'poppler xpdf tools')
subgroups=('gnome' 'kde' 'xapps')
subdepends=('poppler pango gtk+2' 'poppler qt' 'poppler')
subarchs=('i686 x86_64' 'i686 x86_64' 'i686 x86_64')

build()
{
	Fbuild --enable-a4-paper --enable-qt --enable-gtk-doc --enable-xpdf-headers \
		--enable-zlib
	Ffile 01-poppler.conf etc/fonts/conf.d/01-poppler.conf
	Fsplit poppler-pdftools usr/bin/*
	Fsplit poppler-pdftools usr/man/man1/*
	Fsplit poppler-glib usr/lib/libpoppler-glib*
	Fsplit poppler-glib usr/include/poppler/glib/
	Fsplit poppler-glib usr/lib/pkgconfig/poppler-glib.*
	Fsplit poppler-qt usr/lib/libpoppler-qt*
	Fsplit poppler-qt usr/lib/pkgconfig/poppler-qt.*
	Fsplit poppler-qt usr/include/poppler/poppler-qt.h
}

# optimalization OK

# vim: ft=sh
