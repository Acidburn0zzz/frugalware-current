# Compiling Time: 64.56 SBU
# Maintainer: Marius Cirsta <mcirsta@frugalware.org>

## TODO: split designer and friends..

pkgname=qt5-tools
pkgver=5.7.0
pkgrel=3
depends=('qt5-declarative>=5.7.0-2' 'qt5-location>=5.7.0-2')
rodepends+=('qt5-qdbus>=5.7.0') ## for now
Finclude qt5
replaces=('qt5-assistant' 'qt5-linguist' 'qt5-designer' 'libqt5clucene' 'libqt5designer' 'libqt5help' 'libqt5uitools')
conflicts=("${replaces[@]}")
provides=("${replaces[@]}")
source+=(assistant5.desktop designer5.desktop linguist5.desktop qdbusviewer5.desktop)
sha1sums=('235287cc39426e99e6870e63951f7db9a285ad0c' \
          '15b11bddc29c04f88aeb43b3e171c1ce0e4fe0d0' \
          '68a95ff739822a6e43c43614d2318b72b773b928' \
          '191d1bd28e155b58f1d934ecd31319b95e6e2332' \
          'd4ec540c47602959047a2915cf8c5053707af022')

subpkgs=("qt5-qdbus")
subdescs=('D-Bus tools for qt5')
subdepends=("qt5-base>=5.7.0-2")
subrodepends=("dbus-x11")
subgroups=('xlib')
subarchs=("x86_64")

build()
{
	build_qt5
	Ffile /usr/share/applications/linguist5.desktop
	Ffile $_F_cd_path/src/linguist/linguist/images/icons/linguist-32-32.png /usr/share/pixmaps/linguist5.png
	Ffile /usr/share/applications/designer5.desktop
	Ffile $_F_cd_path/src/designer/src/designer/images/designer.png /usr/share/pixmaps/designer5.png
	Ffile /usr/share/applications/assistant5.desktop
	Ffile $_F_cd_path/src/assistant/assistant/images/assistant.png /usr/share/pixmaps/assistant5.png
	Ffile /usr/share/applications/qdbusviewer5.desktop
	Ffile $_F_cd_path/src/qdbus/qdbusviewer/images/qdbusviewer.png /usr/share/pixmaps/qdbusviewer5.png

	### breaks to much apps
	Fln /usr/lib/qt5/bin/qtpaths /usr/bin/qtpaths

	Fsplit qt5-qdbus usr/share/applications/qdbusviewer5.desktop
	Fsplit qt5-qdbus usr/share/pixmaps/qdbusviewer5.png
	Fsplit qt5-qdbus usr/bin/qdbus*
	Fsplit qt5-qdbus usr/lib/qt5/bin/qdbus*
}


# optimization OK
