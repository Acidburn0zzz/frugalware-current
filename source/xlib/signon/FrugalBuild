# Compiling Time: 0.20 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=signon
pkgver=8.58
pkgrel=3
pkgdesc="Framework to provide credential storage and authentication service."
depends=('qt5-base' 'libproxy' 'qt5-qdbus')
makedepends=('doxygen' 'graphviz' 'qt5-tools' 'x11-protos')
groups=('xlib')
archs=('i686' 'x86_64')
url="https://gitlab.com/accounts-sso/signond"
_F_scm_type="git"
_F_scm_url="https://gitlab.com/accounts-sso/signond.git"
_F_scm_tag="VERSION_$pkgver"
Finclude scm

build() {
	Funpack_scm
	Fcd
	Fsed 'qdbusxml2cpp' 'qdbusxml2cpp-qt5' src/signond/signond.pro
	qmake-qt5 PREFIX="$Fprefix" LIBDIR="$Fprefix/lib"
	Fmake
	Fmakeinstall INSTALL_ROOT="$Fdestdir"
	Frm usr/share/doc/*/html
}

# optimization OK
