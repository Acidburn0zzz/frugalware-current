# Compiling Time: 4.48 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=signon-plugin-oauth2
pkgver=0.23
pkgrel=1
pkgdesc="Oauth2 plugin for signon"
groups=('xlib')
archs=('i686' 'x86_64')
depends=('signon>=8.58-2')
makedepends=('qt5-base')
url="https://gitlab.com/accounts-sso/signon-plugin-oauth2"
up2date="$pkgver"
source=( https://gitlab.com/accounts-sso/signon-plugin-oauth2/repository/archive.zip)
sha1sums=('8610681fc81087c2823ea238239cec65ad8a35d8')

build(){

	Fcd signon-plugin-oauth2-master-4016f3fb4d0bd6786ab0f56e840eddca8666131b
	Fsed 'lib64' 'lib' common-project-config.pri
	qmake-qt5 || Fdie
	make || Fdie
	make INSTALL_ROOT=$Fdestdir install || Fdie
	Frm etc/signon-ui/webkit-options.d/www.facebook.com.conf ## conflicts with kaccounts-providers but this is bad
}

# optimization OK
