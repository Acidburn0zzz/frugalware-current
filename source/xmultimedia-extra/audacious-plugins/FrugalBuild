# Compiling Time: 0.37 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=audacious-plugins
pkgver=1.2.5
pkgrel=1
pkgdesc="Plugins for audacious."
url="http://audacious-media-player.org/"
depends=('libsidplay' 'libnotify' 'openssl' 'curl>=7.16.0' 'dbus-glib' 'sdl' 'libmpcdec' \
	 'audacious>=1.2.2' 'faad2' 'flac' 'libvorbis' 'wavpack')
makedepends=('jack' 'arts' 'esd' 'libsamplerate')
groups=('xmultimedia-extra')
archs=('i686' 'x86_64')
options=('scriptlet')
up2date="lynx -dump 'http://audacious-media-player.org/Downloads'|grep -m1 'audacious-plugins-\(.*\).tgz'|sed 's/.*ins-\(.*\).t.*/\1/'"
source=(http://audacious-media-player.org/release/$pkgname-$pkgver.tgz)
sha1sums=('daa5df222e982f1a56115c455c1289b21f48f264')

subpkgs=("audacious-plugin-arts" "audacious-plugin-esd" "audacious-plugin-jack")
subdescs=('Audacious arts output plugin' 'Audacious esd output plugin' 'Audacious jack output plugin')
subdepends=("$pkgname=$pkgver arts" "$pkgname=$pkgver esd" "$pkgname=$pkgver libsamplerate jack")
subgroups=('xmultimedia-extra' 'xmultimedia-extra' 'xmultimedia-extra')
subarchs=('i686 x86_64' 'i686 x86_64' 'i686 x86_64')

build()
{
	Fbuild \
		--enable-chardet --enable-ipv6 --disable-dependency-tracking \
		--disable-lirc --disable-amidiplug-flsyn
	Fsplit audacious-plugin-arts usr/lib/audacious/Output/libarts.so
	Fsplit audacious-plugin-arts usr/bin/audacious-arts-helper
	Fsplit audacious-plugin-esd usr/lib/audacious/Output/libESD.so
	Fsplit audacious-plugin-jack usr/lib/audacious/Output/libjackout.so
}

# optimalization OK
