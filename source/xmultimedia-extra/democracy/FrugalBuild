# Compiling Time: 0.16 SBU
# Maintainer: Priyank Gosalia <priyankmg@gmail.com>

pkgname=democracy
pkgver=0.9.6
pkgrel=1
pkgdesc="The free and open source internet TV platform."
url="http://www.getdemocracy.com/"
depends=('gtk+2' 'pygtk' 'dbus-python' 'pyrex' 'boost' 'xine-lib' \
	'nss' 'nspr' 'xulrunner' 'gnome-python-extras' 'gnome-python-extras-mozembed')
groups=('xmultimedia-extra')
archs=('i686')
up2date="lynx -dump http://ftp.osuosl.org/pub/pculture.org/$pkgname/src/ | grep 'Democracy' | Flasttar"
source=(http://ftp.osuosl.org/pub/pculture.org/$pkgname/src/Democracy-$pkgver.tar.gz \
	qt-mt.pc dbus_python0.8_fixes.patch)
_F_cd_path="Democracy-$pkgver"
sha1sums=('30d3442f696af67f902dd87758a64436730b9eb9' \
          '153e1902352eb4d724ec816b8097f01830178181' \
          'baed01f46d5606f106d01c573c9cbdf94044e961')


build()
{
	Fcd
	Fpatchall
	PKG_CONFIG_PATH=$PKG_CONFIG_PATH:$Fsrcdir
	cd platform/gtk-x11
	Fsed 'boost_python' 'boost_python-gcc42-mt' setup.py
	python setup.py install --root=$Fdestdir || Fdie
}

# optimization OK
