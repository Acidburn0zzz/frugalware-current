# Compiling Time: 0.03 SBU
# Maintainer: Priyank Gosalia <priyankmg@gmail.com>

pkgname=slim
pkgver=1.3.3
pkgrel=2
pkgdesc="SLiM is a lightweight, Desktop-independent graphical login manager for X11."
depends=('libxml2>=2.7.8' 'libpng' 'libjpeg' 'consolekit-x11')
makedepends=('libx11>=1.2.2-1' 'libxft' 'libxmu' 'pam')
rodepends=('xorg-server>=1.6.1-8')
groups=('xfce4')
archs=('i686' 'x86_64')
backup=('etc/slim.conf')
Finclude berlios cmake
up2date="Flasttar http://slim.berlios.de/"
source=(${source[@]} \
	slim.conf \
	slim.install \
        pam.d \
        logrotate \
	slim-tmpfiles.conf \
	15287-fix-pam-authentication-with-pam_unix2.patch \
	405579-fix-numlock.patch \
	http://ftp.frugalware.org/pub/other/artwork/slim-theme/frugalware-1.6.tar.bz2)

sha1sums=('791635fc13ec859ed3be8bf1eb2ce0ba2bb3f155' \
          'b172c8c55c3eba0b0052ff6e34e3dac7d9ff798f' \
          'a17849f628f4f74cf1bd48eea21a144f2f1a274d' \
          '93c26670a5046602c9d0e91960c463f11a383281' \
          'b969cc902c1d9915a5609141a652c77b2732407b' \
          'cdca8b856049c2e6baeca7ac45b2e5573e8ad6e2' \
          'e17c582fe0cc1d2a07e51d410db2d61c11aba4c6' \
          'd043c6870bd83df554f8a0304d34348113ebbed1' \
          '644712d038ef637ceab7e158e3f8fae98561bf31')

build()
{
	Fcd
	CMake_build -DUSE_PAM=yes -DUSE_CONSOLEKIT=yes
	Finstall 644 pam.d etc/pam.d/slim
	Finstall 644 logrotate etc/logrotate.d/slim
	Finstall 644 slim-tmpfiles.conf /etc/tmpfiles.d/slim.conf
	Fcpr frugalware /usr/share/slim/themes/frugalware
	Fcpr slim.conf /etc/slim.conf
}

# optimization OK
