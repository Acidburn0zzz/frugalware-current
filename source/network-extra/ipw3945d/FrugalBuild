# Compiling Time: 0.01 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=ipw3945d
pkgver=1.7.22
pkgrel=4
pkgdesc="Intel PRO/Wireless 3945ABG Network Connection Regulatory Daemon"
url="http://www.bughost.org/ipw3945/"
depends=('glibc')
groups=('network-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump $url|grep ipw3945d-|sed 's/.*-\(.*\)\.t.*/\1/;q'"
source=($url/daemon/$pkgname-$pkgver.tgz rc.$pkgname rc.$pkgname-hu.po ipw3945-add ipw3945-rem)
sha1sums=('516affb782716847154d7387bc057e7644ff1dd2' \
	  '26e2846c5e6c34cea54ec0d176f31f18de85e730' \
	  '91cb6d5a6737fb5904d29675ce2a65d2ad49b127' \
	  '4a3289ce645e3a0a2c37bbe5c1253fb0a5ad6540' \
	  '091bf386d25404e284f77a2c232a6bb50b9fed7a')

build()
{
	Fcd
	if [ "$CARCH" == "i686" ]; then
		cd x86
	elif [ "$CARCH" == "x86_64" ]; then
		cd x86_64
	else
		return 1
	fi
	Fexerel /sbin/ipw3945d
	Fmkdir /var/run/ipw3945d
	Fmkdir /etc/modprobe.d
	Ffile /etc/modprobe.d/ipw3945-add
	Ffile /etc/modprobe.d/ipw3945-rem
	Frcd2 $pkgname
}
