# Compiling Time: 0.33 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=connman
pkgver=1.31
pkgrel=2
url="http://connman.net/"
pkgdesc="open source connection manager"
up2date="Flasttar http://www.kernel.org/pub/linux/network/connman/"
source=(http://www.kernel.org/pub/linux/network/$pkgname/$pkgname-$pkgver.tar.gz \
	allow_group_netdev.diff git-fixes.patch polkit.pc-files.patch)
depends=('wpa_supplicant' 'dhclient>=4.3.3' 'polkit' 'libsystemd>=229' 'ppp>=2.4.7-2' 'wireless_tools' \
       'iptables>=1.6.0' 'openvpn>=2.3.10' 'gnutls>=3.4.2')
makedepends=('systemd>=229' 'bluez>=5.37-2')
groups=('network-extra')
archs=('i686' 'x86_64')
replaces=("connman-gnome")
sha1sums=('71638c23bf0c53b7afeafc43a94a27612c952a6d' \
          'c9dd34f11a2d9313152171e60f2775c95b47e323' \
          '50c41f8939677f04891a94d893c2ffe9b0ffc879' \
          'bdbfcb68349a34b497aec209dd326f54a421ee6a')

Fconfopts+=" \
		--sysconfdir=/etc \
		--localstatedir=/var \
		--enable-hh2serial-gps\
		--enable-openvpn \
		--enable-l2tp \
		--enable-pptp \
		--enable-iospm \
		--enable-tist  \
		--enable-session-policy-local \
		--enable-nmcompat \
		--enable-polkit --enable-bluetooth"

build() {

	Fcd
	Fpatchall
	Fautoreconf
	Fmake
	Fmakeinstall
}

# optimization OK
