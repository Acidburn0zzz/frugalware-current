# Compiling Time: 2.23 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=networkmanager
_F_gnome_name=NetworkManager
pkgver=0.8.2
pkgrel=2
pkgdesc="Network Management daemon"
depends=('wireless_tools' 'hal' 'iproute2' 'dhcpcd>=5.1.3' 'nss' \
	'libnl' 'ppp' 'wpa_supplicant' 'iptables' 'polkit' 'libgudev')
makedepends=('perl-xml-parser' 'intltool')
groups=('network-extra')
archs=('i686' 'x86_64' 'ppc')
Finclude gnome

backup=('etc/NetworkManager/nm-system-settings.conf')
source=($source \
	nm-system-settings.conf \
	dbus-acces.diff NetworkManager.service)
sha1sums=('2c9a9f0317d2ad4fd8a05631211cfd6040070f8e' \
          '49ba558d20f5ca5a201e027e13b878dd5ac3569c' \
          '7cfbc5ae73f64ec47fade7b089535c7acbe1eb3e' \
          '7a78298c316baf43f897aca3116a3b1d99dc4e1d')
_F_cd_path=$_F_gnome_name-$pkgver

build() {
	Fpatchall
	Fautoreconf
	Fmake --with-distro=frugalware --with-crypto=nss --with-dhcp-client=dhcpcd
	Fmakeinstall
	Fmkdir etc/NetworkManager/system-connections
	Fmkdir var/run/NetworkManager
	Fmkdir etc/NetworkManager/dispatcher.d
	Fmkdir etc/NetworkManager
	Fcp nm-system-settings.conf etc/NetworkManager/nm-system-settings.conf
	Fmkdir etc/systemd/system/
	Fcp NetworkManager.service etc/systemd/system/
}

# optimization OK
