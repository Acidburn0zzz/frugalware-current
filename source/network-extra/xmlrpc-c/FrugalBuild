# Compiling Time: 0.31 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=xmlrpc-c
pkgver=1.07.00
pkgrel=2
pkgdesc="This library provides a modular implementation of XML-RPC for C and C++."
url="http://xmlrpc-c.sourceforge.net/"
depends=('curl>=7.16.0' 'libstdc++' 'libxml2')
groups=('network-extra')
archs=('i686')
up2date="lynx -dump 'http://prdownloads.sourceforge.net/xmlrpc-c/?sort_by=date'|grep '.tgz'|sort -r|head -n 1|sed -e 's|.*/||g' -e 's/.*-c-\(.*\).tgz.*/\1/'"
source=(http://heanet.dl.sourceforge.net/sourceforge/$pkgname/$pkgname-$pkgver.tgz \
	no-O3s-thx.patch \
	use-fPIC-x86_64.patch \
	wont_work_this_way.patch)
sha1sums=('0645cc82fe7922bd82809c62096596e7171b8d94' \
          '74fa3a548767ed47010100a636b7159158dd5102' \
          '6e0ddecbd3dd2e8d415a240ab0a9d00df59d22eb' \
          '1df78eef7508109ccd4b593bc96ce7d3eb152be7')

build()
{
	Fcd
	Fpatchall
	Fconf \
		--enable-libxml2-backend  \
		--disable-wininet-client \
		--disable-libwww-client \
		
	make CFLAGS_PERSONAL="${CFLAGS}" || Fdie
	Fmakeinstall
}

# optimization OK
