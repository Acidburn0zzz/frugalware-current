# Last Modified: Mon, 14 Aug 2006 18:14:51 +0200
# Compiling Time: ~0.21 SBU
# Contributor: Kitoy <archri@no-log.org>
# Maintainer: voroskoi <voroskoi@frugalware.org>

pkgname=weechat
pkgver=0.1.9
pkgrel=3
pkgdesc="IRC client in ncurses interfaces"
url="http://weechat.flashtux.org/"
depends=('libtasn1' 'ncurses' 'libgcrypt' 'gnutls')
makedepends=('ruby')
groups=('network-extra')
archs=('i686' 'x86_64')
license="GPL2"
up2date=("lynx -dump http://download.flashtux.org/index.php |grep weechat.*.tar.bz2 |sed -ne 's/.*t-\(.*\).t.*/\1/;1 p'")
source=(http://weechat.flashtux.org/download/$pkgname-$pkgver.tar.gz \
	http://frugalware.org/~voroskoi/weechat/hu.po \
	weechat_beep_on_highlight.diff)
sha1sums=('b0d64c27ae8c89d072a87f56526690903d3afdd5' \
	'20e22ded1717f9db552a00f8643949f80106eb08' \
	'96a2bdc3ae9de62fad3397a9408212317cd6b877')

build() {
	mv $Fsrcdir/hu.po $Fsrcdir/$pkgname-$pkgver/po/ || Fdie
	msgfmt $Fsrcdir/$pkgname-$pkgver/po/hu.po -o $Fsrcdir/$pkgname-$pkgver/po/hu.gmo
	Fbuild --enable-ncurses \
		--disable-gtk \
		--disable-qt \
		--enable-perl \
		--enable-python \
		--enable-ruby \
		--enable-gnutls \
		--enable-nls \
		--with-gnu-ld
	Fln /usr/bin/weechat-curses /usr/bin/weechat
}

# optimization OK
