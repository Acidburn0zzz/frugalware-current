--- adm8211/adm8211_hw.c.orig	2007-07-10 15:43:39.000000000 +0200
+++ adm8211/adm8211_hw.c	2007-07-10 15:44:47.000000000 +0200
@@ -516,7 +516,7 @@
 		ieee->stats.rx_packets++;
 
 		skb->pkt_type = PACKET_OTHERHOST;
-		skb->mac.raw = skb->data;
+		skb_reset_mac_header(skb);
 
 		netif_rx(skb);
 		dev->last_rx = jiffies;
@@ -734,7 +734,7 @@
 #endif
 			stat->rssi = rssi;
 			stat->rate = rate;
-			skb->mac.raw = skb->data;
+			skb_reset_mac_header(skb);
 			skb->protocol = __constant_htons(ETH_P_802_2);
 			skb_queue_tail(&priv->rx_queue, skb);
 			tasklet_schedule(&priv->rx_tasklet);
@@ -2392,7 +2392,7 @@
 
 int adm8211_80211_header_parse(struct sk_buff *skb, unsigned char *haddr)
 {
-	memcpy(haddr, skb->mac.raw + 10 + sizeof(struct avs_caphdr), ETH_ALEN); /* addr2 */
+	memcpy(haddr, skb->mac_header + 10 + sizeof(struct avs_caphdr), ETH_ALEN); /* addr2 */
 	return ETH_ALEN;
 }
 
