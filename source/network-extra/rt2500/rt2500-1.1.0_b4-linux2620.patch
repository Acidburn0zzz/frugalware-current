http://rt2400.cvs.sourceforge.net/rt2400/source/rt2500/Module/rtmp_init.c?r1=1.30&r2=1.31&view=patch
--- Module/rtmp_init.c	2006/06/16 07:07:25	1.30
+++ Module/rtmp_init.c	2007/01/20 21:12:59	1.31
@@ -916,7 +916,13 @@
 	DBGPRINT(RT_DEBUG_TRACE, "<-- NICInitAsicFromEEPROM\n");
 }
 
+#if (LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,20))
+extern VOID MlmeWork(struct work_struct *work);
+#else 
 extern VOID MlmeWork(void *vpAd);
+#endif
+    
+extern VOID MlmeWork(struct work_struct *work);
 
 void NICInitializeAdapter(IN    PRTMP_ADAPTER   pAdapter)
 {
@@ -974,7 +980,9 @@
     // Initialze ASIC for TX & Rx operation
     NICInitializeAsic(pAdapter);
 
-#if (LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,0))
+#if (LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,20))
+    INIT_WORK(&pAdapter->mlme_work, MlmeWork);
+#elif (LINUX_VERSION_CODE >= KERNEL_VERSION(2,6,0))
     INIT_WORK(&pAdapter->mlme_work, MlmeWork, (void*)pAdapter);
 #endif
     DBGPRINT(RT_DEBUG_TRACE, "<-- NICInitializeAdapter\n");
