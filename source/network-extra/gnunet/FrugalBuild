# Compiling Time: 0.80 SBU
# Maintainer: Devil505 <devil505linux@gmail.com>

pkgname=gnunet
pkgver=0.8.0c
pkgrel=1
pkgdesc="A framework for secure peer-to-peer networking"
url="http://gnunet.org"
depends=('libextractor' 'bzip2' 'libgcrypt' 'guile' 'sqlite3' 'curl' 'libglade' 'libxfixes')
makedepends=('gettext' 'pkgconfig')
groups=('network-extra')
archs=('i686' 'x86_64')
_F_rcd_name="$pkgname"
backup=(etc/gnunet.conf)
_F_archive_name="GNUnet"
up2date="Flasttar $url/download.php3"
source=($url/download/$_F_archive_name-$pkgver.tar.bz2 \
	rc.gnunet \
	gnunet.sysconfig)
sha1sums=('71e832ce5cd54df4b899f9417e20ef018b004be4' \
          'e9d56ea5282d26cee9b6de7a11e2c4669fd9055a' \
          '18bb609bb4803dfbd38bd55ee7db096470b30b2f')

build() {
	Fcd $_F_archive_name-$pkgver
	Fconf --without-mysql
	Fmake
	Fmakeinstall
	Frm usr/include/libltdl
	Frm usr/lib/libltdl.*
	Frm usr/include/ltdl.h
	Fmkdir /etc/sysconfig
	Ffile gnunet.sysconfig /etc/sysconfig/gnunet
	Frcd2 gnunet
}

# optimization OK
