# Compiling time: 0.37 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=gconf
_F_gnome_name=GConf
pkgver=2.22.0
pkgrel=1
pkgdesc="A configuration database system for GNOME"
url="http://www.gnome.org/"
depends=('orbit2>=2.14.12' 'gtk+2>=2.12.9' 'libxml2')
makedepends=('indent' 'gtk-doc>=1.9' 'openldap' 'perl-xml-parser')
groups=('gnome' 'gnome-minimal')
archs=('i686' 'x86_64')
Finclude gnome
source=(${source[@]} gconf-2.16.0-reload.patch gconf-2.22.0-automagic-ldap.patch)
sha1sums=('2a9ca649ef58394e425a030dc99b863b499a8a56' \
          'c51bd437b495af6b25aff143a45c0b93a4afc236' \
          'd2865965e13622bb5139ada69de8707486a8a744')

subpkgs=('gconf-ldap')
subdescs=('Gconf LDAP support modules')
subdepends=('gconf libldap')
subgroups=('gnome')
subarchs=('i686 x86_64')

build() {
	Fcd GConf-$pkgver
	Fpatchall
	Fmake --enable-gtk-doc --enable-debug=no
	Fmakeinstall
	Fsplit gconf-ldap /etc/gconf/2/evoldap.conf
	Fsplit gconf-ldap usr/lib/GConf/2/libgconfbackend-evoldap.*
	Fsplit gconf-ldap /usr/share/GConf/schema/evoldap.schema
}

# optimization OK
