# Compiling time: 1.98 SBU
# Maintainer: Baste <baste@frugalware.org>
# Contributor: bouleetbil <bouleetbil@frogdev.info>

pkgname=evince
pkgver=3.22.0
pkgrel=1
pkgdesc="A document viewer for GNOME"
depends=('gtk+3>=3.22.0' 'libsecret>=0.18.5-2' 'gsettings-desktop-schemas>=3.22.0' \
	'djvulibre>=3.5.27-4' 'libspectre>=0.2.8-2' 'libgxps>=0.2.3.2-3' 't1lib>=5.1.2-4' \
	'poppler-glib>=0.47.0-2' 'texlive-kpathsea>=20160523-4')
makedepends=('itstool>=2.0.2-3' 'intltool>=0.51.0-4' 'nautilus>=3.22.0' 'gobject-introspection>=1.50.0' 'texlive>=20160523-4')
replaces=('gpdf')
groups=('gnome')
archs=('i686' 'x86_64')
_F_gnome_glib="y"
_F_gnome_iconcache="y"
_F_gnome_desktop="y"
_F_gnome_ext=".tar.xz"
_F_gnome_doc="y"
_F_gnome_devel="n"
Finclude gnome gnome-scriptlet
url="http://www.gnome.org/projects/evince/"
sha1sums=('e4d4ea98eca3e45d0c7098197a860bbefd7fc5a4')
Fconfopts+=" --disable-static --enable-introspection --enable-comics=yes \
        --enable-dvi=yes \
        --enable-djvu=yes \
        --enable-xps=yes \
	--enable-pdf=yes \
        --enable-t1lib=yes"

subpkgs=('evince-nautilus')
subdescs=('Evince plugin for Nautilus')
subdepends=("nautilus>=3.22.0")
subrodepends=("$pkgname=$pkgver")
subgroups=('gnome')
subarchs=('x86_64 i686')
subreplaces=('')
subprovides=('')


build() {
	Fbuild

	# evince-nautilus package
        Fsplit evince-nautilus usr/lib/nautilus/

	Fbuild_gnome_scriptlet
}

# optimization OK
