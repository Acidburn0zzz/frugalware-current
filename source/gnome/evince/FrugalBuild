# Compiling time: 1.98 SBU
# Maintainer: Baste <baste@frugalware.org>
# Contributor: bouleetbil <bouleetbil@frogdev.info>

pkgname=evince
pkgver=3.20.1
pkgrel=2
pkgdesc="A document viewer for GNOME"
depends=('gtk+3>=3.20.0' 'libsecret>=0.18.5' 'gsettings-desktop-schemas>=3.20.0' \
	'djvulibre>=3.5.27-3' 'libspectre>=0.2.7-2' 'libgxps>=0.2.3.2-3' 't1lib>=5.1.2-4' \
	'poppler-glib>=0.46.0-1' 'texlive-kpathsea>=20150523-6')
makedepends=('itstool>=2.0.2-3' 'intltool>=0.51.0-2' 'nautilus>=3.20.0' 'gobject-introspection>=1.48.0' 'texlive>=20150523-6')
replaces=('gpdf')
groups=('gnome')
archs=('i686' 'x86_64')
_F_gnome_glib="y"
_F_gnome_iconcache="y"
_F_gnome_desktop="y"
_F_gnome_ext=".tar.xz"
_F_gnome_doc="y"
_F_gnome_devel="n"
Finclude gnome gnome-scriptlet
url="http://www.gnome.org/projects/evince/"
sha1sums=('eab33bc1db02ca0099c4594b08ff1ddfb44996dd')
Fconfopts+=" --disable-static --enable-introspection --enable-comics=yes \
        --enable-dvi=yes \
        --enable-djvu=yes \
        --enable-xps=yes \
	--enable-pdf=yes \
        --enable-t1lib=yes"

subpkgs=('evince-nautilus')
subdescs=('Evince plugin for Nautilus')
subdepends=("nautilus>=3.20.0")
subrodepends=("$pkgname=$pkgver")
subgroups=('gnome')
subarchs=('x86_64 i686')
subreplaces=('')
subprovides=('')


build() {
	Fbuild

	# evince-nautilus package
        Fsplit evince-nautilus usr/lib/nautilus/

	Fbuild_gnome_scriptlet
}

# optimization OK
