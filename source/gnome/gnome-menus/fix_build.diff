From ecb47adb12c8ec9a3998efa96656dfedfe002525 Mon Sep 17 00:00:00 2001
From: Vincent Untz <vuntz@gnome.org>
Date: Mon, 29 Aug 2011 06:43:26 +0000
Subject: libmenu: Fix build failure with --enable-debug

gmenu_tree_entry_get_name() was still being used.

https://bugzilla.gnome.org/show_bug.cgi?id=656714
---
diff --git a/libmenu/gmenu-tree.c b/libmenu/gmenu-tree.c
index bb7a5e6..f580af0 100644
--- a/libmenu/gmenu-tree.c
+++ b/libmenu/gmenu-tree.c
@@ -3675,7 +3675,7 @@ preprocess_layout_info_subdir_helper (GMenuTree          *tree,
 
           menu_verbose ("Inline aliasing '%s' to '%s'\n",
                         item->type == GMENU_TREE_ITEM_ENTRY ?
-                          gmenu_tree_entry_get_name (GMENU_TREE_ENTRY (item)) :
+                          g_app_info_get_name (G_APP_INFO (gmenu_tree_entry_get_app_info (GMENU_TREE_ENTRY (item)))) :
                           (item->type == GMENU_TREE_ITEM_DIRECTORY ?
                              gmenu_tree_directory_get_name (GMENU_TREE_DIRECTORY (item)) :
                              gmenu_tree_directory_get_name (GMENU_TREE_ALIAS (item)->directory)),
--
cgit v0.9.0.2

