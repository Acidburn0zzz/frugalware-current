# Last modified: Tue, 22 Mar 2005 16:04:49 +0100
# Compiling time: ~3 minutes
# Maintainer: Laszlo Dvornik <dvornik@gnome.hu>

pkgname=libgda
pkgver=1.3.1
pkgrel=1
pkgdesc="An interface to the GDA architecture"
url="http://www.gnome-db.org/"
depends=('glib2' 'libxslt' 'readline' 'popt' 'scrollkeeper')
makedepends=('intltool' 'db' 'postgresql' 'unixodbc' 'mysql' 'sqlite3' \
	'openldap')
groups=('gnome' 'gnome-libs')
nondevel=1
install=$pkgname.install
[ -e ../up2date.gnome ] && . ../up2date.gnome
source=(http://ftp.gnome.org/pub/gnome/sources/$pkgname/$preup2date/$pkgname-$pkgver.tar.bz2 \
	00-$pkgname-1.3.0-db43.patch \
	$pkgname.install)
md5sums=('154f5942131372b2f9fcf532064f55f8' \
	'322bfaa2bf643382157061e7faf61ec2' \
	'5b6332d61098cbf3943363730538ce58')

build() {
	cd $startdir/src/$pkgname-$pkgver
	patch -p1 < $startdir/src/00-$pkgname-1.3.0-db43.patch || return 1
	./configure --prefix=/usr --sysconfdir=/etc --disable-gtk-doc

	make || return 1

	# Disable scrollkeeper in Makefile.
	sed -i 's|^.*\-scrollkeeper-update.*$||' doc/Makefile
	make DESTDIR=$startdir/pkg install
}

# vim: ft=sh
