# Last modified: Fri, 15 Apr 2005 15:25:40 +0200
# Compiling time: ~3 minutes
# Maintainer: Laszlo Dvornik <dvornik@gnome.hu>

pkgname=metacity
pkgver=2.10.1
pkgrel=1
pkgdesc="A window manager for GNOME"
url="http://www.gnome.org/"
depends=('startup-notification' 'gconf' 'metacity-themes-clearlooks')
makedepends=('intltool')
groups=('gnome' 'gnome-core')
install=$pkgname.install
[ -e ../up2date.gnome ] && . ../up2date.gnome
source=(http://ftp.gnome.org/pub/gnome/sources/$pkgname/$preup2date/$pkgname-$pkgver.tar.bz2 \
	00-$pkgname-2.8.8-luxi.patch \
	01-$pkgname-2.10.0-clearlooks.patch \
	$pkgname.install)
md5sums=('c326eb1aed8742057e9ad94b9ccae877' \
	'c840645da127fbc6f396c47e24b4db46' \
	'80a580d85ee6efa7d471a6b38c6f4455' \
	'2e54c2d20b3c2b9c1a8e09d235020bca')

build() {
	cd $startdir/src/$pkgname-$pkgver
	patch -p1 < $startdir/src/00-$pkgname-2.8.8-luxi.patch || return 1
	patch -p1 < $startdir/src/01-$pkgname-2.10.0-clearlooks.patch || return 1
	./configure --prefix=/usr --sysconfdir=/etc --disable-schemas-install

	make || return 1

	make GCONF_DISABLE_SCHEMA_INSTALL=1 DESTDIR=$startdir/pkg install
}

# vim: ft=sh
