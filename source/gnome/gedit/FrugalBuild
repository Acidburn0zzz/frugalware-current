# Compiling time: 0.48 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=gedit
pkgver=2.17.4
pkgrel=1
pkgdesc="A text editor for GNOME"
url="http://www.gnome.org/"
depends=('eel>=2.17.90' 'scrollkeeper' 'desktop-file-utils' 'python>=2.5' 'gtksourceview>=1.8.3' 'dbus-glib>=0.71-2' 'enchant' 'iso-codes')
makedepends=('intltool' 'gnome-doc-utils>=0.8.0' 'gnome-python-desktop-gtksourceview>=2.17.3')
groups=('gnome' 'gnome-core')
archs=('i686' 'x86_64')
_F_gnome_schemas=('/etc/gconf/schemas/gedit.schemas' \
		  '/etc/gconf/schemas/filebrowser.schemas')
_F_gnome_scrollkeeper="y"
_F_gnome_desktop="y"
Finclude gnome gnome-scriptlet

subpkgs=("$pkgname-python")
subdescs=('gedit python plugins')
subdepends=("$pkgname=$pkgver gnome-python-desktop-gtksourceview>=2.17.3")
subgroups=('gnome')
subarchs=('i686 x86_64')

unset MAKEFLAGS

build() {
	Fbuild_slice_scrollkeeper
	Fbuild --enable-gtk-doc --enable-python
	
	# For python :P
	# zzzz why this dont need ? hm. strange :P
#	Fsplit gedit-python usr/lib/gedit-2/plugins/*.py*
	Fsplit gedit-python /usr/lib/gedit-2/plugins/modelines.gedit-plugin
	Fsplit gedit-python /usr/lib/gedit-2/plugins/pythonconsole/
	Fsplit gedit-python /usr/lib/gedit-2/plugins/snippets/
	Fsplit gedit-python /usr/lib/gedit-2/plugins/externaltools/
	Fsplit gedit-python /usr/lib/gedit-2/plugins/externaltools.gedit-plugin
	Fsplit gedit-python /usr/lib/gedit-2/plugins/pythonconsole.gedit-plugin
	Fsplit gedit-python /usr/lib/gedit-2/plugins/snippets.gedit-plugin
	Fbuild_gnome_scriptlet
}

sha1sums=('1c6f517aeb67c431c911ddca5ab654ab4a0b55b2')
# optimization OK
