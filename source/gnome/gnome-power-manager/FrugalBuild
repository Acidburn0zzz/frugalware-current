# Compiling time: 0.38 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=gnome-power-manager
pkgver=2.28.0
pkgrel=2
pkgdesc="GNOME Power Management tool"
url="http://www.gnome.org/"
depends=('libnotify>=0.4.4' 'hal>=0.5.11' 'dbus-glib>=0.80' 'xextproto' 'libgnomeui>=2.24.0-2' 'libgnome>=2.28.0' \
	'libglade' 'libwnck>=2.28.0' 'gnome-panel>=2.28.0' 'gnome-keyring>=2.28.0' 'gstreamer' \
	'devicekit-power' 'gnome-policykit' 'libcanberra-gtk' 'unique')
makedepends=('intltool' 'gnome-doc-utils')
groups=('gnome' 'gnome-minimal')
archs=('i686' 'x86_64' 'ppc')
_F_gnome_schemas=('/etc/gconf/schemas/gnome-power-manager.schemas')
_F_gnome_scrollkeeper=y
_F_gnome_desktop=y
_F_gnome_iconcache=y
Finclude gnome gnome-scriptlet
Fconfopts="$Fconfopts --enable-dpms-ext --enable-libnotify --enable-applets --enable-keyring"
source=($source gnome-power-manager.desktop)
sha1sums=('c5d4ea2df2561e04ff155d8f7c10099d5cd308f4' \
          '4e920c90509778d2f23e252fb58b11a975a4d099')

build() {
	Fcd
	Fpatchall
	Fautoreconf
	Fsed 'xsltproc' 'xsltproc --nonet' help/Makefile.in
	Fmake
	Fmakeinstall
	Fbuild_slice_scrollkeeper
	Fbuild_gnome_scriptlet

	#autostart
	Fmkdir usr/share/gnome/autostart
	Fcp gnome-power-manager.desktop usr/share/gnome/autostart/
}

# optimization OK
