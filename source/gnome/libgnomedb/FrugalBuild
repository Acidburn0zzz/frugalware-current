# Last modified: Tue, 22 Mar 2005 16:32:43 +0100
# Compiling time: ~7 minutes
# Maintainer: Laszlo Dvornik <dvornik@gnome.hu>

pkgname=libgnomedb
pkgver=1.3.1
pkgrel=1
pkgdesc="Database widget library for GNOME"
url="http://www.gnome-db.org/"
depends=('libgda' 'libgnomeui' 'gtksourceview' 'scrollkeeper')
makedepends=('intltool' 'gtk-doc')
groups=('gnome' 'gnome-libs')
archs=('i686')
nondevel=1
install=$pkgname.install
[ -e ../up2date.gnome ] && . ../up2date.gnome
source=(http://ftp.gnome.org/pub/gnome/sources/$pkgname/$preup2date/$pkgname-$pkgver.tar.bz2 \
	$pkgname.install)
md5sums=('6fe44beab693a1bb356a0c5fe4258131' \
	'd32678ac137f8fd531dacc5cb9fbe429')

build() {
	cd $startdir/src/$pkgname-$pkgver
	./configure --prefix=/usr --sysconfdir=/etc --disable-schemas-install

	make || return 1

	# Disable scrollkeeper in Makefile.
	sed -i 's|^.*\-scrollkeeper-update.*$||' doc/Makefile
	make GCONF_DISABLE_SCHEMA_INSTALL=1 DESTDIR=$startdir/pkg install
}

# vim: ft=sh
