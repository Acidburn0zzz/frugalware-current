# Compiling time: 1.86 SBU
# Maintainer: Baste <baste@frugalware.org>
# Contributor: bouleetbil <bouleetbil@frogdev.info>

USE_FRUGALTHEME=${USE_FRUGALTHEME:-"n"}

pkgname=gnome-shell
pkgver=3.20.4
pkgrel=1
pkgdesc="Window management and application launching for GNOME"
url="http://www.gnome.org/"
depends=('python-3.0>=3.5.1-1' 'mutter>=3.20.0' 'gcr>=3.19.4' 'gjs>=1.45.3' \
	'telepathy-glib>=0.24.1-4' 'libsoup>=2.54.0.1' 'libcroco>=0.6.11-2' \
	'libcanberra-pulseaudio>=0.30-12' 'gstreamer1>=1.7.91' 'nm-connection-editor>=1.1.90' \
	'gnome-bluetooth>=3.18.3' 'evolution-data-server>=3.20.0' 'gnome-desktop>=3.20.0' 'gnome-menus>=3.13.3-3' \
	'libsecret>=0.18.3-3' 'caribou' 'gnome-themes-standard>=3.20' 'telepathy-mission-control>=5.16.3-3')
makedepends=('intltool>=0.51.0-2' 'gobject-introspection>=1.48.0' 'docbook-xsl>=1.79.1-1')
rodepends=('telepathy-logger>=0.8.2-3' 'gnome-keyring>=3.19.4' 'gnome-shell-extensions-theme' 'gnome-fwtweak' 'at-spi2-core>=2.20.0-2')

if Fuse $USE_FRUGALTHEME; then
	rodepends=("${rodepends[@]}" "gnome-shell-frugalware-theme")
else
	replaces=("${replaces[@]}" "gnome-shell-frugalware-theme")
	provides=("${provides[@]}" "gnome-shell-frugalware-theme")
fi

groups=('gnome' 'gnome-minimal')
archs=('i686' 'x86_64')
_F_gnome_glib="y"
_F_gnome_desktop="y"
_F_gnome_doc="y"
_F_gnome_devel="n"
_F_gnome_ext=".tar.xz"
Finclude gnome gnome-scriptlet

sha1sums=('3ee1d92ee781b1128dc9497a566844ecc51d207f')

build()	{
	Fcd
	Fmake --disable-static --disable-compile-warnings --disable-schemas-compile
	Fmakeinstall
	Fbuild_gnome_scriptlet
	_F_gnome_split_doc
}

# optimization OK
