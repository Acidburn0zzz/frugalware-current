# Compiling time: 0.66 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=gnome-shell
pkgver=2.91.91
pkgrel=3
pkgdesc="Window management and application launching for GNOME"
url="http://www.gnome.org/"
depends=('libxml2>=2.7.8' 'mutter>=2.91.91' 'gnome-desktop' 'gjs>=0.7' \
	'gnome-menus' 'librsvg' 'evolution-data-server' 'gconf' \
	'xulrunner' 'gst-plugins-base' 'pulseaudio' 'gnome-themes-standard' \
	'gnome-bluetooth' 'gtk+3>=3.0.2' 'telepathy-glib' 'nm-applet')
makedepends=('intltool' 'gnome-doc-utils' 'gnome-common' \
	'gobject-introspection' 'xorg-server-xephyr' 'krb5')
rodepends=('xorg-server-xephyr')
groups=('gnome')
archs=('i686' 'x86_64')
_F_gnome_schemas=('/etc/gconf/schemas/gnome-shell.schemas')
_F_gnome_desktop="y"
_F_gnome_devel="y"
_F_gnome_glib="y"
Finclude gnome gnome-scriptlet
source=($source nm.diff)
sha1sums=('025a84e041aec02db7ab9562a1eadb7c118ca5a0' \
          'e24bdac5e23c778772b599667d5f03eb0db99275')
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/xulrunner/
replaces=('byzanz')

build()	{
	Fcd
	Fpatchall
	Fautoreconf
	Fmake --disable-static --enable-compile-warnings=maximum --disable-schemas-compile
	Fmakeinstall
	Fbuild_gnome_scriptlet
}

# optimization OK
