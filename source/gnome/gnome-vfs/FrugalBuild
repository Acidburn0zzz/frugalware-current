# Last modified: Wed, 21 Jun 2006 16:57:21 +0200
# Compiling time: 1.35 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>
# Contributor: alex_extreme <alex.extreme2@gmail.com>

pkgname=gnome-vfs
pkgver=2.14.2
pkgrel=2
pkgdesc="GNOME Virtual File System"
url="http://www.gnome.org/"
depends=('gconf' 'libbonobo' 'bzip2' 'cdparanoia' 'hal' 'gnome-mime-data' 'gamin' \
	'pmount' 'popt' 'avahi-glib')
makedepends=('intltool' 'gtk-doc' 'samba')
groups=('gnome' 'gnome-core')
archs=('i686' 'x86_64')
_F_gnome_schemas=('/etc/gconf/schemas/desktop_default_applications.schemas'
	'/etc/gconf/schemas/desktop_gnome_url_handlers.schemas'
	'/etc/gconf/schemas/system_dns_sd.schemas'
	'/etc/gconf/schemas/system_http_proxy.schemas'
	'/etc/gconf/schemas/system_smb.schemas')
Finclude gnome gnome-scriptlet
source=(${source[@]} 00-default-browser.patch \
	02-user-visible-drives.patch \
	fstab_edit_crash.patch \
	resolve_fstab_symlinks.patch \
	gnome-vfs-2.8.2-schema_about_for_upstream.patch \
	gnome-vfs-2.9.90-modules-conf.patch \
	gnome-vfs-2.14.1-linguas.patch0)
sha1sums=('ffd2e5f229495f55587d8499e5f2b8b8a76e5448' \
	  'c83d61988a083c3906b0ce806bb41beb7b628af2' \
	  '6570dfb9cb50c8f4ca03a7bcf6c4cf8b0e523214' \
	  'e94438c68532a1c36a7b5f0c305ab065695d626a' \
	  '0e28ca35f7f2bc156b7f25d0cfcd331847a6b8d3' \
	  '432a5cfa68e440fd6de0bfccf838270abdd2fbdf' \
	  'b7ab40b31d384d4d602a9dfa2808c810dccdbdbb' \
	  'c8b1bb72cadc711881e1339c79dda6c02851c8d0')

build() {
	Fpatchall
	Fautoconfize
	Fmake --disable-schemas-install --enable-gtk-doc \
		--with-hal-mount=/usr/bin/pmount-hal --with-hal-umount=/usr/bin/pumount --enable-hal --enable-avahi
	Fmakeinstall GCONF_DISABLE_SCHEMA_INSTALL=1
	Fbuild_gnome_scriptlet
}

# optimization OK
