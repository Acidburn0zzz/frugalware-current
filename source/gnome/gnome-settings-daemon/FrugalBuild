# Compiling time: 1.10 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=gnome-settings-daemon
pkgver=2.32.0
pkgrel=3
pkgdesc="Utility library for accessing gnome-settings-daemon over DBUS"
depends=('libgnomekbd>=2.32.0' 'esd' 'gst-plugins-base>=0.10.22-2' 'libgnomeui' 'libxxf86misc' \
	'gnome-desktop>=2.32.0' 'gconf' 'alsa-lib')
makedepends=('intltool' 'gtk-doc>=1.11' 'gnome-doc-utils>=0.14.0')
groups=('gnome' 'gnome-minimal')
archs=('i686' 'x86_64' 'ppc')
_F_gnome_schemas=('/etc/gconf/schemas/apps_gnome_settings_daemon_keybindings.schemas' \
	'/etc/gconf/schemas/apps_gnome_settings_daemon_screensaver.schemas' \
	'/etc/gconf/schemas/apps_gnome_settings_daemon_xrandr.schemas' \
	'/etc/gconf/schemas/desktop_gnome_font_rendering.schemas' \
	'/etc/gconf/schemas/desktop_gnome_keybindings.schemas' \
	'/etc/gconf/schemas/gnome-settings-daemon.schemas' \
	'/etc/gconf/schemas/desktop_gnome_peripherals_touchpad.schemas')
_F_gnome_scrollkeeper="y"
_F_gnome_iconcache="y"
Finclude gnome gnome-scriptlet
source=(${source[@]} gnome-settings-daemon-2.30.0-gst-vol-control-support.patch
	$pkgname-xres-lcdfilter.patch)
sha1sums=('c4cc7035909843472e9a5060e5cd294322999a32' \
          '8db1dde75b1866619d6589e989ed27fc45050c50' \
          '8fd41db394be5681e0f2024d9665d6bc7d2c6f36')
Fconfopts="$Fconfopts --enable-gstreamer"

build() {
	Fcd
	Fpatchall
	Fautoreconf
	Fmake
	Fmakeinstall
	Fbuild_gnome_scriptlet
}

# optimization OK
