# Last modified: Sat, 06 May 2006 05:55:19 +0200
# Compiling time: 0.99 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>
# Contributor: crazy <crazy@frugalware.org>

pkgname=gst-plugins-good
pkgver=0.10.2
pkgrel=4
pkgdesc="Plugins for GStreamer (Good)"
url="http://gstreamer.freedesktop.org/"
depends=('gst-plugins-base')
makedepends=('gtk-doc' 'pyxml' 'gconf' 'esd' 'ladspa_sdk' 'speex' 'libshout' 'aalib' 'libjpeg' 'flac' 'libavc1394' 'libpng' \
	'libcdio' 'libdv' 'cairo' 'liboil')
groups=('gnome' 'gnome-core')
archs=('i686' 'x86_64')
Finclude gnome
sha1sums=('2a4116d8bfb815b3fff117df3414b977e821dcec')

subpkgs=("$pkgname-gconf" "$pkgname-esd" "$pkgname-speex" "$pkgname-aalib" "$pkgname-shout" "$pkgname-jpeg" \
	"$pkgname-flac" "$pkgname-avc1394" "$pkgname-png" "$pkgname-cdio" "$pkgname-dv" "$pkgname-cairo" \
	"$pkgname-videobox" "$pkgname-docs")
subdescs=('GStreamer gconf plugin (Good).' 'GStreamer esd plugin (Good).' 'GStreamer speex plugin (Good).' \
	  'GStreamer aalib plugin (Good).' 'GStreamer shout plugin (Good).' 'GStreamer jpeg plugin (Good).' \
	  'GStreamer flac plugin (Good).' 'GStreamer avc1394 plugin (Good).' 'GStreamer png plugin (Good).' \
	  'GStreamer cdio plugin (Good).' 'GStreamer dv plugin (Good).' 'GStreamer cairo plugin (Good).' \
	  'GStreamer videobox plugin (Good).' 'GStreamer Plugins Documentation.')
subdepends=("gconf gstreamer" "esd gst-plugins-base" "speex gst-plugins-base" "aalib gstreamer" "libshout gstreamer" \
    	    "libjpeg gstreamer" "flac gst-plugins-base" "libavc1394 gstreamer" "gstreamer libpng" \
	    "libcdio gst-plugins-base" "libdv gst-plugins-base" "cairo gstreamer" "liboil gstreamer" \
	    "$pkgname=$pkgver")
subinstall=("$pkgname-gconf.install" '' '' '' '' '' '' '' '' '' '' '' '' '')
subgroups=('gnome gnome-core' 'gnome gnome-core' 'gnome gnome-core' 'gnome gnome-core' 'gnome gnome-core' \
	    'gnome gnome-core' 'gnome gnome-core' 'gnome gnome-core' 'gnome gnome-core' 'gnome gnome-core' \
	    'gnome gnome-core' 'gnome gnome-core' 'gnome gnome-core' 'gnome gnome-docs')
subarchs=('i686 x86_64' 'i686 x86_64' 'i686 x86_64' 'i686 x86_64' 'i686 x86_64' 'i686 x86_64' 'i686 x86_64' \
	  'i686 x86_64' 'i686 x86_64' 'i686 x86_64' 'i686 x86_64' 'i686 x86_64' 'i686 x86_64' 'i686 x86_64')

build() {
	[ "$CARCH" == "x86_64" ] && export CFLAGS="$CFLAGS -fPIC"
	Fmake --disable-schemas-install --disable-arts --disable-artsc \
		--enable-gtk-doc --disable-debug --with-gnu-ld --with-x
	Fmakeinstall GCONF_DISABLE_SCHEMA_INSTALL=1
	Fsplit $pkgname-gconf usr/lib/gstreamer-0.10/{libgstgconfelements.*,libgstautodetect.*}
	Fsplit $pkgname-gconf etc/
	Fsplit $pkgname-esd usr/lib/gstreamer-0.10/libgstesd.*
	Fsplit $pkgname-speex usr/lib/gstreamer-0.10/libgstspeex.*
	Fsplit $pkgname-aalib usr/lib/gstreamer-0.10/libgstaasink.*
	Fsplit $pkgname-shout usr/lib/gstreamer-0.10/libgstshout2.*
	Fsplit $pkgname-jpeg  usr/lib/gstreamer-0.10/libgstjpeg.*
	Fsplit $pkgname-flac usr/lib/gstreamer-0.10/libgstflac.*
	Fsplit $pkgname-avc1394 usr/lib/gstreamer-0.10/libgst1394.*
	Fsplit $pkgname-png usr/lib/gstreamer-0.10/libgstpng.*
	Fsplit $pkgname-cdio usr/lib/gstreamer-0.10/libgstcdio.*
	Fsplit $pkgname-dv usr/lib/gstreamer-0.10/libgstdv.*
	Fsplit $pkgname-cairo usr/lib/gstreamer-0.10/libgstcairo.*
	Fsplit $pkgname-videobox usr/lib/gstreamer-0.10/libgstvideobox.*
	Fsplit $pkgname-docs usr/share/gtk-doc
}


# optimization OK
