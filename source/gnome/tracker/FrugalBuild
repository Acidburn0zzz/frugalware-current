# Compiling Time: 0.23 SBU
# Maintainer: AlexExtreme <alex@alex-smith.me.uk>

# Do NOT bump this package without explicit permission from the maintainer, and if you do get permission,
# test it FULLY before pushing.

pkgname=tracker
pkgver=0.5.1
pkgrel=1
pkgdesc="Tracker is a first class object database, extensible tag/metadata database, search tool and indexer."
url="http://www.gnome.org/~jamiemcc/tracker/"
depends=('gtk+2' 'gmime' 'dbus-glib>=0.71-2' 'sqlite3' 'gamin' 'gnome-desktop' 'gnome-vfs' \
	 'poppler-glib' 'libvorbis' 'libpng' 'libexif' 'libgsf' 'gstreamer')
groups=('gnome')
archs=('i686' 'x86_64')
# Goddamn these weird gnome devels - the latest version is 0.5.1, yet the website still has 0.0.4 as latest
up2date="$pkgver"
source=($url/$pkgname-$pkgver.tar.gz trackerd.desktop)
sha1sums=('056e89d20c3cf1af8d074cc94e71e409773a24cf' \
	  '5b75cb32457f8ac2f1d1f6a7ed54330bd18c3f26')

build() {
	unset MAKEFLAGS
	Fbuild
	
	# Trackerd should run at login
	Fmkdir /usr/share/gnome/autostart
	cp $Fsrcdir/trackerd.desktop $Fdestdir/usr/share/gnome/autostart/ || Fdie
}

# optimization OK
