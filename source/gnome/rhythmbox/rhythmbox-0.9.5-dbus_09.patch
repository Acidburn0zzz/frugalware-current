--- ./metadata/rb-metadata-dbus-client.c.old	2006-08-24 18:13:10.822426500 +0200
+++ ./metadata/rb-metadata-dbus-client.c	2006-08-24 18:13:49.144821500 +0200
@@ -118,7 +118,7 @@
 	if (dbus_connection) {
 		if (dbus_connection_get_is_connected (dbus_connection)) {
 			rb_debug ("closing dbus connection");
-			dbus_connection_disconnect (dbus_connection);
+			dbus_connection_close (dbus_connection);
 		} else {
 			rb_debug ("dbus connection already closed");
 		}
--- ./metadata/rb-metadata-dbus-service.c.old	2006-08-24 18:13:15.282705250 +0200
+++ ./metadata/rb-metadata-dbus-service.c	2006-08-24 18:13:59.349459250 +0200
@@ -494,7 +494,7 @@
 	g_main_loop_run (svc.loop);
 
 	if (svc.connection) {
-		dbus_connection_disconnect (svc.connection);
+		dbus_connection_close (svc.connection);
 		dbus_connection_unref (svc.connection);
 	}
 
