# Compiling Time: 20.50 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=unace
pkgver=2.5
pkgrel=3
pkgdesc="An extraction tool for the proprietary ace archive format"
archs=('i686' 'x86_64')
groups=('apps-extra')
url="http://www.winace.de/"
license=("custom")
depends=(ncurses)
source=(http://ftp.debian.org/debian/pool/non-free/u/unace-nonfree/unace-nonfree_2.5.orig.tar.gz \
	01-only-unace.patch \
	02-no-io_h.patch \
	03-gcc-call.patch \
	04-64bit.patch \
	05-warning-fixes.patch \
	06-fix-bad-pointer-arith.patch \
	07-fix-free-aliasing-issue.patch \
	08-ulonglong-printf.patch \
	09-utf8-filenames.patch \
	10-uninorm-signedness.patch \
	11-possibly-critical.patch \
	12-cast-filetime.patch \
	13-maximum-file-name-length.patch \
	14-endianness-detection.patch \
	15-format-security.patch \
	16-buffer-overflows.patch \
	17-undefined-behavior-strcpy.patch \
	18-stack-corruption.patch \
	19-max-allocate.patch )

sha1sums=('f658f03aa6f663c1a90af85e3e8c6e7ef12adb42' \
          'c74674f02b66b89b6fede739d511f36d98472787' \
          '1117ed498bed5144b34706a4f5c04b3ddd31156c' \
          'ff3edcfecef4a4d50e58f10d67d0c8c5752c9fa0' \
          'e8541dcc223d578b2753e18e87471315ddf57e24' \
          'e1724d46284b20b49360ae9c95291a90cce19043' \
          'a14afe829d44f38df3e03eacb78f39130cec311b' \
          '2c64f92e342a4e13a642025b71d44976b36643af' \
          '8bfa22cfbff96d39a9f97d095bf23afdbcc05608' \
          '807cb90abcbde81b0e85379048b12ad9010aff64' \
          '247a467acc04ff5ddc6ef452f0e881b0766fa8fd' \
          'b07c78c2a4995710a16ffdcd43a840a2b6e406e3' \
          '938853d85ae58d6061c05edd92371fb5572960b9' \
          '31b4fadc9ea0e94f9b820d1ed9a5c4e4a08aa1f9' \
          '7adf612ec10d4dbed024e76b3df0d0c32da7e3ec' \
          '37c10f807a933eddb081fbaa4859f6ad782bf457' \
          '6b59e5164cc75b8ed53aeb16b1d275a14164a317' \
          'f0cf7e33e46b568f4646a4e1d4e20a98c64f2850' \
          '2859ab531a1195b33b1b3122e95c55ae23a1568d' \
          'f8baf12be3a71fb6aa1f3e707c5ab636a8821b1a')


up2date="lynx -dump ${url}popdl.html | egrep -o 'r Linux ([[:digit:].]+)' | \
	egrep -o '([[:digit:].]+)'"

build(){
	Fcd
	Fpatchall
	Fmake
	Finstall 755 $_F_cd_path/unace usr/bin/unace
	Finstall 644 $_F_cd_path/licence usr/share/$pkgname/licence
}

# optimization OK
