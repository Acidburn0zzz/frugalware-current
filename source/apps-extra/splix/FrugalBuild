# Compiling Time: 0.01 SBU
# Maintainer: voroskoi <voroskoi@frugalware.org>

pkgname=splix
pkgver=0.0.1
pkgrel=1
pkgdesc="Splix is a driver for SPL printers (Samsung and several Xerox printers)."
depends=('cups>=1.2')
groups=('apps-extra')
archs=('i686')
Finclude sourceforge
up2date="lynx -dump http://sourceforge.net/project/showfiles.php?group_id=175815 |grep splix.*tar |sed -ne 's/.*x-\(.*\).ta.*/\1/;1p'"
source=(${source[@]} http://svn.sourceforge.net/viewvc/*checkout*/splix/splix/src/rastertospl2.cpp?revision=7)

build() {
	mv "$Fsrcdir/rastertospl2.cpp?revision=7" $Fsrcdir/splix/src/rastertospl2.cpp || Fdie
	Fcd splix
	Fmkdir /usr/lib/cups/filter
	Fmkdir /usr/share/cups/model/samsung
	Fsed '/usr' "$Fdestdir/usr" Makefile
	Fsed 'filter' 'filter/' Makefile
	Fbuild
}
sha1sums=('6b8810ef824b9c543aace770d964fff4437a77f4' \
	  'b60f8d661d19d8bd72c9e160d03ae595010d954b')
