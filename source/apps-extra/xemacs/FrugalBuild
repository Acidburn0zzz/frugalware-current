# Last Modified: Sat, 07 Oct 2006 02:44:41 +0200
# Compiling Time: ~0.61 SBU
# Maintainer: voroskoi <voroskoi@frugalware.org>

pkgname=xemacs
pkgver=21.4.19
pkgrel=2
pkgdesc="XEmacs is a highly customizable open source text editor and application development system."
url="http://www.xemacs.org/"
makedepends=('libxaw' 'xbitmaps')
rodepends=('xemacs-base' 'xemacs-efs')
depends=('libtiff' 'db>=4.5.20' 'gpm' 'libjpeg' 'libpng')
groups=('apps-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump $url/Releases/index.html |grep http.*Releases/[0-9] |sed -ne 's:.*s/\(.*\).h.*:\1:;2 p'"
source=(ftp://ftp.be.xemacs.org/xemacs/xemacs-21.4/$pkgname-$pkgver.tar.gz $pkgname.desktop)
sha1sums=('638a58db6794d3424e13ad65932697ad1343ab69' \
	'bd8a0dfd732e41546abb27e467d9d52c7b9b9297')

build() {
	Fcd
	./configure --prefix=$Fprefix \
		--with-x11 \
		--with-ncurses \
		--with-xpm \
		--with-png \
		--with-jpeg \
		--with-tiff \
		--with-gpm \
		--with-ldap=no
	make || Fdie
	Fmakeinstall
	Ffile /usr/share/applications/$pkgname.desktop
}

# optimization OK
