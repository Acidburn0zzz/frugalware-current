# Compiling Time: 0.01 SBU
# Maintainer: boobaa <boobaa@frugalware.org>

pkgname=mongodb
pkgver=3.2.6
pkgrel=1
pkgdesc="A scalable, high-performance, open source NoSQL database"
url="http://www.mongodb.org"
up2date="lynx -dump $url/downloads | grep src- -m1 | sed 's/.*-src-r\(.*\)\.tar.*/\1/'"
groups=('apps-extra')
archs=('i686' 'x86_64')
depends=('libstdc++')
makedepends+=('scons')
source=(http://downloads.mongodb.org/src/mongodb-src-r$pkgver.tar.gz)
sha1sums=('9619cedfdc3219232639e519a9128cdf4fa7c40c')
options+=('static')

build()
{
		### also is possible to build with system libs but please don't
		## since they want the 'exact version' eg: --with-system-foo=1.2.3
		## and every changes to any system lib will trigger an rebuild for this one
		Fcd $pkgname-src-r$pkgver
		scons --disable-warnings-as-errors all || Fdie
		scons --prefix $Fdestdir/usr install || Fdie
}

# optimization OK
