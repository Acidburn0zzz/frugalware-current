# Compiling Time: 0.04 SBU
# Contributor: Olivier Goffart <ogoffart@kde.org>
# Maintainer: James Buren <ryuo@frugalware.org>

pkgname=acerhk
pkgver=0.5.35
pkgrel=87
pkgdesc="Acer Hotkey driver for Linux"
_F_sourceforge_dirname=acerhkgui
_F_sourceforge_ext=-pat.tar.gz
Finclude kernel-module sourceforge
groups=('apps-extra')
archs=('i686' '!x86_64')
sha1sums=('4d92f268a6cd306aa8bb44b844ab47ab33197b8a')

build()
{
	Fpatchall
	# no Fcheckkernel, crosscompilation verified
	Fsed 'CFLAGS' 'EXTRA_CFLAGS' Makefile
	sed -i '/config.h/d' acerhk.c
	KERNELSRC=/usr/src/linux make acerhk.ko || Fdie
	Ffilerel $_F_kernelmod_dir/kernel/drivers/char/acerhk.ko
	Fbuild_kernelmod_scriptlet
	Fkernelver_compress_modules
}
