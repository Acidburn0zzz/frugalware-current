# Compiling Time: 0.01 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=micro
pkgver=1.1.1
pkgextraver=b09093f
pkgrel=1
pkgdesc="A modern and intuitive terminal-based text editor"
groups=('apps-extra')
license=('MIT')
archs=('i686' 'x86_64')
depends=('glibc')
makedepends+=('go' 'git')
_F_github_author="zyedidia"
_F_github_tag=y
_F_github_tag_v=y
Finclude github
sha1sums=('f984a6164ee97dafc3ca9cf8f2f2ab7274284c35')

build() {
	Fcd

	Fsed 'VERSION = $(shell go run tools/build-version.go)' "VERSION = $pkgver" Makefile
	Fsed 'HASH = $(shell git rev-parse --short HEAD)' "HASH = $pkgextraver" Makefile

        export GOPATH="$(pwd)"
        export PATH=$PATH:$GOROOT/bin
	Fexec make deps || Fdie

	Fbuild

	Fexerel bin/micro usr/bin/micro
}


# optimization OK
