# Compiling Time: 0.01 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=micro
pkgver=1.1.3
pkgextraver=c04a4ba
pkgrel=1
pkgdesc="A modern and intuitive terminal-based text editor"
groups=('apps-extra')
license=('MIT')
archs=('i686' 'x86_64')
depends=('glibc')
makedepends+=('go' 'git')
_F_github_author="zyedidia"
_F_github_tag=y
_F_github_tag_v=y
Finclude github
sha1sums=('3b1ae4e97ff86ef2110911bfbf8c31723b9869cd')

build() {
	Fcd

	Fsed 'VERSION = $(shell go run tools/build-version.go)' "VERSION = $pkgver" Makefile
	Fsed 'HASH = $(shell git rev-parse --short HEAD)' "HASH = $pkgextraver" Makefile

        export GOPATH="$(pwd)"
        export GOBIN=$GOPATH/bin
	Fexec make deps || Fdie

	Fbuild

	Fexerel bin/micro usr/bin/micro
}


# optimization OK
