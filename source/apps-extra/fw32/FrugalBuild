# Compiling Time: 0 SBU
# Maintainer: James Buren <ryuo@frugalware.org>

pkgname=fw32
pkgver=0.3
pkgrel=1
pkgdesc="A framework for maintaining an i686 environment on x86_64."
url="http://www.frugalware.org"
rodepends=('util-linux' 'sudo' 'grep' 'coreutils')
groups=('apps-extra')
archs=('!i686' 'x86_64' '!ppc' '!arm')
up2date="$pkgver"
backup=('etc/fw32/pacman-g2.conf')
source=(fw32 pacman-g2.conf fw32-run.c README.Frugalware)
sha1sums=('17a8e653ec4292975f226851c2296680096ddc9f' \
          'd84ca5b6d1c37993dd6514d41eb4923a057a0d27' \
          '83e685227ac174e37f1d71d04d0540cc2fac9236' \
          '38f15d2fe6d1665efe243187eb2c9d9fd571d12e')

build()
{
	Fexe /usr/bin/fw32
	for i in fw32-{create,update,install,uninstall,clean,delete,mount,umount}; do
		Fln fw32 /usr/bin/$i
	done
	Ffile /etc/fw32/pacman-g2.conf
	Fexec cc -Wall -Wextra $CFLAGS fw32-run.c -o fw32-run
	Fexe /usr/bin/fw32-run
	Fexec chmod u+s $Fdestdir/usr/bin/fw32-run
}

# optimization OK
