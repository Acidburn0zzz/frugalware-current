# Compiling Time: 1.54 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=facter
pkgver=3.1.8
pkgrel=1
pkgdesc="Collect and display system facts"
archs=('i686' 'x86_64')
groups=('apps-extra')
url="http://puppetlabs.com/facter"
license=('APACHE')
depends=('ruby' 'yaml-cpp' 'libboost' 'curl')
makedepends=('boost' 'leatherman')
source=(http://downloads.puppetlabs.com/$pkgname/$pkgname-$pkgver.tar.gz)
up2date="Flasttar http://downloads.puppetlabs.com/$pkgname"
sha1sums=('f3f3f1ecb62680913aa6e364b0e3072da93bd145')
Finclude cmake openjava

build() {
	Fcd

	for i in $(grep -rl rb_data_object_alloc lib/src/ruby)
	do
		Fsed rb_data_object_alloc rb_data_object_wrap $i
	done

	CMake_build
}

# optimization OK
