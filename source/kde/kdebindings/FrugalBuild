# Last Modified: Thu, 30 Mar 2006 06:21:58 +0200
# Compiling Time: 11.32 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=kdebindings
pkgver=3.5.2
pkgrel=1
pkgdesc="KDE Bindings."
groups=('kde' 'kde-core')
archs=('i686' 'x86_64')
[ "$CARCH" != "x86_64" ] && makedepends=('j2sdk' 'gtk+' 'gcc-gcj' 'ruby' 'mozilla')
[ "$CARCH" == "x86_64" ] && makedepends=('j2sdk' 'gtk+' 'ruby')
depends=('kdebase>=3.5.2-1' 'qscintilla')
options=('nodocs')
Finclude kde
sha1sums=('f1b0180d8005b9497cd8549f260b30f43e08ed4b')

build() 
{
	Fcd
	# we need that because KDE add some -O2's twice we already have it in our {$CXX,$C}{FLAGS}
        for i in `find . -iname configure`
        do
           Fsed '-O2' '' $i
        done
        Fbuild  CXXFLAGS="$CXXFLAGS -Wno-deprecated" \
                 --disable-debug \
                 --disable-dependency-tracking \
                 --with-gnu-ld  \
                 DO_NOT_COMPILE="python doc" --enable-gcc-hidden-visibility \
                 --enable-qscintilla=yes --disable-final
        Frm /usr/lib/perl5/5*/$CARCH-linux-thread-multi/perllocal.pod
        Frm /usr/lib/perl5/5*/$CARCH-linux/perllocal.pod
}

# optimalization OK
