# Compiling Time: 12.85 SBU
# Maintainer: DeX77 <dex@dragonslave.de>

pkgname=kdenetwork
pkgrel=2
pkgdesc="KDE Networking Programs"
depends=('kdebase-workspace>=4.3.2' 'libvncserver' 'libidn' \
	'qca' 'rdesktop' 'ppp' 'libxdamage')
makedepends=('pkgconfig' 'automoc4' 'boost' 'xmms')
groups=('kde')
archs=('i686' 'x86_64')
_F_cmakekde_final=OFF
Finclude kde
source=("$_F_kde_mirror/$_F_kde_dirname/$_F_kde_name-$_F_kde_pkgver.tar.bz2" \
"find_libortp.patch" "find_libgadu.patch")

sha1sums=('7b384e11b551c9d1113cc39d318ca1b9d7712864' \
	'0402a0e27b8051d5ca588ccd167d20708b34acd6' \
	'6983937ee859d38a2b6e9dd4f335a9a62d8a7934')

subpkgs=("$pkgname-docs" 'kopete')
subdescs=("Kdenetwork Documentation" "Kopete is a multi-protocol instant messenger for the KDE Desktop.")
subdepends=('' \
"ortp meanwhile speex libotr libidn libgadu libmsn qca-tls libv4l")
subgroups=('docs-extra kde-docs' 'kde')
subarchs=('i686 x86_64 ppc' 'i686 x86_64 ppc')

build(){
#Conf all
Fcd $_F_cd_path
CMake_prepare_build
CMake_conf

#build kopete
cd kopete || Fdie
make DESTDIR=$Fdestdir install || Fdie
Fsplit kopete /usr
cd .. || Fdie

#now the rest
make DESTDIR=$Fdestdir install || Fdie

#docs
Fsplit $pkgname-docs usr/share/doc
}
# optimization OK
