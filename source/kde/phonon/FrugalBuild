# Compiling Time: 0.09 SBU
# Maintainer: crazy <crazy@frugalware.org>
# Contributor: DeX77 <dex@dragonslave.de>

pkgname=phonon
pkgver=4.3.1
pkgrel=5
pkgdesc='The multimedia API for KDE 4'
groups=('kde')
archs=('i686' 'x86_64' 'ppc')
url='http://phonon.kde.org'
provides=('libqtphonon')
conflicts=("${provides[@]}")
replaces=("${provides[@]}")
up2date="$pkgver"
options=('scriptlet')
_F_kde_dirname="Attic/4.2.1/src"
Finclude kde
source=($source 07_feature_backport_xine_equalizer.patch)
depends=("libqtdbus>=$_F_kde_qtver" "libqtgui>=$_F_kde_qtver" "libqtopengl>=$_F_kde_qtver" 'libxcb' 'libuuid' \
        'libxext' 'libxml2' 'xine-lib')
makedepends=("${makedepends[@]}" "libqttest>=$_F_kde_qtver" "alsa-lib")
sha1sums=('f7537e5280d0a4cc1348975daa7a7e45d833d45c' \
          '24f26bc48e3d73d73317d1915c265b04fa7fca45')

## FIXME: wrong group -> xmultimedia
subpkgs=("${subpkgs[@]}" "$pkgname-backend-gstreamer")
subdescs=("${subdescs[@]}" "Phonon gstreamer backend.")
subdepends=("${subdepends[@]}" "gst-plugins-base libgcc libice libxext libxfixes libuuid")
subrodepends=("${subrodepends[@]}" "$pkgname>=$pkgver")
subgroups=("${subgroups[@]}" 'xmultimedia-extra')
subarchs=("${subarchs[@]}" 'i686 x86_64 ppc')


build()
{
        KDE_make
        KDE_project_install gstreamer
        Fsplit $pkgname-backend-gstreamer /\*
        KDE_install
}

# optimization OK

