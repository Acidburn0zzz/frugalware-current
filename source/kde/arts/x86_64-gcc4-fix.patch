diff -Naur arts-1.4.1.orig/admin/acinclude.m4.in arts-1.4.1/admin/acinclude.m4.in
--- arts-1.4.1.orig/admin/acinclude.m4.in	2005-07-25 19:55:29.000000000 +0200
+++ arts-1.4.1/admin/acinclude.m4.in	2005-07-25 19:56:22.000000000 +0200
@@ -3052,8 +3052,6 @@
 
   AC_PROG_CXX
 
-  KDE_CHECK_FOR_BAD_COMPILER
-
   if test "$GXX" = "yes" || test "$CXX" = "KCC"; then
     if test "$kde_use_debug_code" != "no"; then
       if test "$CXX" = "KCC"; then
@@ -3282,14 +3280,7 @@
     KDE_CHECK_COMPILER_FLAG(fno-exceptions,[CXXFLAGS="$CXXFLAGS -fno-exceptions"])
     KDE_CHECK_COMPILER_FLAG(fno-check-new, [CXXFLAGS="$CXXFLAGS -fno-check-new"])
     KDE_CHECK_COMPILER_FLAG(fno-common, [CXXFLAGS="$CXXFLAGS -fno-common"])
-    KDE_CHECK_COMPILER_FLAG(fvisibility=hidden, 
-    [
-        CXXFLAGS="$CXXFLAGS -fvisibility=hidden"
-        KDE_CHECK_VISIBILITY_GCC_BUG
-
-        HAVE_GCC_VISIBILITY=1
-        AC_DEFINE_UNQUOTED(__KDE_HAVE_GCC_VISIBILITY, "$HAVE_GCC_VISIBILITY", [define to 1 if -fvisibility is supported])
-    ])
+    AC_DEFINE_UNQUOTED(__KDE_HAVE_GCC_VISIBILITY, "$HAVE_GCC_VISIBILITY", [define to 1 if -fvisibility is supported])
   fi
 ])
 
diff -Naur arts-1.4.1.orig/admin/ltmain.sh arts-1.4.1/admin/ltmain.sh
--- arts-1.4.1.orig/admin/ltmain.sh	2005-07-25 19:55:29.000000000 +0200
+++ arts-1.4.1/admin/ltmain.sh	2005-07-25 19:56:18.000000000 +0200
@@ -5217,6 +5217,14 @@
 	  case $host,$output,$installed,$module,$dlname in
 	    *cygwin*,*lai,yes,no,*.dll | *mingw*,*lai,yes,no,*.dll) tdlname=../bin/$dlname ;;
 	  esac
+	  newdeplib=""
+	  for j in $dependency_libs ; do
+	    if echo $j | grep "gcc-lib" >& /dev/null ; then
+	       continue
+	    fi
+	    newdeplib="$newdeplib $j"
+	  done
+	  dependency_libs="$newdeplib"
 	  $echo > $output "\
 # $outputname - a libtool library file
 # Generated by $PROGRAM - GNU $PACKAGE $VERSION$TIMESTAMP
