# Compiling Time: ~3.04 SBU
# Maintainer: voroskoi <voroskoi@frugalware.org>

pkgname=pyqt
origname=PyQt
pkgver=3.17
pkgrel=1
pkgdesc="PyQt is a set of Python bindings for the Qt toolkit."
url="http://www.riverbankcomputing.co.uk/pyqt/index.php"
# sip,qscintilla: see BTS-278
depends=('qt' 'sip>=4.5' 'qscintilla>=1.71')
up2date="lynx -dump http://www.riverbankcomputing.co.uk/pyqt/download.php |grep 'PyQt-x11-gpl-3' |sed -ne 's/.*l-\(.*\).tar.gz .*/\1/;1 p'"
source=(http://www.riverbankcomputing.com/Downloads/PyQt3/GPL/$origname-x11-gpl-$pkgver.tar.gz)
#up2date="lynx -dump http://www.riverbankcomputing.com/Downloads/Snapshots/PyQt3/|Flasttar"
#source=(http://www.riverbankcomputing.com/Downloads/Snapshots/PyQt3/$origname-x11-gpl-3-snapshot-$pkgver.tar.gz)
license="GPL"
groups=('kde')
archs=('i686' 'x86_64')
options=('scriptlet' 'force')
sha1sums=('70d590753d8e439ae9003ee5eb6472e50e5574b7')

build() {
	Fcd $origname-x11-gpl-$pkgver
	Fsed "sipcfg.version_to_string" "sipconfig.version_to_string" configure.py
	echo "yes" | python configure.py -j 8 || Fdie
	Fmake
	Fmakeinstall
}

# optimization OK
