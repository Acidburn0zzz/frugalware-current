Only in b/common/lib/modules/fglrx/build_mod/2.6.x: drm_compat.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: drm.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: drm_os_linux.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: drmP.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: drm_proc.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: fglrxko_pci_ids.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: firegl_public.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: firegl_public.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_acpi.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_acpi.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_acpi.o
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: .kcl_acpi.o.cmd
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_agp.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_agp.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_config.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_debug.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_debug.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_io.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_ioctl.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_ioctl.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_io.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_iommu.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_iommu.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_osconfig.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_pci.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_pci.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_str.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_str.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_type.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_wait.c
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: kcl_wait.h
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: libfglrx_ip.a
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: .libfglrx_ip.a.cmd
Only in b/common/lib/modules/fglrx/build_mod/2.6.x: .tmp_versions
diff -aur a/common/lib/modules/fglrx/build_mod/drmP.h b/common/lib/modules/fglrx/build_mod/drmP.h
--- a/common/lib/modules/fglrx/build_mod/drmP.h	2011-05-12 09:46:30.000000000 -0500
+++ b/common/lib/modules/fglrx/build_mod/drmP.h	2011-05-20 13:15:41.332592691 -0500
@@ -57,7 +57,6 @@
 #include <linux/pci.h>
 #include <linux/version.h>
 #include <linux/sched.h>
-#include <linux/smp_lock.h>	/* For (un)lock_kernel */
 #include <linux/mm.h>
 #include <linux/pagemap.h>
 #if defined(__alpha__) || defined(__powerpc__)
diff -aur a/common/lib/modules/fglrx/build_mod/firegl_public.c b/common/lib/modules/fglrx/build_mod/firegl_public.c
--- a/common/lib/modules/fglrx/build_mod/firegl_public.c	2011-05-12 09:46:30.000000000 -0500
+++ b/common/lib/modules/fglrx/build_mod/firegl_public.c	2011-05-20 13:15:41.336592693 -0500
@@ -114,7 +114,6 @@
 #include <linux/pci.h>
 #include <linux/wait.h>
 #include <linux/miscdevice.h>
-#include <linux/smp_lock.h>
 // newer SuSE kernels need this
 #include <linux/highmem.h>
 
@@ -1048,9 +1047,6 @@
 
     dev->pubdev.signature = FGL_DEVICE_SIGNATURE;
 
-    for (i = 0; i < __KE_MAX_SPINLOCKS; i++)
-        dev->spinlock[i] = SPIN_LOCK_UNLOCKED;
-
     for (i=0; i < __KE_MAX_SEMAPHORES; i++)
         sema_init(&dev->struct_sem[i], 1);
 
@@ -1900,13 +1896,11 @@
 /** \brief Grab global kernel lock */
 void ATI_API_CALL KCL_GlobalKernelLock(void)
 {
-    lock_kernel();
 }
 
 /** \brief Release global kernel lock */
 void ATI_API_CALL KCL_GlobalKernelUnlock(void)
 {
-    unlock_kernel();
 }
 
 /*****************************************************************************/
Only in b/common/lib/modules/fglrx/build_mod: firegl_public.c.orig
Only in b/common/lib/modules/fglrx/build_mod: libfglrx_ip.a
Only in b/common/lib/modules/fglrx/build_mod: make.sh.log
