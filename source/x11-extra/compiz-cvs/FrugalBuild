# Last Modified: Tue, 15 Aug 2006 14:44:19 +0100
# Compiling Time: 0.43 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=compiz-cvs
pkgver=20060624
pkgrel=6
pkgdesc="Composite and window manager for Xgl"
url="http://en.opensuse.org/Compiz"
groups=('x11-extra')
backup=('etc/sysconfig/compiz')
archs=('x86_64' 'i686')
depends=('glitz>=0.5.5_cvs' 'libsvg-cairo' 'libxevie' 'libxdamage' 'libpng' \
	'libxrandr' 'gconf' 'startup-notification' 'libwnck' 'control-center' 'libxcomposite' \
	'mesa-cvs>=20060624')
makedepends=('util-macros' 'intltool')
up2date=$pkgver
source=(http://ftp.frugalware.org/pub/other/sources/compiz/compiz-$pkgver.tar.bz2 \
	frugalware.png compiz-sysconfig compiz-gnome compiz-decoration.patch)
sha1sums=('aa3eeb45b0ca35d8ccba0050232cc588e24cd890' \
	  '7bed0f04aa9cf686130146185d2b6ab7c572b3ab' \
	  'b6409be9a4444cc6e38aadaf6779199cc3ebd32c' \
	  '0d4725141273e5a9c453a75c571c4f81951933b4' \
	  'f9def6af342ee1d726866c13ec7c4018aa3d0cad')
_F_gnome_schemas=('/etc/gconf/schemas/compiz.schemas')
Finclude gnome-scriptlet

build()
{
	Fcd compiz-$pkgver
	Fpatchall
	Fsed '$srcdir/configure' '#./configure' autogen.sh
	Fsed 'novell.png' 'frugalware.png' plugins/compiz.schemas.in.in
	./autogen.sh || Fdie
	Fmake --enable-libsvg-cairo --enable-gnome --enable-gconf-dump --with-gl-cflags="-I/usr/lib/mesa-cvs/include" --with-gl-libs="-L/usr/lib/mesa-cvs/lib -lGL"
	Fmakeinstall
	Finstall 0644 frugalware.png usr/share/compiz/frugalware.png
	Fexe compiz-gnome usr/bin
	Fmkdir /etc/sysconfig
	Finstall 644 compiz-sysconfig /etc/sysconfig/compiz
	Fbuild_gnome_scriptlet
}

# optimization OK
