# Compiling Time: 6.34 SBU
# Maintainer: Elentir <elentir@mailoo.org>

pkgname=xorg-server-minimal
_F_xorg_name=xorg-server
pkgver=1.7.4
pkgrel=1
pkgdesc="X.Org X Server for Fwife Install CD"
groups=('x11-extra')
archs=('i686' 'x86_64' )
depends=('libxfont>=1.4.0' 'libx11>=1.3' 'xtrans>=1.2.3' 'libxau>=1.0.4' 'libsm' \
	'libxkbfile>=1.0.5' 'libxdmcp>=1.0.2-2' 'libxrender>=0.9.4-3'  'libxext' \
	'freetype2' 'xkeyboard-config>=1.7' 'pixman>=0.16.0' 'libpciaccess>=0.10.8')
makedepends=('randrproto>=1.3.0' 'renderproto>=0.9.3' 'fixesproto' 'damageproto>=1.1.0' 'xproto>=7.0.15' \
	'xf86dgaproto' 'compositeproto>=0.4' 'resourceproto' 'videoproto>=2.2.2' 'scrnsaverproto' 'evieext' \
	'fontsproto' 'kbproto' 'inputproto>=1.5' 'bigreqsproto' 'xcmiscproto' 'xextproto>=7.0.99.3' \
	'fontcacheproto' 'util-macros>=1.2.1')
conflicts=('xorg-server')
Finclude xorg
## fix up2date by grepv'ing the beta and other weird version number
up2date="lynx -dump $_F_xorg_url | grep -v '1.7.99' | grep -v '902' | grep -v '901' | Flasttar"
F_cd_path=$_F_xorg_name-$pkgver
sha1sums=('26de24d7ced735bd717a21c5110d22d662221a58')
Fconfopts="$Fconfopts --enable-install-setuid \
	--disable-kdrive --disable-xvfb\
	--disable-glx --disable-xvmc \
	--disable-xephyr --disable-config-hal \
	--disable-dri --disable-dri2 \
	--disable-ipv6 --disable-xinerama \
	--disable-dmx --enable-xorg \
	--disable-screensaver --disable-xres \
	--disable-composite --with-xkb-output=/var/lib/xkb \
	--with-xkb-path=/usr/lib/X11/xkb --disable-xnest \
	--disable-dbe"

# optimization OK
