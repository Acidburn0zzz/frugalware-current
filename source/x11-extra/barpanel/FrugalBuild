# Compiling Time: 0.01 SBU
# Maintainer: James Buren <ryuo@frugalware.org>

pkgname=barpanel
pkgver=0.5.0
pkgrel=1
pkgdesc="A continuation of foopanel."
url="http://www.ossproject.org/projects/barpanel"
rodepends=('pygtk')
makedepends=('python')
groups=('x11-extra')
archs=('i686' 'x86_64')
up2date="Flasttar $url/download"
source=(http://www.ossproject.org/files/$pkgname/$pkgname-$pkgver.tar.gz)
sha1sums=('d087577af648adafd60ff967f581044da7cfb3e6')
Finclude python
subpkgs=("$pkgname-menu" "$pkgname-battery" "$pkgname-libwnck" "$pkgname-systray")
subdescs=("Menu plugin for $pkgname." "Battery monitor plugin for $pkgname" "libwnck based plugins for $pkgname." "System tray plugin for $pkgname.")
subgroups=("x11-extra" "x11-extra" "x11-extra" "x11-extra")
subrodepends=("barpanel>=$pkgver pyxdg" "barpanel>=$pkgver dbus-python hal" "barpanel>=$pkgver gnome-python-desktop-wnck" "barpanel>=$pkgver stalonetray")
subarchs=("i686 x86_64" "i686 x86_64" "i686 x86_64" "i686 x86_64")

build()
{
	Fbuild
	Fsplit $pkgname-menu $_F_python_libdir/$pkgname/plugins/menu.py{,c}
	Fsplit $pkgname-battery $_F_python_libdir/$pkgname/plugins/battery.py{,c}
	Fsplit $pkgname-libwnck $_F_python_libdir/$pkgname/plugins/pager.py{,c}
	Fsplit $pkgname-libwnck $_F_python_libdir/$pkgname/plugins/windowlist.py{,c}
	Fsplit $pkgname-libwnck $_F_python_libdir/$pkgname/plugins/windowmenu.py{,c}
	Fsplit $pkgname-systray $_F_python_libdir/$pkgname/plugins/stalonetray.py{,c}
}
