# Compiling Time: 0.35 SBU
# Maintainer: James Buren <ryuo@frugalware.org>
# Contributor: DNAku <DNAku@frugalware.org>

pkgname=pekwm
pkgver=0.1.10
docver=0.1.10
pkgrel=1
pkgdesc="A lightweight window manager, originally based off aewm++."
url="http://pekwm.org/projects/pekwm"
depends=('libsm' 'libxinerama' 'libxrandr' 'libxft' 'libxpm' 'libjpeg' 'libpng' 'libstdc++')
rodepends=('xprop')
groups=('x11-extra')
archs=('i686' 'x86_64')
up2date="Flasttar $url/releases"
source=(http://www.pekwm.org/projects/3/files/$pkgname-$pkgver.tar.bz2 \
	http://www.pekwm.org/files/pekwm/doc/$docver/arc/pekwm-doc.tar.bz2 \
	$pkgname.desktop $pkgname-session xinitrc.$pkgname)
sha1sums=('5a92fb3f6446270900fe4decd491ae841a92de38' \
          'b100edfe489c7fa64a817deb4c078893d95db418' \
          '2ae1c2462271de97a8a49a142d628ba554e00f40' \
          '75b1c92ef3edd8c547a594725cf4dcf31ebcf32c' \
          'bec93feb202820cd19455c92fb5bb9fa92b88a51')

build()
{
	Fbuild --enable-shape --enable-xinerama --enable-xrandr --enable-xft \
	       --enable-image-xpm --enable-image-png --enable-image-jpeg \
	       --disable-debug --enable-menus --enable-harbour
	# process html docs for users
	Fmkdir /usr/share/doc/$pkgname-$pkgver/html
	Fcp $pkgname-doc /usr/share/doc/$pkgname-$pkgver
	Fmv /usr/share/doc/$pkgname-$pkgver/$pkgname-doc/* /usr/share/doc/$pkgname-$pkgver
	Frm /usr/share/doc/$pkgname-$pkgver/$pkgname-doc
	Ffile /etc/X11/sessions/$pkgname.desktop
	Fexe /etc/X11/xinit/xinitrc.$pkgname
	Fexe /usr/bin/$pkgname-session
}

# optimization OK
