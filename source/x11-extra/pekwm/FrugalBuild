# Compiling Time: 0.35 SBU
# Maintainer: James Buren <ryuo@frugalware.org>
# Contributor: DNAku <DNAku@frugalware.org>

pkgname=pekwm
pkgver=0.1.6
pkgrel=2
pkgdesc="A lightweight window manager, originally based off aewm++."
url="http://pekwm.org/projects/pekwm"
depends=('libsm' 'libxinerama' 'libxrandr' 'libxft' 'pcre' 'libxpm' 'libjpeg' 'libpng')
groups=('x11-extra')
archs=('i686' 'x86_64')
up2date="Flasttar $url/releases"
# i know the name is wierd, but blame the website, not me.
_F_http_name="15?project_id=3"
source=(http://pekwm.org/files/download/$_F_http_name $pkgname.desktop \
	$pkgname-$pkgver-gcc-4.3.patch $pkgname-session xinitrc.$pkgname)
sha1sums=('f1be57d14d32d096a399b1b9409ee9c44820bb6e' \
          '2ae1c2462271de97a8a49a142d628ba554e00f40' \
          'bee2386b1e8955ba391c0392db91415b8e34b304' \
          '75b1c92ef3edd8c547a594725cf4dcf31ebcf32c' \
          'bec93feb202820cd19455c92fb5bb9fa92b88a51')

build()
{
	# call tar directly, since Fextract appears to not work here
	tar -xf $_F_http_name || Fdie
	Fbuild --enable-shape --enable-xinerama --enable-xrandr --enable-xft \
	--enable-pcre --enable-image-xpm --enable-image-png --enable-image-jpeg\
	--enable-menus --enable-harbour
	Ffile /etc/X11/sessions/$pkgname.desktop
	Ffile /etc/X11/xinit/xinitrc.$pkgname
	Fexe /usr/bin/$pkgname-session
}

# optimization OK
