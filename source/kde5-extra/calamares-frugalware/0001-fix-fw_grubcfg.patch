From 2f6f7977e1cc5257dc810cdeff7c7f96bf8ba18d Mon Sep 17 00:00:00 2001
From: Gabriel Craciunescu <crazy@frugalware.org>
Date: Tue, 30 May 2017 15:27:31 +0200
Subject: [PATCH] errm I hate it really

---
 src/modules/fw_grubcfg/main.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/modules/fw_grubcfg/main.py b/src/modules/fw_grubcfg/main.py
index a8f71f706..d3bde973a 100644
--- a/src/modules/fw_grubcfg/main.py
+++ b/src/modules/fw_grubcfg/main.py
@@ -43,7 +43,7 @@ def modify_grub_default(partitions, root_mount_point, distributor):
     for partition in partitions:
         if partition["fs"] == "linuxswap" and "luksMapperName" in partition:
             swap_outer_uuid = partition["luksUuid"]
-        else:
+        if partition["fs"] == "linuxswap" and not "luksMapperName" in partition:
             swap_uuid = partition["uuid"]
 
         if partition["mountPoint"] == "/" and "luksMapperName" in partition:
-- 
2.13.0

