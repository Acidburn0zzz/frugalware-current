# Compiling Time: 0.83 SBU
# Maintainer: Devil505 <devil505linux@gmail.com>
# Contributor: crazy <crazy@frugalware.org>

pkgname=cryptopp
pkgver=5.6.4
pkgrel=1
pkgdesc="C++ library for cryptography"
groups=('lib-extra')
archs=('i686' 'x86_64')
depends=()
_F_sourceforge_sep="None"
_F_sourceforge_pkgver="`echo $pkgver|tr -d '.'`"
_F_sourceforge_ext=".zip"
Finclude sourceforge
source=($source libcrypto++.pc)
sha1sums=('effa1770b81dfe05db48ddc0468ead8660929650' \
          'd14ff4d11af371657026a88cfd449a62831143fb')

build()
{

	cd $Fsrcdir || Fdie
	mv config.recommend config.h || Fdie
	sed -i -e 's/^CXXFLAGS/#CXXFLAGS/' GNUmakefile || Fdie
	export CXXFLAGS="${CXXFLAGS} -DNDEBUG -fPIC" || Fdie
	make -f GNUmakefile || Fdie
	make libcryptopp.so || Fdie

	Fmkdir usr/{lib/pkgconfig,include/cryptopp}
	Finstallrel 644 *.h /usr/include/cryptopp/
	Finstallrel 644 libcryptopp.a usr/lib/libcryptopp.a
	Finstallrel 644 libcryptopp.so usr/lib/libcryptopp.so
	Finstall 644 libcrypto++.pc /usr/lib/pkgconfig/libcrypto++.pc
}

# optimization OK
