# Compiling Time: 0.81 SBU
# Maintainer: Pingax <pingax@frugalware.fr>
# Contributor: Kooda <kooda@upyum.com>
# Contributor: Miklos Vajna <vmiklos@frugalware.org>

pkgname=botan
pkgver=1.11.29
pkgrel=1
pkgdesc="Crypto library written in C++"
url="http://botan.randombit.net/"
depends=('libstdc++' 'bzip2' 'openssl' 'xz' 'sqlite3' 'zlib')
groups=('lib-extra')
archs=('i686' 'x86_64')
_F_archive_name="Botan"
_F_archive_grepv="1.9" # dev versions
up2date="Flastarchive http://botan.randombit.net/download.html .tgz"
source=(http://botan.randombit.net/releases/Botan-$pkgver.tgz)
sha1sums=('cf1673ff6bb50d4417cafd01c9aa196c77cc81db')

build()
{
	Fcd
	Fsed "-O3" "$CFLAGS" src/build-data/cc/gcc.txt
	./configure.py \
		--prefix=/usr \
		--destdir=$Fdestdir/usr \
		--cc=gcc \
		--os=linux \
		--with-lzma \
		--with-sqlite3 \
		--enable-modules=bzip2,zlib,openssl || Fdie
	make || Fdie
	make DESTDIR=$Fdestdir/usr install || Fdie
}

# optimization OK
