# Compiling Time: 0.0 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=appstream
_F_archive_name="AppStream"
pkgver=0.9.2
pkgrel=1
pkgdesc="Provides a standard for creating app stores across distributions"
url="http://distributions.freedesktop.org/wiki/${_F_archive_name}"
depends=('glib2' 'libxml2' 'libyaml' 'xapian-core' 'protobuf')
makedepends=('intltool' 'xmlto' 'docbook-xsl' 'python' 'gobject-introspection')
groups=('lib-extra')
archs=('x86_64' 'i686')
source=("http://www.freedesktop.org/software/$pkgname/releases/${_F_archive_name}-$pkgver.tar.xz")
up2date="Flasttar http://www.freedesktop.org/software/$pkgname/releases"
sha1sums=('f7eed28438865683e2c311dc4e80d171fd0cd49f')
options=('scriptlet')
_F_cmake_confopts="	-DQT=ON"
_F_cmake_type="Release"
Finclude cmake

subpkgs=("$pkgname-qt")
subdescs=("Qt Bindings for Appstream")
subrodepends=("$pkgname=$pkgver")
subdepends=('qt5-base')
subgroups=('xlib-extra')
subarchs=('x86_64 i686')

build() {
	CMake_build
	Fsplit appstream-qt	usr/include/AppstreamQt/
	Fsplit appstream-qt	usr/lib/cmake/AppstreamQt/
	Fsplit appstream-qt	usr/lib/libAppstreamQt.so*
}

# optimization OK
