# Last Modified: Sat, 16 Sep 2006 10:56:58 +0200
# Compiling Time: 2.17 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=rblibtorrent
pkgver=0.10
pkgrel=1
pkgdesc="LibTorrent is a BitTorrent library written in C++"
url="http://www.rasterbar.com/products/libtorrent/index.html"
depends=('boost>=1.33.1-2' 'zlib')
groups=('lib-extra')
archs=('i686')
up2date="lynx -dump http://sourceforge.net/project/showfiles.php?group_id=79942|grep -m1 '.tar.gz'|sed 's/.*-\(.*\).t.*/\1/'"
source=(http://heanet.dl.sourceforge.net/sourceforge/libtorrent/libtorrent-$pkgver.tar.gz \
	not-for-upstream.patch)
_F_cd_path="libtorrent-$pkgver"
sha1sums=('8b31a4aecaf2f9469e3949939a81d6bfb4661c25' \
          '3e69ace38ce0ee59fd244cb8b8fe306ef3977f47')

build()
{
 	Fbuild \
		--libdir=/usr/lib/libtorrent \
		--enable-debug=no \
		--with-zlib=system \
		--with-boost-date-time=mt \
		--with-boost-filesystem=mt \
		--with-boost-thread=mt \
		--with-boost-regex=mt \
		--with-boost-program_options=mt
	Fmv usr/lib/libtorrent/pkgconfig usr/lib/pkgconfig/
	Fln /usr/lib/libtorrent/libtorrent.so.0.1.0 /usr/lib/libtorrent.so.0

}
# optimization OK
