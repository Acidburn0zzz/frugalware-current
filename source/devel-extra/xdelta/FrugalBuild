# Compiling Time: 0.05 SBU
# Maintainer: exceed <exceed.cedric@gmail.com>
# Contributor: Othmane Benkirane <eo@rhyhann.net>

pkgname=xdelta
pkgver=3.0w
pkgrel=1
pkgdesc="Delta/differential compression tools and binary diff tool"
url="http://xdelta.org"
groups=('devel-extra')
archs=('i686' 'x86_64')
depends=('glibc' 'python')
_F_googlecode_sep="None"
Finclude googlecode
up2date="Flastarchive http://code.google.com/p/$pkgname/downloads/list?q=label:Featured .tar.gz"
source=(http://${pkgname}.googlecode.com/files/${pkgname}${pkgver}.tar.gz \
	xdelta3-makefile.patch)
_F_cd_path="${pkgname}${pkgver}"
sha1sums=('2d661f78dab7eefe69136ca9f98d12c5b6a11809' \
          '14f7c5bbe31f8c3f73e45728ab38ab6e06de7429')

build()
{
	Fpatchall
	make xdelta3 || Fdie
	Fexerel /usr/bin/xdelta3
	# python module:	
	python ./setup.py install --root $Fdestdir || Fdie
   	make xdelta3module.so || Fdie
	Fexerel /usr/lib/python2.6/site-packages/xdelta3.py
}

# optimization OK
