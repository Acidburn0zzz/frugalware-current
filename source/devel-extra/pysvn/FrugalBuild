# Compiling Time: 0.10 SBU
# Maintainer: Miklos Vajna <vmiklos@frugalware.org>

pkgname=pysvn
pkgver=1.5.3
pkgid=41267
pkgrel=1
pkgdesc="Python bindings for Subversion"
url="http://pysvn.tigris.org/servlets/ProjectDocumentList?folderID=1762"
depends=('subversion')
makedepends=('pycxx')
groups=('devel-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump $url|Flasttar"
source=(http://pysvn.tigris.org/files/documents/1233/$pkgid/pysvn-$pkgver.tar.gz \
	pysvn-1.5.3-apr.diff)
sha1sums=('0de3c4be6bdc97968f31b1ae08d52efbf4838a41' \
          'b61f13e16d77f9785c1591b169d71ce718049e1e')
Finclude python

build()
{
	Fpatchall
	cd Source
	python setup.py configure --apr-inc-dir=/usr/include/apr --apr-lib-dir=/usr/lib || return 1
	make || return 1
	Fmkdir $_F_python_libdir/pysvn
	Ffilerel pysvn/__init__.py $_F_python_libdir/pysvn/
	Fexerel pysvn/_pysvn_2_5.so $_F_python_libdir/pysvn/
}

