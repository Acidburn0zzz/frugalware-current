# Compiling Time: 0.90 SBU
# Maintainer: Miklos Vajna <vmiklos@frugalware.org>
# Contributor: Elentir <elentir@mailoo.org>

pkgname=clisp
pkgver=2.47
pkgrel=1
pkgdesc="GNU CLisp is an ANSI Common Lisp Implementation"
url="http://clisp.cons.org/"
source=("http://ftp.gnu.org/pub/gnu/clisp/latest/$pkgname-$pkgver.tar.bz2")
depends=('glibc' 'readline' 'gettext' 'libsigsegv' 'ffcall')
groups=('devel-extra')
archs=('i686')
up2date="Flasttar http://ftp.gnu.org/pub/gnu/clisp/latest/"
Fconfopts="--prefix=/usr --docdir=/usr/share/doc/$pkgname-$pkgver"
sha1sums=('63749bf07409cee134c195547e6d911554b619d6')

build() {
	Fcd
	./configure $Fconfopts || Fdie
	cd src || Fdie
	./makemake --with-dynamic-ffi ${Fconfopts} > Makefile || Fdie
	unset MAKEFLAGS
	make || Fdie
	Fmakeinstall
}

# optimization OK
