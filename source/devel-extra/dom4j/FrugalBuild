# Compiling Time: 0.08 SBU
# Maintainer: Miklos Vajna <vmiklos@frugalware.org>

pkgname=dom4j
pkgver=1.6.1
pkgrel=2
pkgdesc="An easy to use library for working with XML in Java."
_F_github_author="$pkgname"
Finclude github openjava
depends+=('msv' 'xpp2' 'xpp3' 'ws-jaxme')
groups=('devel-extra')
archs=('x86_64')
source+=(dom4j-1.6.1-java5.patch)
## note there is 2.x.x too
up2date="lynx -dump https://github.com/dom4j/dom4j/releases | grep -m1 '\.tar.gz' | sed 's/.* .*-\(.*\).tar.gz/\1/'"
sha1sums=('8a2ab8af1dd039c449032ad50f3dd050647d7ce8' \
          '670abc8ae563ff23705cd79d38383bdae51ca703')

build()
{
	Fpatchall
	# avoid x11 dep
	Fexec rm -f src/test/org/dom4j/bean/BeansTest.java
	# makedepcycle with jaxen :/
	_F_javacleanup_opts="-a ! -name jaxen-1.1-beta-6.jar"
	Fjavacleanup
	Fant package
	Fjar build/dom4j.jar
}
