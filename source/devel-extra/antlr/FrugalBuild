# Last Modified: Wed, 27 Sep 2006 01:37:35 +0200
# Compiling Time: 0.85 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=antlr
pkgver=2.7.6
pkgrel=3
pkgdesc="ANother Tool for Language Recognition"
url="http://www.antlr.org/"
Finclude java
makedepends=('ecj' 'java-gcj-compat' 'gcc-gcj')
groups=('devel-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump http://www.antlr.org/download.html|grep Current|sed 's/.*s \(.*\) (.*/\1/'"
source=(http://www.antlr.org/download/antlr-$pkgver.tar.gz)

build()
{
	JAVAC=ecj Fbuild
	# install the proper java/python bindings
	Fjar antlr/antlr.jar
	cd lib/python
	rm Makefile*
	Fmakeinstall
	# then clean up the junk
	Frm /usr/lib/antlr.{jar,py} /usr/sbin
	Frm /usr/share/antlr-$pkgver/{__init__.py,antlr.jar,antlr.py}
}

# optimization OK

sha1sums=('e923acd81c590234ea241da96a536e3dcf7f77fb')
