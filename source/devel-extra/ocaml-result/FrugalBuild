# Compiling Time: 0.06 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=ocaml-result
pkgver=1.2
pkgrel=4
pkgdesc='Compatibility Result module'
archs=('x86_64')
groups=('devel-extra')
depends=('ocaml>=4.06.0')
makedepends=('ocaml-findlib')
_F_github_name="result"
_F_github_author="janestreet"
_F_github_tag=yes
Finclude github
source+=("fix-build.patch")
sha1sums=('f9c51e5f92035ddc2600aa69fa3325634086535d' \
          'ce1c05db482de9329beca1684ca2a7b2c168a1bb')
_F_cd_path="result-$pkgver"

build() {
	Fpatchall
	Fexec make -j1 || Fdie
	export OCAMLFIND_DESTDIR="${Fdestdir}$(ocamlfind printconf destdir)"
	Fexec mkdir -p "${OCAMLFIND_DESTDIR}"
	Fmakeinstall

}

