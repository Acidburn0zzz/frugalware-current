# Compiling Time: 0.19 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=python-pillow
pkgver=5.0.0
pkgrel=2
pkgdesc="Python Imaging Library (PIL) fork"
depends=('libwebp' 'tk' 'sane-backends' 'libtiff' 'python' 'pytz')
makedepends=('python-setuptools')
groups=('devel-extra')
archs=('x86_64')
_F_python_version=python
_F_github_author="python-pillow"
_F_github_name="Pillow"
_F_github_tag=y
_F_cd_path="Pillow-$pkgver"
Finclude github
source+=(https://github.com/python-pillow/Pillow/commit/8edbc79e7f5cf32307caf609b1a346456f8d9fb4.patch)
sha1sums=('0abbc09a52b6129a4def5cc33b8c619dd9bf2c8f' \
          '7d01ce6ff0b5498975b319d868c7343612400bfb')

replaces=('imaging')
provides=('imaging')
conflicts=('imaging')

build() {
	Fcd
	CFLAGS+=" -fno-strict-aliasing"
	rm Makefile
	Fbuild
}

# optimization OK
