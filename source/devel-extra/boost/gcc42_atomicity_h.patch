diff -Naur boost_1_34_0.orig/boost/detail/atomic_count_gcc.hpp boost_1_34_0/boost/detail/atomic_count_gcc.hpp
--- boost_1_34_0.orig/boost/detail/atomic_count_gcc.hpp	2007-05-26 14:18:17.000000000 +0200
+++ boost_1_34_0/boost/detail/atomic_count_gcc.hpp	2007-05-26 14:19:26.000000000 +0200
@@ -17,7 +17,15 @@
 //  http://www.boost.org/LICENSE_1_0.txt)
 //
 
-#include <bits/atomicity.h>
+#define GCC_VERSION (__GNUC__ * 10000 \
+		     + __GNUC_MINOR__ * 100 \
+		     + __GNUC_PATCHLEVEL__)
+
+#if GCC_VERSION >= 40200
+ #include <ext/atomicity.h>
+#else
+ #include <bits/atomicity.h>
+#endif
 
 namespace boost
 {
