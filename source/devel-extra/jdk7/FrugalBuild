# Compiling Time: 0.13 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=jdk7
pkgver=7b12
longver=1.7.0
pkgrel=1
pkgdesc="Sun's java runtime environmen (version 7)"
url="http://download.java.net/jdk7/"
depends=()
groups=('devel-extra')
archs=('i686')
up2date="lynx -dump $url/binaries/|grep Build|sed 's/.* /7/'"
source=(http://download.java.net/jdk7/binaries/jdk-7-ea-bin-${pkgver#?}-linux-i586-06_may_2007.bin \
	jdk7.sh)
sha1sums=('34dbabf4e8dc8c88de989db9ee312bd174c4f4f3'\
          '9803ec2e040983d788f9b191a56179eaae257a0d')

build()
{
	Fmkdir /usr/lib/
	echo "yes" | sh ${source##*/} 2> /dev/null || Fdie
	cp -rf jdk$longver $Fdestdir/usr/lib/java/ || Fdie
	for i in jdk$longver/*
	do
		if [ -f $i ] ; then
			Frm `echo $i | sed "s|jdk$longver|/usr/lib/java|"`
		fi
	done
	chown -R root.root $Fdestdir/* || Fdie
	Fexe /etc/profile.d/$pkgname.sh
}
