# Compiling time: 1.25 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>
# Contributor: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=gstreamer
pkgver=0.11.99
pkgrel=1
pkgdesc="Open Source Multimedia Framework"
url="http://gstreamer.freedesktop.org/"
depends=('glib2>=2.16.3' 'libxml2>=2.7.8' 'check')
makedepends=('python>=2.7' 'gtk-doc' 'pyxml' 'cvs' 'gobject-introspection')
groups=('xmultimedia')
archs=('i686' 'x86_64')
options=('scriptlet')
replaces=('gstreamer08')
_F_gnome_ext=".tar.xz"
Finclude gnome
source=($source gstreamer10.sh)
replaces=('gst-plugins-bad-alsa')

subpkgs=("$pkgname-docs")
subdescs=('GStreamer Documentation.')
subdepends=()
subgroups=('docs-extra')
subarchs=('i686 x86_64')

build()
{
	Fcd
	for i in $(find . -name Makefile.in)
	do
		sed -i 's/^        /\t/' $i
	done
	Fbuild \
		--disable-tests \
		--disable-debug \
		--enable-gtk-doc \
		--disable-docbook \
             	--disable-examples \
             	--with-package-name='Frugalware gstreamer package' \
		--with-gnu-ld \
	     	--with-package-origin="http://frugalware.org/" \
		--disable-dependency-tracking

	Fexe /etc/profile.d/gstreamer10.sh
      	Fsplit $pkgname-docs usr/share/gtk-doc
}

sha1sums=('0944f81868643f8f856d87a8a9a352be37036795' \
          '9c4dbeb5436b8a4d135f8a89a939295d2d0cfa81')

# optimization OK
