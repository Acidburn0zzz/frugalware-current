# Last modified: Wed, 02 Aug 2006 21:53:48 +0200
# Compiling time: 0.63 SBU
# Maintainer: Bence Nagy <nagybence@tipogral.hu>

pkgname=ruby
pkgver=1.8.4
pkgrel=4
pkgdesc="An object-oriented programming language"
url="http://www.ruby-lang.org/"
depends=('gdbm' 'db' 'openssl' 'zlib' 'readline' 'termcap' 'glibc>=2.4')
makedepend=('tk')
groups=('devel')
archs=('i686' 'x86_64')
up2date="lynx -dump http://www.ruby-lang.org/en/20020102.html | grep 'The stable release' | sed \"s/.*ruby-\([0-9\.]*\)\..*/\1/\""
source=(ftp://ftp.ruby-lang.org/pub/ruby/ruby-$pkgver.tar.gz fixes.patch \
	$pkgname-$pkgver-fix-alias-safe-level.patch ruby-1.8.4-fix-insecure-dir-operation.patch \
	ruby-1.8.4-fix-insecure-regexp-modification.patch)

build() {
	Fbuild --enable-shared --enable-pthread \
	--with-tk-include=/usr/include/tk/generic \
	--with-tcl-include=/usr/include/tcl/generic
}
sha1sums=('93999577c7fc4decc6b2fe8fefa96e743f278fbf' \
	  'f379b77b4dd7186ad3ad1ac01407f6f6bff23ded' \
	  'a311e24613a9178070cb7be12018e53bcaee7262' \
	  'e1f3e8064e8e165a56cfc72a4b2ee0c6a9ea8182' \
	  '0c5e68174a1ba212463b2db33d63b2fad773413b')

# optimization OK
