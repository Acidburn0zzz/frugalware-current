# Last modified: Wed, 21 Sep 2005 13:54:20 +0200
# Compiling time: 3.45 SBU
# Maintainer: Laszlo Dvornik <dvornik@gnome.hu>

pkgname=mono
pkgver=1.1.9
mainver=1.1
pkgrel=2
pkgdesc="Mono runtime and class libraries, a C# compiler/interpreter"
url="http://www.mono-project.com/"
depends=('glib2' 'icu' 'zlib' 'libgc')
makedepends=('pkgconfig')
groups=('devel')
archs=('i686' 'x86_64')
install=$pkgname.install
up2date="elinks -dump $url/Downloads | grep Stable | sed 's/.*Mono \(.*\)\ (.*/\1/'"
source=(http://www.go-mono.com/sources/$pkgname-$mainver/$pkgname-$pkgver.tar.gz \
	rc.mono http://frugalware.org/~krix/mono-cvs-backport-20050920.patch.bz2)
sha1sums=('ba17ec8596e751bee0618d371aa77d652958ba4e' \
	  '5ad25490e70b0d1f48b855c3287d962b3bd453be' \
	  '1ea467112716be239a715f58238f7f136d89dff5')

build()
{
	export MONO_SHARED_DIR=$Fdestdir/weird
	mkdir -p $MONO_SHARED_DIR

	Fcd
	Fpatchall
	
	Fmake --with-tls=__thread --with-gc=boehm
	Fmakeinstall
	rm -rf $MONO_SHARED_DIR

	# Init scripts.
	Frcd
}

# vim: ft=sh

# optimalization OK
