# Last modified: Wed, 21 Sep 2005 13:54:20 +0200
# Compiling time: 3.45 SBU
# Maintainer: Laszlo Dvornik <dvornik@gnome.hu>

pkgname=mono
pkgver=1.1.9.1
mainver=1.1
pkgrel=1
pkgdesc="Mono runtime and class libraries, a C# compiler/interpreter"
url="http://www.mono-project.com/"
depends=('glib2' 'icu' 'zlib')
makedepends=('pkgconfig')
groups=('devel')
archs=('i686' 'x86_64')
install=$pkgname.install
up2date="elinks -dump $url/Downloads | grep Stable | sed 's/.*Mono \(.*\)\ (.*/\1/'"
source=(http://www.go-mono.com/sources/$pkgname-$mainver/$pkgname-$pkgver.tar.gz \
	rc.mono http://frugalware.org/~krix/mono-cvs-backport-20050923.patch.bz2)
sha1sums=('8c28acab4e006765955c158ba53bfba1b25d0cce' \
	  '5ad25490e70b0d1f48b855c3287d962b3bd453be' \
	  'dec12df2988ea2b3b11234691bde9bd58ff01448')

build()
{
	export MONO_SHARED_DIR=$Fdestdir/weird
	mkdir -p $MONO_SHARED_DIR

	Fcd
	Fpatchall
	
	Fmake --with-tls=__thread
	Fmakeinstall
	rm -rf $MONO_SHARED_DIR

	# Init scripts.
	Frcd
}

# vim: ft=sh

# optimalization OK
