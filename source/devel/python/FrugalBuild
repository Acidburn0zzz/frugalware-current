# Last Modified: Fri, 10 Jun 2005 13:21:42 +0000
# Compiling Time: ~9 minutes
# Maintainer: VMiklos <mamajom@axelero.hu>

pkgname=python
pkgver=2.4.1
shortpkgver=2.4 # 2.3 if $pkgver=2.3.4
pkgrel=2
pkgdesc="A high-level scripting language"
url="http://www.python.org"
depends=('glibc' 'db' 'bzip2' 'gdbm' 'openssl')
makedepends=('tk')
groups=('devel')
archs=('i686' 'x86_64')
up2date="lynx -dump http://www.python.org/download/|grep current|sed -n '1 p'|tr -s ' '|cut -d ' ' -f 3"
source=(ftp://ftp.python.org/pub/python/$pkgver/Python-$pkgver.tgz)
md5sums=('7bb2416a4f421c3452d306694d3efbba')
[ "$CARCH" == "x86_64" ] && export CFLAGS="$CFLAGS -fPIC"

build()
{
	Fcd Python-$pkgver
	Fconf --prefix=/usr --with-threads --enable-shared --enable-ipv6 || return 1
	Fsed '^\(OPT=\).*' "\1\t\t$CFLAGS" Makefile
	make || return 1
	Fmakeinstall || return 1
	Frm /usr/bin/python$shortpkgver
	Fln python /usr/bin/python$shortpkgver
}

# vim: ft=sh
