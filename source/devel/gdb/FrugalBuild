# Last Modified: Mon, 09 May 2005 10:08:49 +0200
# Compiling Time: ~lot minute
# Maintainer: Shrift <shrift@frugalware.org>

pkgname=gdb
pkgver=6.3
pkgrel=1
pkgdesc="Gnu Project Debugger"
url="http://www.gnu.org/software/gdb/download/"
depends=('glibc' 'ncurses')
groups=('devel')
#conflicts=('withnothing')
up2date="lynx -dump 'http://ftp.gnu.org/gnu/gdb/?M=D'|grep .tar.bz2$|sed -ne 's/.*b-\(.*\)\.t.*/\1/;1 p'"
source=(http://ftp.gnu.org/gnu/gdb/$pkgname-$pkgver.tar.bz2)
md5sums=('05b928f41fa5b482e49ca2c24762a0ae')

build() {
        cd $startdir/src/$pkgname-$pkgver
        ./configure --prefix=/usr
	
        make || return 1
	
        make DESTDIR=$startdir/pkg install
	rm -f $startdir/pkg/usr/include/{bfd.h,symcat.h,ansidecl.h,bfdlink.h}
	rm -f $startdir/pkg/usr/lib/{libopcodes.a,libopcodes.la}
	rm -f $startdir/pkg/usr/lib/{libiberty.a,libbfd.a,libbfd.la}
	rm -f $startdir/pkg/usr/include/dis-asm.h	
	rm -dfr $startdir/pkg/usr/share/locale/*
}

# vim: ft=sh