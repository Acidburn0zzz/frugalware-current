# Last Modified: Tue, 31 May 2005 16:40:30 +0000
# Compiling Time: ~1 minute
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=pccts
pkgver=133mr
pkgrel=1
pkgdesc="The Purdue Compiler-Compiler Tool Set"
url="http://www.polhode.com/pccts.html"
depends=()
groups=('devel')
archs=('i686' 'x86_64')
up2date="lynx -dump -source $url|grep 'downloading PCCTS'|sed 's/.*pccts\(.*\)\.h.*/\1/'"
source=(http://www.polhode.com/$pkgname$pkgver.zip $pkgname-$pkgver-gcc33.diff)
md5sums=('fd70972b0a6aa2d3cf8b5c66d26d229d' '6ddd4ffcbb5b3c5a7b9f5cc0ff14062e')

build() {
	cd $startdir/src/$pkgname
	patch -p1 < $startdir/src/$pkgname-$pkgver-gcc33.diff
	
	make || return 1
	
	# install manually as the README suggests
	mkdir -p $startdir/pkg/usr/{bin,include/pccts}
	cp $startdir/src/$pkgname/bin/{antlr,dlg,sorcerer,genmk} \
		$startdir/pkg/usr/bin/
	cp $startdir/src/$pkgname/h/* $startdir/pkg/usr/include/pccts/
}

# vim: ft=sh
