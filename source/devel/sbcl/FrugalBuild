# Last Modified: Sun, 30 Apr 2006 14:24:25 +0200
# Compiling Time: 6.34 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=sbcl
pkgver=0.9.12
pkgrel=1
pkgdesc="Steel Bank Common Lisp"
url="http://sbcl.sourceforge.net/"
depends=('glibc')
makedepends=('sbcl')
groups=('devel')
archs=('i686' 'x86_64')
Finclude sourceforge
source=(http://dl.sourceforge.net/sourceforge/$pkgname/$pkgname-$pkgver-source.tar.bz2 $pkgname.sh)

build()
{
	Fcd
	export INSTALL_ROOT=$Fdestdir/usr
	Fmkdir /usr/share/man/man1
	Fsed '\(CFLAGS =\)  -g -Wall -O3' "\1 $CFLAGS" src/runtime/GNUmakefile
	. /etc/profile.d/sbcl.sh

	sh make.sh || return 1

	unset SBCL_HOME
	sh install.sh
	Fexe /etc/profile.d/$pkgname.sh
	Fmv /usr/share/doc/$pkgname /usr/share/doc/$pkgname-$pkgver
}

# optimization OK
sha1sums=('912bbb1e91094bea0902589c603c7725488a5014' \
	  '9357b6f2d69801cccfa5070706c16ffc9dc821bc')
