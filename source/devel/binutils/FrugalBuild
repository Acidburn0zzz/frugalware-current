# Compiling Time: 1.0 SBU
# Maintainer: Miklos Vajna <vmiklos@frugalware.org>

pkgname=binutils
pkgver=2.24
pkgrel=5rigel1
pkgdesc="A set of programs to assemble and manipulate binary and object files"
url="http://www.gnu.org/software/binutils/"
depends=('bash' 'glibc>=2.8-2')
groups=('devel' 'devel-core')
archs=('i686' 'x86_64' 'arm')
Fup2gnubz2
source=(http://ftp.gnu.org/gnu/$pkgname/$pkgname-${pkgver}.tar.bz2 bug16467.patch)
signatures=($source.sig '')


# FSA fix ***
source=(${source[@]} CVE-2014-8484.patch CVE-2014-8485.patch CVE-2014-8501.patch
                     CVE-2014-8502.patch CVE-2014-8503.patch CVE-2014-8504.patch
                                         CVE-2014-8737.patch CVE-2014-8738.patch)
signatures=(${signatures[@]} '' '' '' '' '' '' '' '')
# ***********

build()
{
	Fcd
	Fpatchall
	Fmake \
		--enable-shared \
		--disable-werror
	make check || return 1
	Fmakeinstall
}

# optimization OK
