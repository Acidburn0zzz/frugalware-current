# Compiling Time: 10.15 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=webkit
release=40306
realverion=1.1.0
pkgver=$realverion.$release
pkgrel=1
pkgdesc="Open source web browser engine that's used by Safari"
url="http://www.webkit.org"
depends=('sqlite3' 'gtk+2' 'icu' 'curl>=7.19.2' 'libpng' 'gperf'
	'cairo' 'libxml2' 'pango' 'gst-plugins-base')
makedepends=('bison' 'flex')
groups=('xlib-extra')
archs=('i686')
source=(http://nightly.webkit.org/files/trunk/src/WebKit-r$release.tar.bz2)
up2date="lynx -dump http://nightly.webkit.org/builds/trunk/src/1 | grep WebKit-r | cut -d '-' -f 2 | head -1 | cut -d '.' -f 1 | sed 's/r/$realverion./g'"
options=('scriptlet')
_F_cd_path="WebKit-r$release"
Fconfopts="${Fconfopts[@]} --enable-icon-database --enable-svg \
	--enable-video --enable-svg-use-element \
	--enable-svg-filters \
	--enable-svg-as-image --enable-svg-animation \
	--enable-wml --with-http-backend=curl \
	OUTPUT_DIR=$Fdestir \
	WEBKIT_INC_DIR=/usr/include/WebKit \
	WEBKIT_LIB_DIR=/usr/lib"
sha1sums=('23fc4e94aabfb59501d1d7d7dc6d0cd12b6fc8b6')

build() {
	Fcd
	./autogen.sh $Fconfopts || Fdie
	Fbuild
}

# optimization OK
