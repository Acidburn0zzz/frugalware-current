# Compiling Time: 0.05 SBU
# Maintainer: bouleetbil <bouleetbil@frogdev.info>

pkgname=libgpod
pkgver=0.7.95
pkgrel=1
pkgdesc="Shared library, written using C and GLib/GObject, used by gtkpod to access the contents of an iPod."
depends=('glib2' 'libplist' 'sqlite3' 'libimobiledevice' 'gdk-pixbuf2')
makedepends=('intltool')
groups=('xlib-extra')
archs=('i686' 'x86_64' 'ppc')
_F_sourceforge_dirname="gtkpod"
Finclude sourceforge mono python

subpkgs=("libgpod-python" "libgpod-sharp")
subdescs=('python bindings for libgpod' 'mono bindings for libgpod')
subdepends=("pygtk mutagen swig" "gtk-sharp")
subrodepends=("$pkgname=$pkgver" "$pkgname=$pkgver")
subgroups=('xlib-extra' 'xlib-extra')
subarchs=('i686 x86_64 ppc' 'i686 x86_64 ppc')

sha1sums=('2a9078706470a71047e68f5dab0ec59ae2b5e157')

build()
{
	unset MAKEFLAGS
	Fmonoexport
	Fbuild
	Fmonocleanup
	# python bindings
	Fsplit libgpod-python $_F_python_libdir
	#mono binding
	Fsplit libgpod-sharp usr/lib/pkgconfig/libgpod-sharp.pc
	Fsplit libgpod-sharp usr/lib/libgpod/libgpod-sharp*
}

# optimization OK
