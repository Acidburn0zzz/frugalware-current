# Last Modified: Fri, 07 Jul 2006 03:51:38 +0200
# Compiling Time: 0.14 SBU
# Maintainer: DNAku <DNAku@frugalware.org>

pkgname=libgpod
pkgver=0.3.2
pkgrel=2
pkgdesc="libgpod is a library allowing direct access to the iPod's contents"
url="http://www.gtkpod.org/libgpod.html"
depends=('gtk+2' 'hal' 'pmount' 'eject')
makedepends=('perl-xml' 'swig')
archs=('i686' 'x86_64')
groups=('xlib-extra')
options=('scriptlet')
up2date="lynx -dump http://sourceforge.net/project/showfiles.php?group_id=67873 |grep -m1 libgpod-[0-9] |sed 's/.*pod-//g'|sed 's/ .*//g'"
source=(http://heanet.dl.sourceforge.net/sourceforge/gtkpod/$pkgname-$pkgver.tar.gz)
sha1sums=('ca2c575377534c1e5176e5994dfda7343b19cdf4')

build()
{
	Fbuild
	## fixme
	Fmkdir /usr/lib/python2.4/site-packages/gpod/examples
	cd bindings/python
	Fsed "python2.3" "python2.4" Makefile
	Fsed "/mnt/ipod" "/media/ipod" examples/play.py
	make || return 1
	Finstall 0644 $pkgname-$pkgver/bindings/python/gpod.py /usr/lib/python2.4/site-packages/gpod.py
	Finstall 0644 $pkgname-$pkgver/bindings/python/_gpod.so /usr/lib/python2.4/site-packages/_gpod.so
	cp examples/* $Fdestdir/usr/lib/python2.4/site-packages/gpod/examples
}

# optimization OK
