# Compiling Time: 2.30 SBU
# Maintainer: crazy <crazy@frugalware.org>
# Contributor: Miklos Nemeth <desco@frugalware.org>

pkgname=wxgtk
pkgver=2.6.3
pkgrel=8
pkgdesc="GTK+ implementation of wxWidgets API for GUI'"
_F_sourceforge_dirname="wxwindows"
_F_sourceforge_name="wxGTK"
_F_sourceforge_ext=".tar.bz2"
Finclude sourceforge
url="http://www.wxwidgets.org/"
depends=('gtk+2' 'sdl' 'cppunit')
groups=('xlib-extra')
archs=('i686' 'x86_64')
options=('scriptlet')
source=($source wxGTK-2.6.3-p2.diff)
# see http://www.wxwidgets.org/downloads/patch.htm
replaces=('wxgtk-devel')
conflicts=('wxgtk-devel')
sha1sums=('7c2dfe27a56aa99b4ea557a436bf84a13a579a9d' \
          'a575d6ea06d3ee58756516547877d8377b130e75')

subpkgs=("$pkgname-locale")
subdescs=('Locale files for wxWidgets')
subgroups=('locale-extra')
subdepends=("$pkgname=$pkgver")
subarchs=('i686 x86_64')

build()
{
	Fcd wxGTK-$pkgver
	Fbuild  \
		--disable-unicode \
		--with-opengl \
		--enable-geometry \
		--enable-sound \
		--with-sdl \
		--enable-mediactrl \
		--enable-display \
		--with-gtk2
	cd contrib/src
	Fconf
	make || Fdie
	Fmakeinstall
	Frm /usr/bin/wx-config
	Fln /usr/lib/wx/config/gtk2-ansi-release-2.6 /usr/bin/wx-config
	
	Fsplit $pkgname-locale usr/share/locale
	
}

# optimization OK
