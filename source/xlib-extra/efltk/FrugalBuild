# Last Modified: Sun, 03 Sep 2006 15:18:31 +0200
# Compiling Time: 0.59 SBU
# Maintainer: crazy <crazy@frugalware.org>
# Contributor: BMH1980 <bmh1980de@yahoo.de>

pkgname=efltk
pkgver=2.0.6
pkgrel=1
pkgdesc="EFltk is a LGPL'd C++ graphical user interface toolkit"
url="http://ede.sourceforge.net/"
license="LGPL"
depends=('libjpeg' 'libstdc++' 'libpng' 'mesa' 'libxrender' 'freetype2' 'fontconfig' 'unixodbc' 'libxft')
groups=('xlib-extra')
archs=('i686' '!x86_64')
up2date="lynx -dump http://ede.sourceforge.net/page/download|grep -m1 eFLTK|sed 's/.*TK \(.*\) .*/\1/'"
source=(http://heanet.dl.sourceforge.net/sourceforge/ede/$pkgname-$pkgver.tar.bz2 \
	01-fix-cflags.patch  02-fix-Fl_Text_Buffer.h-extra_qualification.patch \
	03-fix-Fl_Combo_Box.h-extra_qualification.patch 04-no-test.patch)
sha1sums=('314b749d9ee8f2723fe8127b6f0533252102009c' \
          '0c8f452f9b3234f8e1694b149bc649ee01569f5b' \
          '0945594a6968fc1cefca7c1810a4157c41863cea' \
          'b0c2b44e11118b022a12fdee89a4d0a215c11bf9' \
          '745cc08458254b73077d0ef16c729cc2de77620a')

build()
{
	Fcd $pkgname
	Fpatchall
	rm configure
	autoconf || Fdie
	Fmkdir /usr/{bin,include,lib}
	Fconf 	\
		--enable-opengl --enable-utf8 \
		--enable-xft --enable-plugins \
		--enable-xdbe --disable-debug \
		--disable-mysql
	make || return 1
	Fmakeinstall
}

# optimization OK
