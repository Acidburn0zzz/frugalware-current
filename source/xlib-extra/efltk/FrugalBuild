# Compiling Time: 0.59 SBU
# Maintainer: crazy <crazy@frugalware.org>
# Contributor: BMH1980 <bmh1980de@yahoo.de>

pkgname=efltk
pkgver=2.0.6
pkgrel=2
pkgdesc="EFltk is a LGPL'd C++ graphical user interface toolkit"
_F_sourceforge_dirname="ede"
_F_sourceforge_broken_up2date=1
Finclude sourceforge
url="http://equinox-project.org/"
license="LGPL"
depends=('libjpeg' 'libstdc++' 'libpng' 'mesa' 'libxrender' 'freetype2>=2.3.1' 'fontconfig' 'unixodbc' 'libxft')
groups=('xlib-extra')
archs=('i686' 'x86_64')
source=($source \
	01-fix-cflags.patch  02-fix-Fl_Text_Buffer.h-extra_qualification.patch \
	03-fix-Fl_Combo_Box.h-extra_qualification.patch 04-no-test.patch \
	efltk-2.0.6-1-x86_64.diff)
sha1sums=('314b749d9ee8f2723fe8127b6f0533252102009c' \
          '0c8f452f9b3234f8e1694b149bc649ee01569f5b' \
          '0945594a6968fc1cefca7c1810a4157c41863cea' \
          'b0c2b44e11118b022a12fdee89a4d0a215c11bf9' \
          '745cc08458254b73077d0ef16c729cc2de77620a' \
          '7d6c501907cba2e6cd672c2882e137ad5a40562a')

build()
{
	Fcd $pkgname
	Fpatchall
	rm configure
	autoconf || Fdie
	Fmkdir /usr/{bin,include,lib}
	Fconf 	\
		--enable-opengl --enable-utf8 \
		--enable-xft --enable-plugins \
		--enable-xdbe --disable-debug \
		--disable-mysql
	make || return 1
	Fmakeinstall
}

# optimization OK
