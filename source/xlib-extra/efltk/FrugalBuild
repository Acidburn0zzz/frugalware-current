# Compiling Time: 0.59 SBU
# Maintainer: crazy <crazy@frugalware.org>
# Contributor: BMH1980 <bmh1980de@yahoo.de>

pkgname=efltk
pkgver=2.0.6
pkgrel=1
pkgdesc="EFltk is a LGPL'd C++ graphical user interface toolkit"
_F_sourceforge_dirname="ede"
_F_sourceforge_ext=".tar.bz2"
Finclude sourceforge
url="http://ede.sourceforge.net/"
license="LGPL"
depends=('libjpeg' 'libstdc++' 'libpng' 'mesa' 'libxrender' 'freetype2' 'fontconfig' 'unixodbc' 'libxft')
groups=('xlib-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump http://ede.sourceforge.net/page/download|grep -m1 eFLTK|sed 's/.*TK \(.*\) .*/\1/'"
source=($source \
	01-fix-cflags.patch  02-fix-Fl_Text_Buffer.h-extra_qualification.patch \
	03-fix-Fl_Combo_Box.h-extra_qualification.patch 04-no-test.patch \
	efltk-2.0.6-1-x86_64.diff)

build()
{
	Fcd $pkgname
	Fpatchall
	rm configure
	autoconf || Fdie
	Fmkdir /usr/{bin,include,lib}
	Fconf 	\
		--enable-opengl --enable-utf8 \
		--enable-xft --enable-plugins \
		--enable-xdbe --disable-debug \
		--disable-mysql
	make || return 1
	Fmakeinstall
}

# optimization OK
