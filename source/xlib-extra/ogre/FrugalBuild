# Compiling time: 6 SBU
# Maintainer: Marius Cirsta <mcirsta@frugalware.org>

pkgname=ogre
pkgver=1.9
pkgrel=1
pkgdesc="A scene-oriented flexible 3D engine written in C++"
depends=('freetype2' 'libboost>=1.60.0' 'libxaw' 'freeimage' 'zziplib' 'libglu' 'libxrandr' 'libatomic')
makedepends=('boost>=1.60.0' 'x11-protos' 'ois')
groups=('xlib-extra')
archs=('i686' 'x86_64')
_F_cmake_confopts=" -DOGRE_BUILD_SAMPLES=OFF"
Finclude cmake
url="http://www.ogre3d.org"
source=("https://bitbucket.org/sinbad/ogre/get/v${pkgver/./-}.tar.bz2")
sha1sums=('c01205bfe3bb7626583a878481a718dc7ed43911')
up2date='lynx -dump "$url/download/source" | grep -m 1 Last | egrep -o "[0-9.]+"'
_F_cd_path="sinbad-ogre-55e89ae88219"

subpkgs=("$pkgname-docs")
subdescs=("Ogre Documentation")
subdepends=()
subgroups=('docs-extra')
subarchs=('i686 x86_64')

build()
{
	CMake_build
	Fmkdir usr/share/doc/$pkgname-$pkgver/html
	cp -ra ../Docs/* $Fdestdir/usr/share/doc/$pkgname-$pkgver/html/
	Fsplit $pkgname-docs usr/share/doc/$pkgname-$pkgver/html
}

# optimization OK
