# Compiling Time: 1.56 SBU
# Maintainer: crazy <crazy@frugalware.org>
# Contributor: Miklos Nemeth <desco@frugalware.org>

pkgname=wxgtk-u8
pkgver=2.6.4
pkgrel=3
pkgdesc="GTK+ implementation of wxWidgets API for GUI unicode'"
_F_sourceforge_dirname="wxwindows"
_F_sourceforge_name="wxGTK"
_F_sourceforge_ext=".tar.bz2"
Finclude sourceforge
url="http://www.wxwidgets.org/"
source=($source g_free.patch)
depends=('gtk+2>=2.12.0' 'wxgtk>=2.6.4-3')
groups=('xlib-extra')
archs=('i686' 'x86_64')
options=('scriptlet')
sha1sums=('f2cad3189b8c5d3b5ca3f8f592bafdb183be7dd2' \
          'd5526f171231febd957e84574a55a2e2a8cbbfe6')
## FIXME: this package is not needed at all it could be done as 'subpkg' from wxgtk
##        or maybe we should use the 'all' tarball and Fsplit things .. -- crazy --
build()
{
	Fcd wxGTK-$pkgver
	Fbuild  \
		--enable-unicode \
		--with-opengl \
		--enable-geometry \
		--enable-sound \
		--with-sdl \
		--enable-mediactrl \
		--enable-display \
		--with-gtk2
	cd contrib/src
	Fconf
	make || Fdie
	Fmakeinstall
	## FIXME: this is crap we need some PATH like /usr/lib/u8 or alike for this things -- crazy --
	Frm /usr/bin/wx-config
	Frm /usr/bin/wxrc
	Fln /usr/lib/wx/config/gtk2-unicode-release-2.6 /usr/bin/wx-config-u8
	Fmv /usr/bin/wxrc-2.6 /usr/bin/wxrc-2.6-u8
	Fln /usr/bin/wxrc-2.6-u8 /usr/bin/wxrc-u8
	Frm /usr/include
	Frm /usr/share/aclocal
	Frm /usr/share/bakefile
	Frm /usr/share/locale
}

# optimization OK
