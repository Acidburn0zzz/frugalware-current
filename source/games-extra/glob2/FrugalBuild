# Compiling Time: 1.15 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>
# Contributor: Mcklaren  <mcklaren@gmail.com>

pkgname=glob2
pkgver=0.9.1
pkgrel=1
pkgdesc="Innovative Real-Time Strategy (RTS) game which reduces micro-management by automatically assigning tasks to units."
url="http://globulation2.org/"
depends=('sdl_net' 'sdl_ttf' 'sdlimage' 'libvorbis' 'libgl' 'speex')
makedepends=('boost>=1.34.0' 'scons')
license="GPL2"
groups=('games-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump http://globulation2.org/wiki/Download_and_Install#Source_Distribution|grep 'Source code'|sed -n 's/.*-\(.*\).t.*/\1/;1 p'"
source=("http://dl.sv.nongnu.org/releases/$pkgname/$pkgver/$pkgname-$pkgver.tar.gz" glob2-0.9.1-boostmt.diff glob2.desktop)

build() {
	Fpatchall
	cp $Fsrcdir/glob2.desktop data/ || return 1
	scons || return 1
	scons BINDIR="$Fdestdir/usr/bin" INSTALLDIR="$Fdestdir/usr/share" install || return 1
}

sha1sums=('18136ff058e2b7bd313cefdc45bcbfe25e12a5e0' \
          '14373039ae35116b9bec89604240aab0202d1d99' \
          'f65660dafea34ca84a53cb8033f856baac65fd84')
# optimization OK
