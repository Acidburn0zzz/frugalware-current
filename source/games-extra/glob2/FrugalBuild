# Compiling Time: 1.15 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>
# Contributor: Mcklaren  <mcklaren@gmail.com>

pkgname=glob2
pkgver=0.9.1
pkgrel=2
pkgdesc="Innovative Real-Time Strategy (RTS) game which reduces micro-management by automatically assigning tasks to units."
url="http://globulation2.org/"
depends=('sdl_net' 'sdl_ttf' 'sdlimage' 'libvorbis' 'libgl' 'speex' 'fribidi' 'libboost-mt>=1.34.1')
makedepends=('boost>=1.34.1' 'scons')
license="GPL2"
groups=('games-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump http://globulation2.org/wiki/Download_and_Install#Source_Distribution|grep 'Source code'|sed -n 's/.*-\(.*\).t.*/\1/;1 p'"
source=("http://dl.sv.nongnu.org/releases/$pkgname/$pkgver/$pkgname-$pkgver.tar.gz" glob2-0.9.1-boostmt.diff glob2.desktop)

build() {
	Fpatchall
	cp $Fsrcdir/glob2.desktop data/ || return 1
	[ -n "$MAKEFLAGS" ] && JOBS="$MAKEFLAGS"
	scons $JOBS CXXFLAGS="$CXXFLAGS" || return 1
	scons BINDIR="$Fdestdir/usr/bin" INSTALLDIR="$Fdestdir/usr/share" install || return 1
	
}

sha1sums=('edfc49f3b06933783518afeeb670c5119694267a' \
          '74ab16b4267a8b39d707b94873a34143f8a4d508' \
          'b090d2baf0943f66611f9b73f66d883d8aad3e33')
# optimization OK
