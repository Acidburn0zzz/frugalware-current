# Compiling Time: 2.05 SBU
# Maintainer: Anthony Jorion <pingax@frugalware.org>
# Contributor: Devil505 <devil505linux@gmail.com>
# Contributor: Miklos Vajna <vmiklos@frugalware.org>


## PLEASE note there is flightgear 2016.1.2 this need simgear 2016.1.2
## both on sf.net /files/ dir of this project

pkgname=flightgear
pkgver=2016.4.3
pkgrel=1
pkgdesc="An open-source, multi-platform flight simulator."
url="http://www.flightgear.org/"
rodepends=('flightgear-data')
depends=('libgl' 'zlib' 'freealut>=1.1.0-6' 'freeglut' 'plib' \
	'openscenegraph>=3.4.0' 'libxmu' 'libxi' 'libglu' \
	'systemd>=188' 'qt5-base')
makedepends=("simgear>=$pkgver" 'boost>=1.60.0' 'x11-protos')
groups=('games-extra')
archs=('x86_64')
_F_sourceforge_ext=".tar.bz2"
Finclude cmake sourceforge
sha1sums=('4928e3a614bdaaa3539eb70c9b83067939ff62a2')
options+=('nobuild')

build()
{
	CMake_build -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_INSTALL_LIBDIR=lib .
	Fmkdir usr/share/{applications,icons}
	Fsed "Exec=.*" "Exec=fgfs --fg-root=/usr/share/flightgear/data" $Fsrcdir/$pkgname-$pkgver/package/flightgear.desktop
	Fsed "Type=Application" "Type=Application;Game" $Fsrcdir/$pkgname-$pkgver/package/flightgear.desktop
	Finstall 0644 $pkgname-$pkgver/package/flightgear.desktop usr/share/applications/flightgear.desktop
	Fln /usr/share/$pkgname /usr/share/FlightGear
}

# optimization ok
