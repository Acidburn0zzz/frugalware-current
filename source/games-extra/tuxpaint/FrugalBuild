# Compiling Time: 0.05 SBU
# Maintainer: Priyank Gosalia <priyankmg@gmail.com>

pkgname=tuxpaint
pkgver=0.9.21
pkgrel=1
pkgdesc="A drawing program for young children."
Finclude sourceforge
url="http://tuxpaint.org/"
depends=('sdlimage' 'sdl_ttf' 'sdl_mixer' 'sdl_pango' 'librsvg' 'libpaper' 'libxcb' 'fribidi')
backup=('etc/tuxpaint/tuxpaint.conf')
options=('scriptlet')
groups=('games-extra')
archs=('i686' 'x86_64')
_F_gnome_iconcache="y"
_F_desktop_name="Tux Paint (Full Screen)"
_F_desktop_icon="tuxpaint.png"
_F_desktop_exec="tuxpaint --fullscreen"
_F_desktop_filename="tuxpaintfs"
Finclude gnome-scriptlet
sha1sums=('082a179a3cb44ee17af47421bc92125a890846e4')

build()
{
	Fcd
	Fpatchall
	if [ "$CARCH" == "x86_64" ]; then
		Fsed '-g' '-fPIC' magic/Makefile
	fi
	make ENABLE_GETTEXT=1 || Fdie
	make PKG_ROOT="$Fdestdir" ENABLE_GETTEXT=1 install || Fdie
	Fbuild_gnome_scriptlet
	# Add a separate .desktop for Full Screen mode
	Fdesktop2
}

# optimization OK
