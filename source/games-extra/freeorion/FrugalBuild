# Compiling Time: 0 SBU
# Maintainer: Cedrick Hannier alias Cedynamix <cedynamix@gmail.com>

pkgname=freeorion
pkgver=rev3102
extraver=i386_static
pkgrel=4
pkgdesc="Free Clone of Master of Orion. Static linked version."
archs=('i686' 'x86_64')
groups=('games-extra')
url="http://freeorion.org/"
Fpkgversep="_"
options=('nobuild')
depends=('boost' 'fmod' 'sdl' 'openal' 'libvorbis')
source=(http://freeorion.psitronic.de/download/$pkgname'_'$pkgver'_'$extraver.tar.gz \
	$pkgname.png)
up2date="Flasttar http://freeorion.psitronic.de/download/ | sed 's/_$extraver\(.*\)/\1/' "
_F_cd_path="$pkgname"
sha1sums=('e3ff3a8ab20dfaa2c0b16d750c59fd31b2abc05d' \
          '51d7d9a9e9e9555f2646e693f0e48d28a5f06f2e')

_F_desktop_name="Freeorion"
_F_desktop_desc="Free MMO Clone"
_F_desktop_icon="freeorion.png"
_F_desktop_exec="/usr/share/freeorion/freeorion"
_F_desktop_categories="Qt;KDE;Game;StrategyGame;"

build() {
	Fcd
	Fmkdir /usr/{bin,share/{$pkgname,applications}}
	Fcp freeorion/* /usr/share/$pkgname/
	Frm /usr/share/$pkgname/setup.sh
	Frm /usr/share/$pkgname/autorun.sh
	Frm /usr/share/$pkgname/setup.data
	Fdirschmod usr/share/$pkgname 755
	Ffileschmod /usr/share/$pkgname/ 644
	Ffileschmod /usr/share/$pkgname/freeorion 755
	Ffileschmod /usr/share/$pkgname/application/freeorion 755
	Ffileschmod /usr/share/$pkgname/application/freeorionca 755
	Ffileschmod /usr/share/$pkgname/application/freeoriond 755
	Ficon $pkgname.png
	Fdesktop2
}

# optimization OK
