# Compiling Time: 0.05 SBU
# Maintainer: Devil505 <devil505linux@gmail.com>

pkgname=assaultcube
pkgver=1.0.2
pkgrel=1
pkgdesc="A realistic team oriented multiplayer FPS based on the Cube engine."
_F_sourceforge_sep="_v"
_F_sourceforge_ext=".tar.bz2"
_F_sourceforge_dirname="actiongame"
_F_sourceforge_name="AssaultCube"
Finclude sourceforge
depends=('sdl_mixer' 'sdlimage' 'libgl' 'freeglut' 'openal')
groups=('games-extra')
archs=('i686')
source=($source $pkgname.png)
sha1sums=('7b0ad8c1c3960eed59a14b22aa25d40afe080275' \
          '6782d0649e325c491376264de5ca3c177af8d363')

_F_desktop_name="AssaultCube"
_F_desktop_desc="Realistic Multiplayer FPS"
_F_desktop_icon="assaultcube.png"
_F_desktop_categories="Game;ActionGame;"

build() {
  Fcd "$_F_sourceforge_name$_F_sourceforge_sep$pkgver/source/src"

  Fmake
  strip ac_{client,server} || Fdie
  Fexerel ac_client usr/bin/ac_client
  Fexerel ac_server usr/bin/ac_server
  Fwrapper "cd /usr/share/assaultcube && ac_client" $pkgname
  Fwrapper "cd /usr/share/assaultcube && ac_server" $pkgname-server

  Fmkdir usr/share/$pkgname/packages
  cd ../.. || Fdie
  cp -rf config packages bot $Fdestdir/usr/share/assaultcube || Fdie

  Ficon $pkgname.png
  Fdesktop2
  Fdocrel docs/package_copyrights.txt
}
