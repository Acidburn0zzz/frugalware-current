# Compiling Time: 0 SBU
# Maintainer: James Buren <ryuo@frugalware.org>

pkgname=fvbeutils
pkgver=0.3
pkgrel=1
pkgdesc="Frugalware Versatile Bootable Environment Utilities"
url="http://frugalware.org"
rodepends=('networkmanager')
depends=('newt' 'libblkid' 'libuuid' 'pacman-g2')
makedepends=('re2c')
groups=('base')
archs=('i686' 'x86_64' 'arm')
up2date="$pkgver"
source=(http://ftp.frugalware.org/pub/other/fvbe/fvbe-$pkgver.tar.xz)
sha1sums=('a8d2de558f274b5dff9b33a201fcd7643131d7c8')

# These can be removed after 1.9
conflicts=('frugalwareutils')
replaces=('frugalwareutils')
provides=('frugalwareutils')
rodepends+=('lesspipe' 'vile' 'ne')
if [ "$CARCH" = "i686" -o "$CARCH" = "x86_64" ]; then
  rodepends+=('terminus-font-console' 'cryptsetup-luks')
fi

build()
{
	Fcd fvbe-$pkgver
	Fpatchall
	Fexec ./configure --arch $CARCH --release 1.9pre2 --branch current --type basic --ui newt || Fdie
	make setup || Fdie
	make DESTDIR=$Fdestdir install || Fdie
}

# optimization OK
