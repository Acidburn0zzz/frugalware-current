# Compiling Time: 0 SBU
# Maintainer: James Buren <ryuo@frugalware.org>

pkgname=fvbeutils
pkgver=0.5
pkgrel=2
pkgdesc="Frugalware Versatile Bootable Environment Utilities"
url="http://frugalware.org"
rodepends=('networkmanager')
depends=('newt' 'libblkid' 'libuuid' 'pacman-g2')
makedepends=('re2c')
groups=('base')
archs=('i686' 'x86_64' 'arm')
up2date="$pkgver"
source=(http://ftp.frugalware.org/pub/other/fvbe/fvbe-$pkgver.tar.xz git.patch)
sha1sums=('13c0d359d315c54a5c6de5b4c44e306daf67dcad' \
          'b92f4de9d799ffb87e0acc08d79f828bc8ffe6e4')

# These can be removed after 1.9
conflicts=('frugalwareutils')
replaces=('frugalwareutils')
provides=('frugalwareutils')
rodepends+=('lesspipe' 'vile' 'ne')
if [ "$CARCH" = "i686" -o "$CARCH" = "x86_64" ]; then
  rodepends+=('terminus-font-console' 'cryptsetup-luks')
fi

build()
{
	Fcd fvbe-$pkgver
	Fpatchall
	Fexec ./configure --arch $CARCH --release 1.9rc2 --branch current --type basic --ui newt || Fdie
	make setup || Fdie
	make DESTDIR=$Fdestdir install || Fdie
}

# optimization OK
