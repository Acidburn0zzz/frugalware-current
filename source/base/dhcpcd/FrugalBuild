# Compiling Time: 0.01 SBU
# Maintainer: AlexExtreme <alex@alex-smith.me.uk>

pkgname=dhcpcd
pkgver=3.0.9
pkgrel=2
pkgdesc="A DHCP client daemon"
url="http://dhcpcd.berlios.de"
groups=('base')
archs=('i686' 'x86_64')
# frugalwareutils is tricky, should stay here to prevent upgrade problems
# till 0.5
depends=('glibc' 'frugalwareutils')
_F_berlios_ext=".tar.bz2"
Finclude berlios
source=(${source[@]} dhcpcd-3.0.2-linux2619.patch \
	dhcpcd-3.0.2-use_old_paths.patch \
	dhcpcd-3.0.2-dont-log-to-stdout.patch \
	dchpcd-3.0.x-no-defunct-processes.patch)
sha1sums=('0e88926a44257e2e6394cbdbb93f1937abbdcfec' \
	  'a53e1fa36e82a411b17467e08cce9be2f75ea2a8' \
	  '4e52080a0bf5f30fac47777ef662d9f65b30268e' \
	  '171e1b8bffe2b9c12744029cb516d7c245c8770b' \
	  'df055729e378bdcf15b06149f601b647922ba1a9')

build() {
	Fcd
	Fpatchall
	Fmake CFLAGS="${CFLAGS}" LDFLAGS="${LDFLAGS}"
	Fmakeinstall
	Fmkdir /etc/dhcpc
	Fexerel dhcpcd.sh /etc/dhcpcd.sh
}

# optimization OK
