diff -Naur hotplug-2004_09_23.orig/etc/hotplug/dasd.agent hotplug-2004_09_23/etc/hotplug/dasd.agent
--- hotplug-2004_09_23.orig/etc/hotplug/dasd.agent	2004-09-20 23:40:10.000000000 +0200
+++ hotplug-2004_09_23/etc/hotplug/dasd.agent	2004-12-28 13:07:50.746878024 +0100
@@ -43,11 +43,11 @@
     exit 0
 }
 
-mesg "$ACTION  $DEVNO  $MAJOR $MINOR  $DASDNAME"
+debug_mesg "$ACTION  $DEVNO  $MAJOR $MINOR  $DASDNAME"
 
 
 test -r dasd.permissions && . dasd.permissions || {
-    mesg DASD permission handling not found
+    debug_mesg DASD permission handling not found
     exit 1
 }
 
@@ -59,7 +59,7 @@
 set -o nounset
 
 die() {
-    mesg "$*"
+    debug_mesg "$*"
     exit 1
 }
 
@@ -188,7 +188,7 @@
 
 	if test "$VOLSER" != "$CHECKED_VOLSER"
         then
-		mesg "VOLSER label of $NODE is no legal filename: <$VOLSER> ->  <$CHECKED_VOLSER> ignoring it."
+		debug_mesg "VOLSER label of $NODE is no legal filename: <$VOLSER> ->  <$CHECKED_VOLSER> ignoring it."
 		VOLSER=""
 	fi
 		
@@ -246,6 +246,6 @@
 	$CONDOM rm -rf /dev/dasd/$DEVNO/part*
 	;;
     *)
-	mesg DASD $ACTION event not supported
+	debug_mesg DASD $ACTION event not supported
 	exit 1 ;;
 esac
diff -Naur hotplug-2004_09_23.orig/etc/hotplug/firmware.agent hotplug-2004_09_23/etc/hotplug/firmware.agent
--- hotplug-2004_09_23.orig/etc/hotplug/firmware.agent	2004-09-20 23:23:51.000000000 +0200
+++ hotplug-2004_09_23/etc/hotplug/firmware.agent	2004-12-28 13:07:50.749877568 +0100
@@ -54,7 +54,7 @@
     ;;
 
 *)
-    mesg "Firmware '$ACTION' event not supported"
+    debug_mesg "Firmware '$ACTION' event not supported"
     exit 1
     ;;
 
diff -Naur hotplug-2004_09_23.orig/etc/hotplug/hotplug.functions hotplug-2004_09_23/etc/hotplug/hotplug.functions
--- hotplug-2004_09_23.orig/etc/hotplug/hotplug.functions	2004-09-21 01:12:07.000000000 +0200
+++ hotplug-2004_09_23/etc/hotplug/hotplug.functions	2004-12-28 13:08:15.572104016 +0100
@@ -54,7 +54,7 @@
 # Autocleaning happens if none of the devices are open, once any of
 # them gets opened; wrong timing.
 #
-MODPROBE="/sbin/modprobe -s -q"
+MODPROBE="/sbin/modprobe -q"
 #MODPROBE="/sbin/modprobe -vs"
 
 
@@ -81,8 +81,8 @@
     # ought to expose the data we need to find all candidate drivers.
     # (on 2.5.48 it does for usb; but maybe not yet for pci.)
     case "$KERNEL" in
-    2.2*|2.3*|2.4*)	LISTER=`which ${TYPE}modules` ;;
-    *)			LISTER="" ;;
+    2.2*|2.3*|2.4*|2.5*|2.6*)	LISTER=`which ${TYPE}modules 2>/dev/null` ;;
+    *)				LISTER="" ;;
     esac
 
     if [ "$LISTER" != "" ]; then
@@ -141,7 +141,7 @@
 	    # it's not an error if a module doesn't exist or won't load.
 	    if $MODPROBE -n $MODULE >/dev/null 2>&1 &&
 		    ! $MODPROBE $MODULE >/dev/null 2>&1 ; then
-		mesg "... can't load module $MODULE"
+		debug_mesg "... can't load module $MODULE"
 	    else
 		# /etc/modules.conf may have set non-default module
 		# parameters ... handle per-device parameters in apps
@@ -165,7 +165,7 @@
 	fi
 
 	if [ "$LOADED" = "false" ]; then
-	    mesg "missing kernel or user mode driver $MODULE "
+	    debug_mesg "missing kernel or user mode driver $MODULE "
 	fi
 	if echo "$MODULE" | grep -q "usb-storage" > /dev/null 2>&1 ; then
 	    [ -x /usr/sbin/updfstab ] &&  /usr/sbin/updfstab
diff -Naur hotplug-2004_09_23.orig/etc/hotplug/ieee1394.agent hotplug-2004_09_23/etc/hotplug/ieee1394.agent
--- hotplug-2004_09_23.orig/etc/hotplug/ieee1394.agent	2004-09-20 23:43:37.000000000 +0200
+++ hotplug-2004_09_23/etc/hotplug/ieee1394.agent	2004-12-28 13:07:50.754876808 +0100
@@ -34,7 +34,7 @@
 DRIVERS=
 
 if [ "$ACTION" = "" ]; then
-    mesg Bad IEEE1394 agent invocation
+    debug_mesg Bad IEEE1394 agent invocation
     exit 1
 fi
 
@@ -98,7 +98,7 @@
     fi
 
     if [ "$DRIVERS" = "" ]; then
-	mesg "... no drivers for $LABEL"
+	debug_mesg "... no drivers for $LABEL"
 	exit 2
     fi
     ;;
diff -Naur hotplug-2004_09_23.orig/etc/hotplug/input.agent hotplug-2004_09_23/etc/hotplug/input.agent
--- hotplug-2004_09_23.orig/etc/hotplug/input.agent	2004-09-20 23:37:22.000000000 +0200
+++ hotplug-2004_09_23/etc/hotplug/input.agent	2004-12-28 13:07:50.757876352 +0100
@@ -40,7 +40,7 @@
 DRIVERS=""
 
 if [ "$ACTION" = "" ]; then
-    mesg Bad INPUT agent invocation, no action
+    debug_mesg Bad INPUT agent invocation, no action
     exit 1
 fi
 
diff -Naur hotplug-2004_09_23.orig/etc/hotplug/net.agent hotplug-2004_09_23/etc/hotplug/net.agent
--- hotplug-2004_09_23.orig/etc/hotplug/net.agent	2004-09-21 01:02:34.000000000 +0200
+++ hotplug-2004_09_23/etc/hotplug/net.agent	2004-12-28 13:07:50.759876048 +0100
@@ -21,7 +21,7 @@
 # DEBUG=yes export DEBUG
 
 if [ "$INTERFACE" = "" ]; then
-    mesg Bad NET invocation: \$INTERFACE is not set
+    debug_mesg Bad NET invocation: \$INTERFACE is not set
     exit 1
 fi
 
@@ -76,11 +76,11 @@
 		    exec "$script" --quiet start
 		fi
 	    else
-		mesg "how do I bring interfaces up on this distro?"
+		debug_mesg "how do I bring interfaces up on this distro?"
 	    fi
 	    ;;
     esac
-    mesg $1 $ACTION event not handled
+    debug_mesg $1 $ACTION event not handled
     ;;
 
 remove|unregister)
@@ -102,7 +102,7 @@
 	    fi
 	    ;;
     esac
-    mesg $1 $ACTION event not handled
+    debug_mesg $1 $ACTION event not handled
     ;;
 
 *)
diff -Naur hotplug-2004_09_23.orig/etc/hotplug/pci.agent hotplug-2004_09_23/etc/hotplug/pci.agent
--- hotplug-2004_09_23.orig/etc/hotplug/pci.agent	2004-09-20 23:43:37.000000000 +0200
+++ hotplug-2004_09_23/etc/hotplug/pci.agent	2004-12-28 13:07:50.762875592 +0100
@@ -42,7 +42,7 @@
 DRIVERS=
 
 if [ "$PCI_CLASS" = "" ] || [ "$PCI_CLASS" = "" ]; then
-    mesg Bad PCI agent invocation
+    debug_mesg Bad PCI agent invocation
     exit 1
 fi
 
diff -Naur hotplug-2004_09_23.orig/etc/hotplug/scsi.agent hotplug-2004_09_23/etc/hotplug/scsi.agent
--- hotplug-2004_09_23.orig/etc/hotplug/scsi.agent	2004-09-20 23:29:54.000000000 +0200
+++ hotplug-2004_09_23/etc/hotplug/scsi.agent	2004-12-28 13:07:50.765875136 +0100
@@ -14,7 +14,7 @@
 add)
     # 2.5.50 kernel bug: this happens sometimes
     if [ ! -d /sys/$DEVPATH ]; then
-	mesg "bogus sysfs DEVPATH=$DEVPATH"
+	debug_mesg "bogus sysfs DEVPATH=$DEVPATH"
 	exit 1
     fi
 
@@ -33,7 +33,7 @@
 
     if [ ! -f $TYPE_ATTR ]
     then
-    	mesg "Attribute $TYPE_ATTR does not exist"
+    	debug_mesg "Attribute $TYPE_ATTR does not exist"
 	exit 1
     fi
 
@@ -54,8 +54,8 @@
     14)		TYPE=enclosure ;;
     esac
     if [ "$MODULE" != "" ]; then
-	mesg "$TYPE at $DEVPATH"
-	modprobe $MODULE
+	debug_mesg "$TYPE at $DEVPATH"
+	modprobe -q $MODULE
     else
 	debug_mesg "how to add device type=$TYPE at $DEVPATH ??"
     fi
diff -Naur hotplug-2004_09_23.orig/etc/hotplug/tape.agent hotplug-2004_09_23/etc/hotplug/tape.agent
--- hotplug-2004_09_23.orig/etc/hotplug/tape.agent	2004-09-20 23:40:10.000000000 +0200
+++ hotplug-2004_09_23/etc/hotplug/tape.agent	2004-12-28 13:07:50.768874680 +0100
@@ -36,12 +36,12 @@
 cd /etc/hotplug
 . hotplug.functions
 
-mesg "$ACTION $DEVNO $MAJOR $MINOR $INTERFACE"
+debug_mesg "$ACTION $DEVNO $MAJOR $MINOR $INTERFACE"
 
 if test -r tape.permissions; then
 	. tape.permissions
 else
-	mesg "Tape permission handling not found"
+	debug_mesg "Tape permission handling not found"
 	exit 1
 fi
 
@@ -70,7 +70,7 @@
 		RC=$2
 	fi
 
-	mesg "$1 RC($RC)"
+	debug_mesg "$1 RC($RC)"
 	exit $RC
 }
 
@@ -115,7 +115,7 @@
 	if test ! -d $(dirname $LINK); then
 		$CONDOM mkdir -p $(dirname $LINK)                  || return 1
 	fi
-	mesg "Creating symlink $LINK -> $TARGET"
+	debug_mesg "Creating symlink $LINK -> $TARGET"
 	$CONDOM rm -f $LINK                                        || return 1
 	$CONDOM ln -s $TARGET $LINK                                || return 1
 
@@ -176,7 +176,7 @@
 	#        right even if devfs compatibility isn't enabled. Should
 	#        ownership and permissions be preserved in that case???
 	if ! verify_node $NAME $TYPE; then
-		mesg "Creating devicenode $NAME"
+		debug_mesg "Creating devicenode $NAME"
 		$CONDOM rm -f "$NAME"                              || return 1
 		$CONDOM mknod "$NAME" $TYPE $MAJOR $MINOR          || return 1
 	fi
diff -Naur hotplug-2004_09_23.orig/etc/hotplug/usb.agent hotplug-2004_09_23/etc/hotplug/usb.agent
--- hotplug-2004_09_23.orig/etc/hotplug/usb.agent	2004-09-21 00:50:11.000000000 +0200
+++ hotplug-2004_09_23/etc/hotplug/usb.agent	2004-12-28 13:07:50.771874224 +0100
@@ -114,7 +114,7 @@
 DRIVERS=""
 
 if [ "$ACTION" = "" ]; then
-    mesg Bad USB agent invocation, no action
+    debug_mesg Bad USB agent invocation, no action
     exit 1
 fi
 
@@ -126,7 +126,7 @@
 if [ "$PRODUCT" = "" ]; then
     # this is either an error, or we're on a 2.5 system...
     if [ "$DEVPATH" = "" ]; then
-	mesg Bad USB agent invocation
+	debug_mesg Bad USB agent invocation
 	exit 1
     fi
 
@@ -148,7 +148,7 @@
     fi
     TMP=$(cat $SYSFS/$DEVPATH/bNumConfigurations)
     if [ $TMP -ne 1 ] && [ "$ACTION" = add ]; then
-	mesg Keeping default configuration with $SYSFS/$DEVPATH
+	debug_mesg Keeping default configuration with $SYSFS/$DEVPATH
     fi
 
     # NOTE:  it might be good to add an extension hook here rather
