#!/bin/sh

# (c) 2003-2004 Vajna Miklos <mamajom@axelero.hu>
# service for Frugalware
# distributed under GPL License

. /var/lib/frugalware/messages/rc.messages

service=rc.$1
name=/etc/rc.d/$service
if ! [ -z "$1" ]; then
	if ! [ -e $name ]; then
		# this will print a nice error message
		chkconfig --list $service
		exit 1
	fi
	if ! chkconfig --list $service >/dev/null 2>&1; then
		chkconfig --list $service
		exit 1
	fi
fi
if [ "$2" = "start" ]; then
	$name start
elif [ "$2" = "stop" ]; then
	$name stop
elif [ "$2" = "restart" ]; then
	$name restart
elif [ "$2" = "add" ]; then
	chkconfig --add $service
elif [ "$2" = "del" ]; then
	chkconfig --del $service
elif [ "$2" = "list" ]; then
	chkconfig --list $service
else # help
	echo -e "$help"
fi
