diff -Naur mdadm-2.3.1.orig/Makefile mdadm-2.3.1/Makefile
--- mdadm-2.3.1.orig/Makefile	2006-02-06 04:42:40.000000000 +0100
+++ mdadm-2.3.1/Makefile	2006-02-10 02:34:48.000000000 +0100
@@ -38,12 +38,12 @@
 KLIBC_GCC = gcc -nostdinc -iwithprefix include -I$(KLIBC)/klibc/include -I$(KLIBC)/linux/include -I$(KLIBC)/klibc/arch/i386/include -I$(KLIBC)/klibc/include/bits32
 
 CC = $(CROSS_COMPILE)gcc
-CXFLAGS = -ggdb
-CWFLAGS = -Wall -Werror -Wstrict-prototypes
+CFLAGS ?= -ggdb -Werror
+CWFLAGS = -Wall -Wstrict-prototypes
 SYSCONFDIR = /etc
 CONFFILE = $(SYSCONFDIR)/mdadm.conf
 MAILCMD =/usr/sbin/sendmail -t
-CFLAGS = $(CWFLAGS) -DCONFFILE=\"$(CONFFILE)\" $(CXFLAGS) -DSendmail=\""$(MAILCMD)"\"
+CFLAGS += $(CWFLAGS) -DCONFFILE=\"$(CONFFILE)\" -DSendmail=\""$(MAILCMD)"\"
 
 # If you want a static binary, you might uncomment these
 # LDFLAGS = -static
