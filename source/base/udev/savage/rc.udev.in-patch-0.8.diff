--- rc.udev.in-0.7	2004-06-06 04:24:52.000000000 +0200
+++ rc.udev.in-0.8	2004-06-18 11:28:01.000000000 +0200
@@ -1,9 +1,6 @@
 # end of start_udev by Greg Kroah-Hartman
 
-# funtions
-what_is () {
-	ls -l $1 |cut -d '>' -f 2|cut -d " " -f 2
-}
+# rc.udev version 0.8
 
 if [ -e /etc/sysconfig/submount ]; then
 	. /etc/sysconfig/submount
@@ -111,7 +108,7 @@
 
 if ! [ -L /dev/cdrecorder ]; then
 	if [ -L /dev/dvdrecorder ]; then
-		(cd /dev; ln -s `what_is dvdrecorder` cdrecorder)
+		(cd /dev; ln -s `readlink dvdrecorder` cdrecorder)
 	fi
 fi
 		
@@ -119,7 +116,7 @@
 
 if ! [ -L /dev/dvd ]; then
 	if [ -L /dev/dvdrecorder ]; then
-		(cd /dev; ln -s `what_is dvdrecorder` dvd)
+		(cd /dev; ln -s `readlink dvdrecorder` dvd)
 	fi
 fi
 if ! [ -L /dev/dvd ]; then
@@ -136,16 +133,16 @@
 
 if ! [ -L /dev/cdrom ]; then
 	if [ -L /dev/dvd ]; then
-		(cd /dev; ln -s `what_is dvd` cdrom)
+		(cd /dev; ln -s `readlink dvd` cdrom)
 	fi
 	if ! [ -L /dev/cdrom ]; then
 		if [ -L /dev/cdrecorder ]; then
-			(cd /dev; ln -s `what_is cdrecorder` cdrom)
+			(cd /dev; ln -s `readlink cdrecorder` cdrom)
 		fi
 	fi
 	if ! [ -L /dev/cdrom ]; then
 		if [ -L /dev/dvdrecorder ]; then
-			(cd /dev; ln -s `what_is dvdrecorder` cdrom)
+			(cd /dev; ln -s `readlink dvdrecorder` cdrom)
 		fi
 	fi
 fi
