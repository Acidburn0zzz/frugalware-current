# Last Modified: Mon, 19 Jun 2006 21:56:30 +0200
# Compiling Time: 0.26 SBU
# Maintainer: VMiklos <vmiklos@frugalware.org>

pkgname=dialog
pkgver=1.0_20060221
pkgrel=1
pkgdesc="A tool to display dialog boxes from shell scripts"
url="http://packages.debian.org/unstable/misc/dialog"
depends=('ncurses')
groups=('base')
archs=('i686' 'x86_64')
up2date="wget --passive-ftp -O - -q ftp://ftp.debian.org/debian/pool/main/d/dialog/|grep dialog_.*.orig.tar.gz|sed -n 's/.*dialog_\(.*\).orig.tar.gz<.*/\1/;s/-/_/;$ p'"
source=(ftp://ftp.debian.org/debian/pool/main/d/dialog/${pkgname}_${pkgver/_/-}.orig.tar.gz)

# since most config utils use libdialog please _be_ careful when you bump this pkg

build()
{
	unset MAKEFLAGS
	[ "$CARCH" == "x86_64" ] && CFLAGS="$CFLAGS -fPIC"
	Fcd $pkgname-${pkgver/_/-}
	Fbuild --with-ncurses
	Fmkdir /bin
	Fmv /usr/bin/dialog /bin/
	# libdialog
	Ffilerel /usr/lib/libdialog.a
	Ffilerel /usr/include/dialog.h
	Ffilerel /usr/include/dlg_config.h
	Ffilerel /usr/man/man3/dialog.3
}

# optimization OK

sha1sums=('aa4fccdb574077e8ca25698a2fa94cd544cd240c')
