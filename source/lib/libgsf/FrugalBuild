# Last modified: Sun, 15 Oct 2006 00:23:39 +0200
# Compiling time: 0.37 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>
# Contributor: Miklos Nemeth <desco@frugalware.org>

pkgname=libgsf
pkgver=1.14.2
pkgrel=3
pkgdesc="A library for reading and writing structured files (eg MS OLE and Zip)"
url="http://www.gnome.org/"
depends=('libxml2' 'glib2' 'bzip2')
makedepends=('gtk-doc' 'perl-xml' 'pygtk' 'gnome-vfs>=2.16.1' 'libbonobo')
groups=('lib')
archs=('i686' 'x86_64')
Finclude gnome
sha1sums=('7735ffd3b5fe51c7032e22bcc44e202ac23f82b8')

subpkgs=('libgsf-gnome')
subdescs=('GNOME specific extensions to libgsf')
subdepends=("gnome-vfs>=2.16.1 libbonobo $pkgname=1.14.2-2")
subgroups=('gnome')
subarchs=('i686 x86_64')
subinstall=('libgsf-gnome.install')

build() {
	Fcd
	Fmake --enable-gtk-doc --with-bz2 --with-gnome --with-zlib --with-python \
		--disable-schemas-install
	Fmakeinstall GCONF_DISABLE_SCHEMA_INSTALL=1
	Fsplit libgsf-gnome etc/gconf/schemas/
	Fsplit libgsf-gnome usr/include/libgsf-1/gsf-gnome
	Fsplit libgsf-gnome usr/lib/pkgconfig/libgsf-gnome-1.pc
	Fsplit libgsf-gnome usr/lib/libgsf-gnome*
	Fsplit libgsf-gnome usr/lib/python2.4/site-packages/gsf/gnomemodule*
	Fsplit libgsf-gnome usr/share/gtk-doc
}

# optimization OK
