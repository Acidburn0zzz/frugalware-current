# Last Modified: Tue Oct 26 21:44:42 CEST 2004
# Compiling Time: ~6 minutes
# Maintainer: VMiklos <mamajom@axelero.hu>

pkgname=openssl
pkgver=0.9.7e
pkgrel=1
pkgdesc="The Open Source toolkit for Secure Sockets Layer and Transport Layer Security"
url="http://www.openssl.org/source/"
depends=('glibc')
up2date=`lynx -dump http://www.openssl.org/source/ |grep openssl |grep -v engine |less|sed -n '3 p'|cut -d ' ' -f 7|cut -d ] -f 2|cut -d - -f 2 |sed 's/.tar.gz//'`
source=(http://www.openssl.org/source/$pkgname-$pkgver.tar.gz openssl-soname.diff)
md5sums=('a8777164bca38d84e5eb2b1535223474' 'f52756e0d9ef3f143b43a5ad76c5bc0d')

build() {
	cd $startdir/src/$pkgname-$pkgver
	patch -p0 < $startdir/src/$pkgname-soname.diff
	./config --prefix=/usr --openssldir=/etc/ssl shared
	
	make || return 1
	
	make INSTALL_PREFIX=$startdir/pkg MANDIR=/usr/man install
	cd $startdir/pkg/usr/man
	rm -rf man3 man5 man7
	cd man1
	rename '' openssl_ *
	mv openssl_openssl.1 openssl.1
}

# vim: ft=sh
