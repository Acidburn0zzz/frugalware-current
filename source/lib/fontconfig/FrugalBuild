# Last modified: Mon, 04 Sep 2006 05:47:11 +0200
# Compiling time: 0.22 SBU
# Maintainer: crazy <crazy@frugalware.org>
# Contributor: VMiklos <vmiklos@frugalware.org>

pkgname=fontconfig
pkgver=2.3.96
pkgrel=1
pkgdesc="A library for configuring and customizing font access"
url="http://fontconfig.org/"
depends=('libxml2' 'freetype2>=2.2.1' 'expat' 'frugalware')
groups=('lib' 'misc-fonts')
archs=('i686' 'x86_64')
up2date="lynx -dump 'http://fontconfig.org/release/?C=M;O=D'|grep tar.gz$|sed -n 's/.*-\(.*\)\.t.*/\1/;1 p'"
source=(http://fontconfig.org/release/fontconfig-$pkgver.tar.gz fonts.conf \
	00-fw-no-bitmap.conf \
	01-fw-autohinting.conf \
	02-fw-urw.conf wqy.conf \
	frugalware.conf \
	tmp-mute-saw-weird-warning.patch \
	fcarch.tmpl.h-x86_64.patch)
sha1sums=('6486a7fa87c5a1bde161affbc1e387f1248e9611' \
          '2078374b8cbabcf2228500264335602869725bba' \
          '3e9cbbc8fcbf1b10a1e6c38045cae60f9f695a0a' \
          '4446afe79a1eea4084d6caafd905e5aaf3e7f0d8' \
          '2b4ce6246479460064bc66b6e5624a4da3d58965' \
          'a8a55e1ce51a6243f323f6bed9d3f0cc704084cc' \
          'db1d01d8910b5d54303539f921fca486157f4f98' \
          '8ea9a225bc6aa75d037d9b77e5f3db9acc969008' \
          '041a7694053901ea4dfd6ae98477667c550d7312')

## NOTE: !!! DO _NOT_ BUMP , CHANGE or whatever else without permission from m8r or vmiklos !!! ##

build()
{
	## docs will be back but I need build the depends() first
	Fbuild --with-add-fonts=/usr/lib/X11/fonts --enable-libxml2
	Fmkdir etc/fonts/frugalware.d usr/share/doc/$pkgname-$pkgver/html etc/fonts/conf.d/disabled
	Ffilerel ../{00-*,01-*,02-*,wqy.conf} /etc/fonts/frugalware.d/
	Ffilerel ../frugalware.conf /etc/fonts/
	Ffilerel ../fonts.conf /etc/fonts/
	Fmv  etc/fonts/conf.d/10-fonts-persian.conf etc/fonts/frugalware.d
	Fmv  etc/fonts/conf.d/60-delicious.conf etc/fonts/frugalware.d
	Fmv  etc/fonts/conf.d/10LohitGujarati.conf etc/fonts/frugalware.d
	Fmv etc/fonts/conf.d/*.conf etc/fonts/conf.d/disabled
	## weird
	Fmv usr/share/doc/$pkgname/$pkgname-devel/* usr/share/doc/$pkgname-$pkgver/html
	Frm usr/share/doc/$pkgname/$pkgname-devel
	Fmv usr/share/doc/$pkgname/* usr/share/doc/$pkgname-$pkgver
	Frm usr/share/doc/$pkgname
}

# optimization OK
