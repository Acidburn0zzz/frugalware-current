# Compiling Time: 0.0 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

pkgname=appstream
_F_archive_name="AppStream"
pkgver=0.10.6
pkgrel=4
pkgdesc="Provides a standard for creating app stores across distributions"
url="http://distributions.freedesktop.org/wiki/${_F_archive_name}"
depends=('glib2>=2.50.0' 'libxml2>=2.9.4-3' 'libyaml>=0.1.7-2' 'xapian-core>=1.4.0-2' 'protobuf>=3.0.2-2')
makedepends=('intltool' 'xmlto' 'docbook-xsl' 'python>=2.7.12-2' 'gobject-introspection>=1.50.0' \
	'x11-protos' 'itstool')
groups=('lib')
archs=("x86_64")
source=("http://www.freedesktop.org/software/$pkgname/releases/${_F_archive_name}-$pkgver.tar.xz")
up2date="Flasttar http://www.freedesktop.org/software/$pkgname/releases"
sha1sums=('0a7c946f58f802243273ba5b6e7d9c4af66ccc92')
options=('scriptlet')
_F_cmake_confopts="	-DQT=ON \
			-DSTEMMING=OFF" #TODO: add needed lib to enable stemming
_F_cmake_type="Release"
Finclude cmake

subpkgs=("$pkgname-qt")
subdescs=("Qt Bindings for Appstream")
subrodepends=("$pkgname=$pkgver")
subdepends=('qt5-base>=5.7.1-5')
subgroups=('xlib')
subarchs=("x86_64")

build() {
	CMake_build
	Fsplit appstream-qt     usr/include/AppStreamQt/
	Fsplit appstream-qt	usr/lib/cmake/AppStreamQt/
	Fsplit appstream-qt	usr/lib/libAppStreamQt.so*
}

# optimization OK
