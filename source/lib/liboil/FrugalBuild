# Compiling time: 0.55 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=liboil
pkgver=0.3.10
pkgrel=2
pkgdesc="Library of Optimized Inner Loops"
url="http://liboil.freedesktop.org/"
depends=('glib2>=2.12.0' 'libstdc++')
makedepends=('gtk-doc')
groups=('lib')
archs=('i686' 'x86_64')
options=('scriptlet')
up2date="lynx -dump 'http://liboil.freedesktop.org/download/?C=M;O=D' |grep liboil |grep tar |sed -n -e 's/.*l-\(.*\)\.t.*/\1/' -e '1 p'"
source=(http://liboil.freedesktop.org/download/$pkgname-$pkgver.tar.gz liboil-disable-sse2.patch)
sha1sums=('00183731d417047a3b7715532b9d6ca5cce16cc4' \
	  'afd85ce8be567f7fd99cc50a4541201e2c899a27')
unset MAKEFLAGS
Fconfopts="$Fconfopts --enable-gtk-doc"

build() {
	Fcd
	Fpatchall
	Fautoreconf
	Fmake
	Fmakeinstall
}

# optimization OK

# The disable-sse2 patch may need to be removed on next bump, depending on whether the sse2 bugs are fixed. Poke AlexExtreme ;)
