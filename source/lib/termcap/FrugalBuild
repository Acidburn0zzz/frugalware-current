# without a patch, removeing ldconfig to be executed, can only be compiled with root privilages!!

# Last Modified: Fri, 27 May 2005 21:14:39 +0000
# Compiling Time: ~0.1 SBU
# Contributor: VMiklos <mamajom@axelero.hu>
# Maintainer: Zsolt Szalai <xbit.lists@chello.hu>

pkgname=termcap
pkgver=1.2.3
pkgrel=3
pkgdesc="Provides the libtermcap.so.2 file which are required to run termcap-based programs"
url="http://packages.debian.org/stable/oldlibs/termcap-compat"
groups=('lib')
archs=('i686' 'x86_64')
depends=('glibc')
up2date="lynx -dump $url|grep $pkgname-compat|sed -n -e 's/.*(\(.*\))/\1/' -e '1 p'"
source=(http://ftp.debian.org/debian/pool/main/t/$pkgname-compat/$pkgname-compat_$pkgver.tar.gz $pkgname-$pkgver.diff)
md5sums=('698f1e510845b8c0f15ea8c3010c35ed' '7206822e7f7fec1a6bd3ce89e61b1d0e')

build() {
	cd $startdir/src/$pkgname-compat-$pkgver
	patch -p1 < $startdir/src/$pkgname-$pkgver.diff
	
	make || return 1
	
	mkdir -p $startdir/pkg/usr/{lib,include}
	make prefix=$startdir/pkg/usr install
	cd $startdir/pkg/usr/lib
	ln -sf libtermcap.so.2.0.8 libtermcap.so
	# conflicts with ncurses
	rm $startdir/pkg/usr/include/termcap.h
}

# vim: ft=sh
