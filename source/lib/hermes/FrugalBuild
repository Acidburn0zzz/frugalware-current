# Last Modified: Sat, 06 May 2006 14:54:30 +0200
# Compiling Time: 0.20 SBU
# Maintainer: Priyank <priyankmg@gmail.com>

pkgname=hermes
pkgver=1.3.3
pkgrel=2
pkgdesc="Hermes Graphics Library"
url="http://clanlib.org/hermes"
depends=('glibc')
makedepends=('gnuconfig')
groups=('lib')
archs=('i686' 'x86_64')
up2date="lynx -dump http://www.clanlib.org/hermes/index.php?main=dls | grep Hermes | Flasttarbz2"
source=(http://clanlib.org/download/legacy/Hermes-$pkgver.tar.bz2 \
        $pkgname-$pkgver-destdir.patch)
sha1sums=('c760eb17fcbf2052907e42b637cd22c2b96657d6' 'd17a2fc63ca0e80dc7edd3dbd0a6a08075403982')

build() {
	Fcd Hermes-$pkgver
	patch -Np1 -i $Fsrcdir/$pkgname-$pkgver-destdir.patch || return 1

	# Hermes' autohell fix
	export WANT_AUTOMAKE=1.8
	export WANT_AUTOCONF=2.5
	libtoolize --force --copy || Fdie
  	aclocal || Fdie
	automake -a -f -c || Fdie
	autoconf || Fdie
	cp /usr/share/gnuconfig/config.{sub,guess} .

	# Finally build
	Fconf --disable-x86asm
	Fmakeinstall
}

# optimization OK
