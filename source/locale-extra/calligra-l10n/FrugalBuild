# Compiling Time: 2.44 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=calligra-l10n
pkgver=2.7.1
pkgrel=1
pkgdesc="Dummy package."
url="http://www.calligra-suite.org"
Finclude kde i18n
depends=()
makedepends=("${makedepends[@]}" "kdelibs>=$_F_kde_ver" "kdelibs-compiletime>=$_F_kde_ver")
groups=('locale-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-latest | grep 'tar' | sed -n 's/.*calligra-\(.*\).tar.xz.*/\1/;1p'"
source=()
subpkgs=()
sha1sums=('dc573359d753a94771c45bed00532cfbdeef3c56' \
          'bad8aab3360544d119b1cfd44b404983bfbe19d5' \
          '20cb51e03556933ecbc06574aa8b901a9b09941f' \
          '578964e37dbe96d76367ff4cceb0bb83c0e510c3' \
          'a7a3b51d852c07a5f7681bc776520e2d434f6d1b' \
          'b22342b9efe04202fcdc7c0837f427ba262bc63b' \
          'd0a3f97cc01bd227bad3c84d5e7545553aec7e20' \
          '08aa627f0c5043c2a04e3fe197e61294404cfcf6' \
          'ae8085af49e4486301bcf976bc66210f296f40e6' \
          'bbebf32240dd87a00e8e4ca3f095378811b76764' \
          '627be8eb30c6c6a3768d318925c615f7fd19f911' \
          'eb3c76bf86e125e306ce7ff27221def7e374a778' \
          'b1b753e2af08ca636f1d1091a527459e3fed53d3' \
          '97f22f88a1c22a02c98ef42d60f74140727ada96' \
          'e4f198e19a9fe99f7e0242bc611c3fb29efdf84a' \
          'e245854e678d8e9d66acc0848242c25dd3c3735d' \
          'd96809fae8c1752c809d143c5d08d5fd12cf8bff' \
          'd25879ce66bfc4672a4a52cf43ec0bba5f107a8d' \
          'ca53b1c411f79d42a324df1cb95cad863212ba80' \
          '9bef7355f3669495a21a35107ca5ada9feb0d675' \
          '600f93a9fb9cee1ab44f6d120073e291d3c88041' \
          '5ab0a001bc8909f3efb1d8c81182ad78382a53b6' \
          'ef621596cea875d297d9cdaa52661fea5c4e5c35' \
          '59b64323fc382fa97f20cdf87342b2bfa90717d9' \
          'a938ee9e93de96030bfb327ee297234be57e5452' \
          'f7d4baf3fbdab9f1c3966268c0b41061f1f0534e' \
          '4b92efb0a5c4456ce6b351960fe6b36836a04b3e' \
          'ba191346806f5c01fa2b42e2c8a45862f95c89b7' \
          '4edae204aab894c4ca84692197ba72a67b608813')

## this part is almost the same of kde-l10n
kde_l10n_language_from_tag() {
	local lang
	case $1 in
	'be@latin')	lang='Belarusian (Latin)';;
	'bn_IN')	lang='Bengali (India)';;
	'ca@valencia')	lang='Catalan (Valencian)';;
	'en_GB')	lang='British';;
	'pt_BR')	lang='Brazilian';;
	'sr@ijekavian')	lang='Serbian (Ijekavian)';;
        'sr@ijekavianlatin')	lang='Serbian (Ijekavian Latin)';;
        'sr@latin')	lang='Serbian (Latin)';;
	'uz@cyrillic')	lang='Uzbek (Cyrillic)';;
	'zh_CN')	lang='Chinese Simplified';;
	'zh_HK')	lang='Chinese Hong Kong';;
	'zh_TW')	lang='Chinese Traditional';;
	*)	lang=`i18n_language_from_subtag "$1"`
	esac
	echo "$lang"
}

kde_l10n_lang_add() {
	klangs+=("$1")
	source+=("$_F_kde_mirror/$_F_kde_folder/calligra-$pkgver/$pkgname/$pkgname-$1-$pkgver.tar.xz")
	subpkgs+=("$pkgname-`Flowerstr "$1"`")
        subdescs+=("`kde_l10n_language_from_tag $1` localization for Calligra.")
        subdepends+=('')
        subgroups+=("locale-extra")
        subarchs+=("i686 x86_64")
}

build()
{
        for ksub in "${klangs[@]}"
        do
		echo $ksub
                cd "$Fsrcdir/$pkgname-$ksub-$pkgver"
                ksub=`Flowerstr "$ksub"`
                KDE_build
                Fsplit $pkgname-$ksub  /usr
        done
}

## generate this with something like
## for i in $(lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-2.7.1/calligra-l10n/ | sed -n "s/.*calligra-l10n-\(.*\)-.*.tar.xz$/\1/p");do echo kde_l10n_lang_add \"$i\" >> FrugalBuild;done
kde_l10n_lang_add "bs"
kde_l10n_lang_add "ca"
kde_l10n_lang_add "ca@valencia"
kde_l10n_lang_add "cs"
kde_l10n_lang_add "da"
kde_l10n_lang_add "de"
kde_l10n_lang_add "el"
kde_l10n_lang_add "es"
kde_l10n_lang_add "et"
kde_l10n_lang_add "fi"
kde_l10n_lang_add "fr"
kde_l10n_lang_add "gl"
kde_l10n_lang_add "hu"
kde_l10n_lang_add "it"
kde_l10n_lang_add "kk"
kde_l10n_lang_add "nb"
kde_l10n_lang_add "nds"
kde_l10n_lang_add "nl"
kde_l10n_lang_add "pl"
kde_l10n_lang_add "pt"
kde_l10n_lang_add "pt_BR"
kde_l10n_lang_add "ru"
kde_l10n_lang_add "sk"
kde_l10n_lang_add "sl"
kde_l10n_lang_add "sv"
kde_l10n_lang_add "tr"
kde_l10n_lang_add "uk"
kde_l10n_lang_add "zh_CN"
kde_l10n_lang_add "zh_TW"
