# Compiling Time: 2.44 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=calligra-l10n
pkgver=2.9.2
pkgrel=1
pkgdesc="Dummy package."
url="http://www.calligra-suite.org"
Finclude kde i18n
depends=()
makedepends=("${makedepends[@]}" "kdelibs>=$_F_kde_ver" "kdelibs-compiletime>=$_F_kde_ver")
groups=('locale-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-latest | grep 'tar' | sed -n 's/.*calligra-\(.*\).tar.xz.*/\1/;1p'"
source=()
subpkgs=()
sha1sums=('db51cad35a9edab754e65910e038ac4ec605a868' \
          '0e8e188b758ce78ebf8a79a4760e1c9394f47045' \
          'c3e8eb0306c99de881ad767e6ddc294784beb075' \
          '7dd5f870f552e8b9c38e2bbb1eb2f70a4baee59e' \
          '8aa0eaf9038cc3076935c20e21e27f9251e747bb' \
          '912135afb95be11fd6ef66542758e3ec3b09769a' \
          'f0b93a062d83c533b0d22e06acfc5bbbdfa63682' \
          'f075413b7e9fa5993b3fce149cffcd9c075c1fac' \
          'a0f64f571a046cec6ef790ffcf1f925d01313d0f' \
          '89e35a1041e931ab4b4fb1f51b4f7da9eda963b4' \
          'ce6f3a855a1310e227fe667b2574f6ca8c26c9ff' \
          'f675353bbeb764770d17338b7e1464da46548d64' \
          '4811680fe1aac4e043ab22b494e6cd4f50025838' \
          '5d8bb061d50bf2902adf34e74d4c5eb930c48c67' \
          'd3f88fcf362cb81175de6294bc15dd2ef3adc323' \
          'd52c1bc300eafbc18b97f50d1b2409d5dc0a670e' \
          'c1fa6fee3f967c81bb070452e38ebb1c56dab85c' \
          '376bde5e1eed7afe1ee46245b55bbf245306fb0c' \
          '06937652e6be023c66df6579beea36a6b7ec8155' \
          'e43ba3ab84de77aea653640114927792c7dcf2a1' \
          '45387cf45259124efb4b260e0f6721b0d6a0568d' \
          '210459515e998d854dae852a0fa0206c95ce72ec' \
          'f5775f453efb3f14b1acc1a9a17220af53fe1979' \
          'eda4226eac9e6dd28f4c74d335c6984eff9fd0f0' \
          'b6a8f267ec21703e856e28748c3fcdc98580332a' \
          '8776713ddc1a2d5ed46f7449c10e084f1087d978' \
          '4bcf52dbf03915de64875b9a7d398a596c577018' \
          '3ffbb9b437d101ca9b20b1c4a1b683a17d2ba673' \
          '7e347b69ecd0bbf6bc7944ba0c684d0581c8636c')

## this part is almost the same of kde-l10n
kde_l10n_language_from_tag() {
	local lang
	case $1 in
	'be@latin')	lang='Belarusian (Latin)';;
	'bn_IN')	lang='Bengali (India)';;
	'ca@valencia')	lang='Catalan (Valencian)';;
	'en_GB')	lang='British';;
	'pt_BR')	lang='Brazilian';;
	'sr@ijekavian')	lang='Serbian (Ijekavian)';;
        'sr@ijekavianlatin')	lang='Serbian (Ijekavian Latin)';;
        'sr@latin')	lang='Serbian (Latin)';;
	'uz@cyrillic')	lang='Uzbek (Cyrillic)';;
	'zh_CN')	lang='Chinese Simplified';;
	'zh_HK')	lang='Chinese Hong Kong';;
	'zh_TW')	lang='Chinese Traditional';;
	*)	lang=`i18n_language_from_subtag "$1"`
	esac
	echo "$lang"
}

kde_l10n_lang_add() {
	klangs+=("$1")
	source+=("$_F_kde_mirror/$_F_kde_folder/calligra-$pkgver/$pkgname/$pkgname-$1-$pkgver.tar.xz")
	subpkgs+=("$pkgname-`Flowerstr "$1"`")
        subdescs+=("`kde_l10n_language_from_tag $1` localization for Calligra.")
        subdepends+=('')
        subgroups+=("locale-extra")
        subarchs+=("i686 x86_64")
}

build()
{
        for ksub in "${klangs[@]}"
        do
		echo $ksub
                cd "$Fsrcdir/$pkgname-$ksub-$pkgver"
                ksub=`Flowerstr "$ksub"`
                KDE_build
                Fsplit $pkgname-$ksub  /usr
        done
}

## generate this with something like
## for i in $(lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-2.8.5/calligra-l10n/ | sed -n "s/.*calligra-l10n-\(.*\)-.*.tar.xz$/\1/p");do echo kde_l10n_lang_add \"$i\" >> FrugalBuild;done
kde_l10n_lang_add "bs"
kde_l10n_lang_add "ca"
kde_l10n_lang_add "ca@valencia"
kde_l10n_lang_add "cs"
kde_l10n_lang_add "da"
kde_l10n_lang_add "de"
kde_l10n_lang_add "el"
kde_l10n_lang_add "en_GB"
kde_l10n_lang_add "es"
kde_l10n_lang_add "et"
kde_l10n_lang_add "fi"
kde_l10n_lang_add "fr"
kde_l10n_lang_add "gl"
kde_l10n_lang_add "hu"
kde_l10n_lang_add "it"
kde_l10n_lang_add "ja"
kde_l10n_lang_add "kk"
kde_l10n_lang_add "nb"
kde_l10n_lang_add "nl"
kde_l10n_lang_add "pl"
kde_l10n_lang_add "pt"
kde_l10n_lang_add "pt_BR"
kde_l10n_lang_add "ru"
kde_l10n_lang_add "sk"
kde_l10n_lang_add "sv"
kde_l10n_lang_add "tr"
kde_l10n_lang_add "uk"
kde_l10n_lang_add "zh_CN"
kde_l10n_lang_add "zh_TW"
