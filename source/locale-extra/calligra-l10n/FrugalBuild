# Compiling Time: 2.44 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=calligra-l10n
pkgver=2.6.3
pkgrel=1
pkgdesc="Dummy package."
url="http://www.calligra-suite.org"
Finclude kde i18n
depends=()
makedepends=("${makedepends[@]}" "kdelibs>=$_F_kde_ver" "kdelibs-compiletime>=$_F_kde_ver")
groups=('locale-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-latest | grep 'tar' | sed -n 's/.*calligra-\(.*\).tar.bz2.*/\1/;1p'"
source=()
subpkgs=()
sha1sums=('6a68688ba9b123fd81cd6294b0ebb50e2d8dc6be' \
          'f8ae60e870dbeb65768bae5f96f3e07cc8e84438' \
          '102d20ce158d66c8a5a880dcb4587ac2a52536bf' \
          '009c10c207e698c53f0fcdb3377779cdc02c2dfe' \
          '626e7c6b78fc386fd18ab38dc11dabf92cb7c815' \
          '4913079564da556c12344def8ff42c38ee685021' \
          '7eb8af8997d81794846aa21478f050d14c2646ba' \
          'ea0c89a3bbbc4ee207c91d2249650f9de25b8c6b' \
          '28c6186196e3fb5c48983b7b6455f3d0025e0ff1' \
          '6d620293b0cb66d36d3dc4e5ba7c0c46966dd653' \
          '83a4720127d6a7d59e7651c1ab7e8c64690507da' \
          '069b9d72f6eae3173940c43030a0690fbf115ed1' \
          '07ab549c53b28fcafb8ceb801e11c9a8713a32dc' \
          '5cd7fde876ad61e141286655889ddfe3b9637bc6' \
          'd574be7a359ad3810c70edb6623ad4f682b11566' \
          '73a80924856e4e504158cc1034217d76e5438591' \
          'cc7ba23bee1b127ec0ba64f77212105749122477' \
          '916326321db3f683408ee824ffdccaebb113c84e' \
          'fe82c2885c84d431a2a6832e8d3dd6d4d709a92f' \
          'aab38ced3fd05b44492c5cfbe0399a91812fa841' \
          '26fc54ce4aa2ab4efb6fa8bc012e66f0cea4d580' \
          '959f12bc5121acfe2856a913cca24fabd1d708ae' \
          'd2ccece7a08def41bfa7543f27e273c42135f216' \
          '9a57d480cda39d9113c7239e485b5fcb2fea5b8d' \
          '270f58b2fff0583bcef8248fcf738cd9743da06c' \
          'b0697aa41aa040fed863575fbb867479927326ff' \
          'a383b919c0e5db8cf273bfca74380824aa659ce3' \
          'fe712fc20744b7779cb323a664edba989eb21571')

## this part is almost the same of kde-l10n
kde_l10n_language_from_tag() {
	local lang
	case $1 in
	'be@latin')	lang='Belarusian (Latin)';;
	'bn_IN')	lang='Bengali (India)';;
	'ca@valencia')	lang='Catalan (Valencian)';;
	'en_GB')	lang='British';;
	'pt_BR')	lang='Brazilian';;
	'sr@ijekavian')	lang='Serbian (Ijekavian)';;
        'sr@ijekavianlatin')	lang='Serbian (Ijekavian Latin)';;
        'sr@latin')	lang='Serbian (Latin)';;
	'uz@cyrillic')	lang='Uzbek (Cyrillic)';;
	'zh_CN')	lang='Chinese Simplified';;
	'zh_HK')	lang='Chinese Hong Kong';;
	'zh_TW')	lang='Chinese Traditional';;
	*)	lang=`i18n_language_from_subtag "$1"`
	esac
	echo "$lang"
}

kde_l10n_lang_add() {
	klangs+=("$1")
	source+=("$_F_kde_mirror/$_F_kde_folder/calligra-$pkgver/$pkgname/$pkgname-$1-$pkgver.tar.bz2")
	subpkgs+=("$pkgname-`Flowerstr "$1"`")
        subdescs+=("`kde_l10n_language_from_tag $1` localization for Calligra.")
        subdepends+=('')
        subgroups+=("locale-extra")
        subarchs+=("i686 x86_64")
}

build()
{
        for ksub in "${klangs[@]}"
        do
		echo $ksub
                cd "$Fsrcdir/$pkgname-$ksub-$pkgver"
                ksub=`Flowerstr "$ksub"`
                KDE_build
                Fsplit $pkgname-$ksub  /usr
        done
}

## generate this with something like
## for i in $(lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-2.6.0/calligra-l10n/ | sed -n "s/.*calligra-l10n-\(.*\)-.*.tar.bz2$/\1/p");do echo kde_l10n_lang_add \"$i\" >> FrugalBuild;done
kde_l10n_lang_add "bs"
kde_l10n_lang_add "ca"
kde_l10n_lang_add "ca@valencia"
kde_l10n_lang_add "da"
kde_l10n_lang_add "de"
kde_l10n_lang_add "el"
kde_l10n_lang_add "en_GB"
kde_l10n_lang_add "es"
kde_l10n_lang_add "et"
kde_l10n_lang_add "fi"
kde_l10n_lang_add "fr"
kde_l10n_lang_add "gl"
kde_l10n_lang_add "hu"
kde_l10n_lang_add "it"
kde_l10n_lang_add "kk"
kde_l10n_lang_add "nb"
kde_l10n_lang_add "nds"
kde_l10n_lang_add "nl"
kde_l10n_lang_add "pl"
kde_l10n_lang_add "pt"
kde_l10n_lang_add "pt_BR"
kde_l10n_lang_add "ru"
kde_l10n_lang_add "sk"
kde_l10n_lang_add "sl"
kde_l10n_lang_add "sv"
kde_l10n_lang_add "uk"
kde_l10n_lang_add "zh_CN"
kde_l10n_lang_add "zh_TW"
