# Compiling Time: 2.44 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=calligra-l10n
pkgver=2.6.0
pkgrel=1
pkgdesc="Dummy package."
url="http://www.calligra-suite.org"
Finclude kde i18n
depends=()
makedepends=("${makedepends[@]}" "kdelibs>=$_F_kde_ver" "kdelibs-compiletime>=$_F_kde_ver")
groups=('locale-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-latest | grep 'tar' | sed -n 's/.*calligra-\(.*\).tar.bz2.*/\1/;1p'"
source=()
subpkgs=()
sha1sums=('b04a72bd6635f3e38760c9eccf6ed3f3f29b9b49' \
          '61d46bf2a8a7b186f38663b3d9b80a0c2133a544' \
          '92552acffbc60ba2f2a51c3f86fd8ef7c572d413' \
          'c351e2a4d1ea2ff94274fddd37738191b941cd35' \
          'f59d33e2f63a9cabe3421ae901cb4bf434712cdb' \
          'de2bbc3dbdd3224222fa617c749276423d718ae6' \
          'db320a1bdc5d8ed36e73e5036591a9d45cc06de7' \
          'e992103edd0e77e029e1af1e0cbfb14489649baa' \
          'd3cc6efacee83f5f26020f0c7a9b2b41e512fa3a' \
          '7c9358b3785f2154023ead5d450349e4b519a63a' \
          '3682b7ce352b349537bb486c967306ee8dfdc108' \
          '0de4293e872fca2cdf76506fda0f35d152d4fd6a' \
          'c1c87e6be33b9fd55a15467365d30b2ee9a48dfd' \
          '6356a2acc0acd811de62ddcfa867bac5a6d9d19e' \
          '1d9731a2c1057931bba7385d69d6e0ad1d4dbc23' \
          '62fb5789a877eb93b1d98724521fb72a7dd049fa' \
          'a03354ee70ec52b961c7a9c20d3761869ba70eb4' \
          'db2e0fee4429a889fd03848907da9b7fec329017' \
          '99cfc4cbb8bdfb8377ea8f5c05813ec8204d1230' \
          'dbeafb43e95e2c093dab94def4852148df323054' \
          '3e3a617682c28a1a4bd3e1e28fc34abc2f0cc180' \
          '6477641206140035f9fda84a915680e83f890854' \
          '0846d51b303c4cf40f2cf1cb7e3cb2c26d0ed02c' \
          '706a1d78a66eb12c79ced77f3973c435f5dbbcdf' \
          '28fbd3c64e111f5c86fc1ea22441f64503a43acb' \
          '50f47e5028ebbed1b8aa3409dca229f8b7a0ae63' \
          '6fb96c835147786027ef7008ad5c996ab0970e65' \
          '9d29f84c5bd2c0b2f3906b505043c587806ea57c')

## this part is almost the same of kde-l10n
kde_l10n_language_from_tag() {
	local lang
	case $1 in
	'be@latin')	lang='Belarusian (Latin)';;
	'bn_IN')	lang='Bengali (India)';;
	'ca@valencia')	lang='Catalan (Valencian)';;
	'en_GB')	lang='British';;
	'pt_BR')	lang='Brazilian';;
	'sr@ijekavian')	lang='Serbian (Ijekavian)';;
        'sr@ijekavianlatin')	lang='Serbian (Ijekavian Latin)';;
        'sr@latin')	lang='Serbian (Latin)';;
	'uz@cyrillic')	lang='Uzbek (Cyrillic)';;
	'zh_CN')	lang='Chinese Simplified';;
	'zh_HK')	lang='Chinese Hong Kong';;
	'zh_TW')	lang='Chinese Traditional';;
	*)	lang=`i18n_language_from_subtag "$1"`
	esac
	echo "$lang"
}

kde_l10n_lang_add() {
	klangs+=("$1")
	source+=("$_F_kde_mirror/$_F_kde_folder/calligra-$pkgver/$pkgname/$pkgname-$1-$pkgver.tar.bz2")
	subpkgs+=("$pkgname-`Flowerstr "$1"`")
        subdescs+=("`kde_l10n_language_from_tag $1` localization for Calligra.")
        subdepends+=('')
        subconflicts+=("kde-i18n-`Flowerstr "$1"`")
        subreplaces+=("kde-i18n-`Flowerstr "$1"`")
        subprovides+=("kde-i18n-`Flowerstr "$1"`")
        subgroups+=("locale-extra")
        subarchs+=("i686 x86_64")
}

build()
{
        for ksub in "${klangs[@]}"
        do
		echo $ksub
                cd "$Fsrcdir/$pkgname-$ksub-$pkgver"
                ksub=`Flowerstr "$ksub"`
                KDE_build
                Fsplit $pkgname-$ksub  /usr
        done
}

## generate this with something like
## for i in $(lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-2.6.0/calligra-l10n/ | sed -n "s/.*calligra-l10n-\(.*\)-.*.tar.bz2$/\1/p");do echo kde_l10n_lang_add \"$i\" >> FrugalBuild;done
kde_l10n_lang_add "bs"
kde_l10n_lang_add "ca"
kde_l10n_lang_add "ca@valencia"
kde_l10n_lang_add "da"
kde_l10n_lang_add "de"
kde_l10n_lang_add "el"
kde_l10n_lang_add "en_GB"
kde_l10n_lang_add "es"
kde_l10n_lang_add "et"
kde_l10n_lang_add "fi"
kde_l10n_lang_add "fr"
kde_l10n_lang_add "gl"
kde_l10n_lang_add "hu"
kde_l10n_lang_add "it"
kde_l10n_lang_add "kk"
kde_l10n_lang_add "nb"
kde_l10n_lang_add "nds"
kde_l10n_lang_add "nl"
kde_l10n_lang_add "pl"
kde_l10n_lang_add "pt"
kde_l10n_lang_add "pt_BR"
kde_l10n_lang_add "ru"
kde_l10n_lang_add "sk"
kde_l10n_lang_add "sl"
kde_l10n_lang_add "sv"
kde_l10n_lang_add "uk"
kde_l10n_lang_add "zh_CN"
kde_l10n_lang_add "zh_TW"
