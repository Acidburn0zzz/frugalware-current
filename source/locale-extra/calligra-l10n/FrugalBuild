# Compiling Time: 2.44 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=calligra-l10n
pkgver=2.8.2
pkgrel=1
pkgdesc="Dummy package."
url="http://www.calligra-suite.org"
Finclude kde i18n
depends=()
makedepends=("${makedepends[@]}" "kdelibs>=$_F_kde_ver" "kdelibs-compiletime>=$_F_kde_ver")
groups=('locale-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-latest | grep 'tar' | sed -n 's/.*calligra-\(.*\).tar.xz.*/\1/;1p'"
source=()
subpkgs=()
sha1sums=('7cd55e2df621e7d19a8a8de96829c33e659282ba' \
          'f659a2a946ce3e14a9c3b9d5f1a5ed9a14002767' \
          '846f73c0ad1c3510e07df25ecbfb359e912d7931' \
          'b50d01ed2bd46a03fe22bb302228a8009200b87b' \
          'a3422d5042e954f25079c4f1943f631464c0e817' \
          '579a1b21cba21bd175365a64653aa41e2ef69c6d' \
          '4e67c63a9a67194f0c981681eb7fdc9186251066' \
          '875dce57cb612361eb957bd55fda260a4633d85b' \
          'c9ae3dc9bd7cd11079c839f5946a0bb64bf071c8' \
          'bf0a89c054197fbb9dbb8d0baac00eb4f41ee5f5' \
          '427a9f7435d2a006ce369defdfc6c031d1c40c95' \
          '154453d0fd3120f966d03271559a16c8f95ba4f8' \
          '1ec52c27dab4580db547222cf4067102961e849e' \
          'df4f3c65038fb9c2eb6e9547fdb60efd2545eded' \
          'f0ec67dd8e604117e4d38cd6b7464b9ff9962ad8' \
          '3f5f7b97eef05157ead065893e8bb5ab611cc1d2' \
          'b8b90b7d081034cebca1b0614b537c16275d22fe' \
          '8cb50a9f6fe8d1e1baadddc09522662e2b003f8f' \
          '05a1e8593d64f38128c45ea78c84302f6742d015' \
          '9b3f34900b21477c041b686871c853085c976c20' \
          '4ece73cf5559915a5a36cc7b2af03af9b2e588cb' \
          '4f86fe0d8689da295119e8f9ddee6193baf13607' \
          '787eb02137145068aa45c154e302c9e310fd305f' \
          '0d34eb80dbf51d159ff1ff0f524b394e261209b4' \
          '4b4eb2a87368ff22a90737ad74114801a3e7bb94' \
          '5d52ec0e03f9ac1e87f0c91fa1d7889d633b6371' \
          'dc0b65ecaa4f1c7ca391b5c88d37cfd124f5bada' \
          'e241a7d8aac88da11dab9ce953333748ba770a40' \
          'd73af8fb142858021330ffaf2c10c8f4858abbe7')

## this part is almost the same of kde-l10n
kde_l10n_language_from_tag() {
	local lang
	case $1 in
	'be@latin')	lang='Belarusian (Latin)';;
	'bn_IN')	lang='Bengali (India)';;
	'ca@valencia')	lang='Catalan (Valencian)';;
	'en_GB')	lang='British';;
	'pt_BR')	lang='Brazilian';;
	'sr@ijekavian')	lang='Serbian (Ijekavian)';;
        'sr@ijekavianlatin')	lang='Serbian (Ijekavian Latin)';;
        'sr@latin')	lang='Serbian (Latin)';;
	'uz@cyrillic')	lang='Uzbek (Cyrillic)';;
	'zh_CN')	lang='Chinese Simplified';;
	'zh_HK')	lang='Chinese Hong Kong';;
	'zh_TW')	lang='Chinese Traditional';;
	*)	lang=`i18n_language_from_subtag "$1"`
	esac
	echo "$lang"
}

kde_l10n_lang_add() {
	klangs+=("$1")
	source+=("$_F_kde_mirror/$_F_kde_folder/calligra-$pkgver/$pkgname/$pkgname-$1-$pkgver.tar.xz")
	subpkgs+=("$pkgname-`Flowerstr "$1"`")
        subdescs+=("`kde_l10n_language_from_tag $1` localization for Calligra.")
        subdepends+=('')
        subgroups+=("locale-extra")
        subarchs+=("i686 x86_64")
}

build()
{
        for ksub in "${klangs[@]}"
        do
		echo $ksub
                cd "$Fsrcdir/$pkgname-$ksub-$pkgver"
                ksub=`Flowerstr "$ksub"`
                KDE_build
                Fsplit $pkgname-$ksub  /usr
        done
}

## generate this with something like
## for i in $(lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-2.7.1/calligra-l10n/ | sed -n "s/.*calligra-l10n-\(.*\)-.*.tar.xz$/\1/p");do echo kde_l10n_lang_add \"$i\" >> FrugalBuild;done
kde_l10n_lang_add "bs"
kde_l10n_lang_add "ca"
kde_l10n_lang_add "ca@valencia"
kde_l10n_lang_add "cs"
kde_l10n_lang_add "da"
kde_l10n_lang_add "de"
kde_l10n_lang_add "el"
kde_l10n_lang_add "es"
kde_l10n_lang_add "et"
kde_l10n_lang_add "eu"
kde_l10n_lang_add "fi"
kde_l10n_lang_add "fr"
kde_l10n_lang_add "gl"
kde_l10n_lang_add "hu"
kde_l10n_lang_add "it"
kde_l10n_lang_add "kk"
kde_l10n_lang_add "nb"
kde_l10n_lang_add "nds"
kde_l10n_lang_add "nl"
kde_l10n_lang_add "pl"
kde_l10n_lang_add "pt"
kde_l10n_lang_add "pt_BR"
kde_l10n_lang_add "ru"
kde_l10n_lang_add "sk"
kde_l10n_lang_add "sl"
kde_l10n_lang_add "sv"
kde_l10n_lang_add "uk"
kde_l10n_lang_add "zh_CN"
kde_l10n_lang_add "zh_TW"
