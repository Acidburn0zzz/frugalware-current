# Compiling Time: 2.44 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=calligra-l10n
pkgver=2.6.2
pkgrel=2
pkgdesc="Dummy package."
url="http://www.calligra-suite.org"
Finclude kde i18n
depends=()
makedepends=("${makedepends[@]}" "kdelibs>=$_F_kde_ver" "kdelibs-compiletime>=$_F_kde_ver")
groups=('locale-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-latest | grep 'tar' | sed -n 's/.*calligra-\(.*\).tar.bz2.*/\1/;1p'"
source=()
subpkgs=()
sha1sums=('dc7018b85205bba142a53e5c61b79f329739e229' \
          '7abf55759a08eff5f08064ef7b19301d9f1ab06e' \
          'ab21068c7774faa177027898d939f6b1c45b9232' \
          '384c70a91fea80bc16298c834b5b0f26b3896729' \
          'ed3942de52db74ef1c0583034cf70093bf47e6f7' \
          'b77cfe549dbbab54ea65898a2ca5e15e7c2f2dc6' \
          'c6b191ec16415a029cab7a63f209b20f95b51cc1' \
          '9c36a5cfcbf092928a4d965928930497f9bb8144' \
          'a71827f20e4c88e05fadb4fb2a23aff658f94ee0' \
          '54200795bcfa79e8b1e51fc808e3f5e31477ad55' \
          'a642b9a72b37b0b37553b1d1c752ad40203313ea' \
          '4732deef524ffad94ed385f9820eda63f7f0d4ce' \
          'c8c4daa1bc202f70c20b0a2ddc92bf2df6f89a5a' \
          '38be85e31433cdf190d9f3f04a0f7441271e1a96' \
          '8500ae99cf5422d4adb88a4c8655ab095756e1fc' \
          '412020f4653db18536749b36237264ae0a70df79' \
          'd3d4ec8793e618776c7170fcd9d7c568c4454047' \
          'd0f5c24a3ab7c763a03bf9a69d262ea9cb9ed8e7' \
          '333a64c2d2bd5bece3f2f51ad6e3bf500b8b2179' \
          'b6e236a4c8e29c804e39ab76b903621ea0ed47f0' \
          'eb40753d835a2852612f4be441f877902c3c5068' \
          '5e31bc597f794d4bf57a88d1b94b15ef5ddf229f' \
          '8341e49f1d4492f965549d73be89c1b8928e941a' \
          '49e6db541600905cf15776607198d6acc0c695cd' \
          'f561253062640ef908c6726dafcdf3bac02384f4' \
          'a509c043e04204fd8d413abe31890760fed8051d' \
          'a7dbd34f087e39127f9d627c7c49d4b3f24e09c5' \
          '80e9b5793c4e6154334cf87aa63dc5ea734378f8')

## this part is almost the same of kde-l10n
kde_l10n_language_from_tag() {
	local lang
	case $1 in
	'be@latin')	lang='Belarusian (Latin)';;
	'bn_IN')	lang='Bengali (India)';;
	'ca@valencia')	lang='Catalan (Valencian)';;
	'en_GB')	lang='British';;
	'pt_BR')	lang='Brazilian';;
	'sr@ijekavian')	lang='Serbian (Ijekavian)';;
        'sr@ijekavianlatin')	lang='Serbian (Ijekavian Latin)';;
        'sr@latin')	lang='Serbian (Latin)';;
	'uz@cyrillic')	lang='Uzbek (Cyrillic)';;
	'zh_CN')	lang='Chinese Simplified';;
	'zh_HK')	lang='Chinese Hong Kong';;
	'zh_TW')	lang='Chinese Traditional';;
	*)	lang=`i18n_language_from_subtag "$1"`
	esac
	echo "$lang"
}

kde_l10n_lang_add() {
	klangs+=("$1")
	source+=("$_F_kde_mirror/$_F_kde_folder/calligra-$pkgver/$pkgname/$pkgname-$1-$pkgver.tar.bz2")
	subpkgs+=("$pkgname-`Flowerstr "$1"`")
        subdescs+=("`kde_l10n_language_from_tag $1` localization for Calligra.")
        subdepends+=('')
        subgroups+=("locale-extra")
        subarchs+=("i686 x86_64")
}

build()
{
        for ksub in "${klangs[@]}"
        do
		echo $ksub
                cd "$Fsrcdir/$pkgname-$ksub-$pkgver"
                ksub=`Flowerstr "$ksub"`
                KDE_build
                Fsplit $pkgname-$ksub  /usr
        done
}

## generate this with something like
## for i in $(lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-2.6.0/calligra-l10n/ | sed -n "s/.*calligra-l10n-\(.*\)-.*.tar.bz2$/\1/p");do echo kde_l10n_lang_add \"$i\" >> FrugalBuild;done
kde_l10n_lang_add "bs"
kde_l10n_lang_add "ca"
kde_l10n_lang_add "ca@valencia"
kde_l10n_lang_add "da"
kde_l10n_lang_add "de"
kde_l10n_lang_add "el"
kde_l10n_lang_add "en_GB"
kde_l10n_lang_add "es"
kde_l10n_lang_add "et"
kde_l10n_lang_add "fi"
kde_l10n_lang_add "fr"
kde_l10n_lang_add "gl"
kde_l10n_lang_add "hu"
kde_l10n_lang_add "it"
kde_l10n_lang_add "kk"
kde_l10n_lang_add "nb"
kde_l10n_lang_add "nds"
kde_l10n_lang_add "nl"
kde_l10n_lang_add "pl"
kde_l10n_lang_add "pt"
kde_l10n_lang_add "pt_BR"
kde_l10n_lang_add "ru"
kde_l10n_lang_add "sk"
kde_l10n_lang_add "sl"
kde_l10n_lang_add "sv"
kde_l10n_lang_add "uk"
kde_l10n_lang_add "zh_CN"
kde_l10n_lang_add "zh_TW"
