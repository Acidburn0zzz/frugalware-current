# Compiling Time: 2.44 SBU
# Maintainer: Melko <melko@frugalware.org>

pkgname=calligra-l10n
pkgver=2.9.4
pkgrel=1
pkgdesc="Dummy package."
url="http://www.calligra-suite.org"
Finclude kde i18n
depends=()
makedepends=("${makedepends[@]}" "kdelibs>=$_F_kde_ver" "kdelibs-compiletime>=$_F_kde_ver")
groups=('locale-extra')
archs=('i686' 'x86_64')
up2date="lynx -dump $_F_kde_mirror/stable/calligra-latest | grep 'tar' | sed -n 's/.*calligra-\(.*\).tar.xz.*/\1/;1p'"
source=()
subpkgs=()
sha1sums=('74323658343497c6768b935af0435db715b5bb9e' \
          '7db70653911aa0eb54e13c1d5de6b2ed46015267' \
          '496a0df3b3e1f53d9c2c88817eee2e2798001357' \
          'beb3156a971ff64490accc3f9133f8252febe3b6' \
          'f1cbd11702ae3c615048eb779ed447c0371c97fc' \
          'a4ca44620340e0321f06072a02117ebc329cf6c1' \
          'f22a875a4a196016663f3fd330116f46e84df794' \
          'ad5ef7368f2bceffbab879b58502b7bc26d54798' \
          '1fdf2d7fe9dfc86d4aa44e1b0bcdac1702f8db14' \
          'c96715c66c48b5da1812fa8f6685a6f89ad8751f' \
          '800169a0457c1aa1fe90b450d6fa046dbaa2b11b' \
          '9d60284c52b0d79cc257428967ec5c992cd04e8b' \
          '31ad94348f7496b48c9d979a17fe5f722d040c0c' \
          '72995b1ff68ab3280d612bdf78eb72d3213167bb' \
          '4c3ec85950a44201797f62897c62cf9d64871ace' \
          '86cc49a2e87fab7443606bacd45def9da9852553' \
          'd6f90e1bdc7b2bf639db33a6be7265095a5b5baf' \
          'f15dce5fb6eb3279697c41f2e8191de3c3fc4f47' \
          '5f0029a8664d4c2737d3da9c67a0b80de9202b26' \
          '16caaedb7974598e08d607e3b4897ad6e6017d02' \
          '9ffecdf11eaf0c61f5950838c88327e6a7dd2479' \
          'e3edbc1362c147d87f1440fabe3c41ffc8ed774b' \
          '33494e11e946e739fecdfbe35cc39b6ed4cdb7cb' \
          '6e85ca8c2078a371caac4d8c040e88683cf0954f' \
          'f6ebcda2a3b03fa672115ca86d632832eba499d3' \
          'a03a05bcac9e29c276dee9257ad711285a98730a' \
          '686b6287878a34ed37ec178bf92c729037b65157' \
          '4fad6e818eafdb03147492dae7ab11965c7ce925')

## this part is almost the same of kde-l10n
kde_l10n_language_from_tag() {
	local lang
	case $1 in
	'be@latin')	lang='Belarusian (Latin)';;
	'bn_IN')	lang='Bengali (India)';;
	'ca@valencia')	lang='Catalan (Valencian)';;
	'en_GB')	lang='British';;
	'pt_BR')	lang='Brazilian';;
	'sr@ijekavian')	lang='Serbian (Ijekavian)';;
        'sr@ijekavianlatin')	lang='Serbian (Ijekavian Latin)';;
        'sr@latin')	lang='Serbian (Latin)';;
	'uz@cyrillic')	lang='Uzbek (Cyrillic)';;
	'zh_CN')	lang='Chinese Simplified';;
	'zh_HK')	lang='Chinese Hong Kong';;
	'zh_TW')	lang='Chinese Traditional';;
	*)	lang=`i18n_language_from_subtag "$1"`
	esac
	echo "$lang"
}

kde_l10n_lang_add() {
	klangs+=("$1")
	source+=("$_F_kde_mirror/$_F_kde_folder/calligra-$pkgver/$pkgname/$pkgname-$1-$pkgver.tar.xz")
	subpkgs+=("$pkgname-`Flowerstr "$1"`")
        subdescs+=("`kde_l10n_language_from_tag $1` localization for Calligra.")
        subdepends+=('')
        subgroups+=("locale-extra")
        subarchs+=("i686 x86_64")
}

build()
{
        for ksub in "${klangs[@]}"
        do
		echo $ksub
                cd "$Fsrcdir/$pkgname-$ksub-$pkgver"
                ksub=`Flowerstr "$ksub"`
                KDE_build
                Fsplit $pkgname-$ksub  /usr
        done
}

## generate this with something like
## for i in $(lynx -dump ftp://ftp.kde.org/pub/kde/stable/calligra-2.8.5/calligra-l10n/ | sed -n "s/.*calligra-l10n-\(.*\)-.*.tar.xz$/\1/p");do echo kde_l10n_lang_add \"$i\" >> FrugalBuild;done
kde_l10n_lang_add "bs"
kde_l10n_lang_add "ca"
kde_l10n_lang_add "ca@valencia"
kde_l10n_lang_add "cs"
kde_l10n_lang_add "da"
kde_l10n_lang_add "de"
kde_l10n_lang_add "el"
kde_l10n_lang_add "en_GB"
kde_l10n_lang_add "es"
kde_l10n_lang_add "et"
kde_l10n_lang_add "fi"
kde_l10n_lang_add "fr"
kde_l10n_lang_add "gl"
kde_l10n_lang_add "hu"
kde_l10n_lang_add "it"
kde_l10n_lang_add "ja"
kde_l10n_lang_add "kk"
kde_l10n_lang_add "nb"
kde_l10n_lang_add "nl"
kde_l10n_lang_add "pl"
kde_l10n_lang_add "pt"
kde_l10n_lang_add "pt_BR"
kde_l10n_lang_add "ru"
kde_l10n_lang_add "sk"
kde_l10n_lang_add "sv"
kde_l10n_lang_add "uk"
kde_l10n_lang_add "zh_CN"
kde_l10n_lang_add "zh_TW"
