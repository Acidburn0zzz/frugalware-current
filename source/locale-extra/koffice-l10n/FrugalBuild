# Compiling Time: 9.17 SBU
# Maintainer: crazy <crazy@frugalware.org>

pkgname=koffice-l10n
pkgver=1.6.2
pkgrel=1
pkgdesc="Dummy package."
url="http://www.koffice.org/"
pkgurl="ftp://ftp.fu-berlin.de/pub/unix/X11/gui/kde/stable/koffice-$pkgver/src/$pkgname/"
depends=()
makedepends=("koffice>=$pkgver")
groups=('locale-extra')
archs=('i686' 'x86_64')
options=('nodocs' 'scriptlet')
groups=('locale-extra')
up2date="lynx -dump http://ftp.gwdg.de/pub/x11/kde/stable|grep 'koffice-'|grep -v latest|sort -n -r|head -n 1|sed -e 's/.*-\(.*\)/\1/' -e 's|/||g'"
## This parts are most from the OOo build. *me gives janny and vmiklos some power cookies* :)
kolangs=('ca' 'cs' 'cy' 'da' 'de' 'el' 'en_GB' 'es' 'et' 'eu' 'fi' 'fr' 'hu' 'it' 'ja' 'ms' 'nb' 'nl' 'pl' 'pt' 'pt_BR' 'ru' 'sk' 'sl' 'sr' 'sr@Latn' 'sv' 'tr' 'uk'  'zh_CN' 'zh_TW')
kodescs=('Catalan' 'Czech' 'Welsh' 'Danish' 'German' 'Greek' 'English (UK)' 'Spanish' 'Estonian' 'Basque (eu)' 'Finnish' 'French' 'Hungarian' 'Italian' 'Japanese' 'Malay' 'Norwegian (Bokmaal)' 'Dutch' 'Polish' 'Portuguese' 'Brazil portuguese' 'Russian' 'Slovak' 'Slovenian' 'Serbian' 'Serbian' 'Swedish' 'Turkish' 'Ukrainan' 'Simplified Chinese' 'Chinese Traditional')
## source()
i=0
while [ $i -lt ${#kolangs[@]} ]
do
        source=("${source[@]}" "$pkgurl/$pkgname-${kolangs[$i]}-$pkgver.tar.bz2")
        i=$(($i+1))
done

## subpkgs()
i=0
while [ $i -lt ${#kolangs[@]} ]
do
        subpkgs=("${subpkgs[@]}" "$pkgname-`echo ${kolangs[$i]}|tr [A-Z] [a-z]`")
        subdescs=("${subdescs[@]}" "${kodescs[$i]} Localization for KOffice.")
        subdepends=("${subdepends[@]}" "koffice>=$pkgver")
        subgroups=("${subgroups[@]}" "locale-extra")
        subarchs=("${subarchs[@]}" "i686 x86_64")
        i=$(($i+1))
done


build()
{
	## lala :)
	for old in en_GB pt_BR sr@Latn zh_CN zh_TW
        do
                new=`echo $old|tr [A-Z] [a-z]`
                mv $Fsrcdir/$pkgname-$old-$pkgver \
                        $Fsrcdir/$pkgname-$new-$pkgver
        done

        for kosub in "${kolangs[@]}"
        do
		kosub=`echo $kosub|tr [A-Z] [a-z]`
                cd "$Fsrcdir/$pkgname-$kosub-$pkgver"
                Fbuild --disable-debug --without-debug
                Frm /usr/share/locale/"$kosub"/LC_MESSAGES/kdgantt.mo
                Fsplit $pkgname-$kosub  /usr
        done
}




sha1sums=('5142bb66d709f419ad0cdf2580d5e95c500fe630'\
          '63813ecf6043d5bb48b692f2514a4ca20bf1ec30'\
          '66bf806b536c297ded64bdc233c34a2ecdffa651'\
          'd923b86991c4b349e56a7ae8740aeb1c608523b5'\
          '79e1894e5e1b914a19c5417d7413ea1693b519a3'\
          '1abb99bd804ef540024e4039d0a0eb250e3d1bd6'\
          'd70f812911341314edb789689bd0598b872d37c6'\
          '984d25f8daaeef64477d2c5253772d8b9de5dc73'\
          '076dd42dcc9e2150f7ef90ac4db6c10f6620262a'\
          'fdbb98eb6384ccc3059d896f12ae79d11e40b77c'\
          'dc795146c5f9c7c6b838caab7b3ac3653624b732'\
          '531d6d506791520061ad55c081fe23e41e48d64e'\
          '632124ebea182ff70d3287c5eca61d73e313d8c1'\
          'be3ac35dbc0793790181597574f3f18f5fde0f4f'\
          '2be2e3f552fb73914664cbf4580ac5087c7c39af'\
          'a4b484c73efc3339bfdd8b4097f53900cafcdd92'\
          '028e3bcdebada3ea9adb386842ea3437a23a4128'\
          'a39691b70a7658a1cad48b9cfe40a569f4773c9d'\
          '952623ffeeb371ec7e04c5593375d210de9320a3'\
          '609e74e3132ebec5fdf9fbe37ea8d9aaad2c341a'\
          '6781cedc35f2cda067bd8efd62b6b4198ffe8dbd'\
          '78c4945062f2a18b3d63c21ff351cb84ff149b78'\
          '7d6edeb2db21b9d586052788f4d50a895475eb13'\
          '608e8b4ea6286c20fb808cfa160bc4759ce1847c'\
          '3abbe9a16b6fdd08de183480c6ff6ace8a8420e7'\
          'b76f51ee1fb38cc469faa0e7e5bb6be745b17ecd'\
          'ee8a9c7a9f176802b45ad488d97d5b22eea5acc3'\
          '87a8e7e4994dd3411b9cb0ba458b41a1739f0eed'\
          '426c908da2e6378f01270478d187d9c74a638a33'\
          '778e8ef7e01357fe9a616d737ca8c97b3b4efd81'\
          '7c855c805828484f0dfe543a90ac02c5ebb547fd')
