# Compiling Time: 0.50 SBU
# Maintainer: DeX77 <dex77@frugalware.org>

### FIXME: figure rodepends()

pkgname=sddm
pkgver=0.16.0
pkgrel=3
pkgdesc='QML based X11 display manager'
archs=('x86_64')
groups=('x11')
depends=('qt5-declarative>=5.9.0')
rodepends=('xauth' 'hack')
makedepends=('docutils' 'qt5-tools>=5.9.0' 'extra-cmake-modules')
_F_cmake_confopts+="	-DCMAKE_INSTALL_PREFIX=/usr \
		        -DCMAKE_BUILD_TYPE=Release \
		        -DCMAKE_INSTALL_LIBEXECDIR=/usr/lib/sddm \
		        -DBUILD_MAN_PAGES=ON"
_F_github_author="sddm"
_F_github_tag_v=y
_F_archive_grepv="0.1.0"

conflicts=('kdm')
replaces=("${conflicts[@]}" 'liblightdm-qt')
provides=("${conflicts[@]}" 'liblightdm-qt')

Finclude github cmake
options+=('scriptlet')
source+=(20-frugalware-sddm.conf revert-PR-#714.patch)
sha1sums=('dedfd2f930198ab9727fca4060c0639c945653e7' \
          '9ce91afedc3ac6b283fb3ec6a3e332965d3fb4fc' \
          '65fb1f34361d7b45959b3e340ae47e528529318f')


build() {

	Fcd
	CMake_build
	Finstall 755 /usr/lib/sddm/sddm.conf.d/20-frugalware-sddm.conf

}
# optimization OK
