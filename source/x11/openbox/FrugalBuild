# Last Modified: Sun, 30 Jan 2005 10:54:45 +0100
# Compiling Time: ~2 Minutes
# Maintainer: Adam Zlehovszky <zleho@index.hu>

pkgname=openbox
pkgver=3.2
pkgrel=2
pkgdesc="A standards compliant, fast, light-weight, extensible window manager"
url="http://icculus.org/openbox"
depends=('fontconfig' 'libxml2' 'glib2' 'startup-notification')
groups=('x11')
up2date=`lynx -dump $url/download.php|grep 'The latest Stable'|tr -s ' '|cut -d ' ' -f 9`
source=($url/releases/$pkgname-$pkgver.tar.gz xinitrc.$pkgname $pkgname.desktop)

build() {
	cd $startdir/src/$pkgname-$pkgver
	PKG_CONFIG_PATH="/usr/X11R6/lib/pkgconfig/" ./configure --prefix=/usr

	make || return 1
	make DESTDIR=$startdir/pkg install || return 1
	
	mkdir -p $startdir/pkg/etc/X11/{sessions,xinit}
	cp $startdir/src/$pkgname.desktop $startdir/pkg/etc/X11/sessions/
	install -D -m755 -o root -g root $startdir/src/xinitrc.openbox $startdir/pkg/etc/X11/xinit/xinitrc.openbox
}
