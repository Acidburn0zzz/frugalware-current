# Last Modified: Fri May 20 13:51:28 CEST 2005
# Compiling Time: ~2 minutes
# Maintainer: Peter BARABAS <z0d@artifact.hu>

pkgname=wmi
pkgver=10
pkgrel=2
pkgdesc="Window Manager Improved is a lightweight window manager, which attempts to combine the best features of LarsWM, Ion, evilwm, and ratpoison."
url="http://wmi.modprobe.de/"
depends=('glibc' 'x' 'expat' 'gcc' 'fontconfig' 'freetype2')
groups=('x11')
up2date="lynx -dump http://wmi.modprobe.de/index.php/WMI/Source | perl -wlne 'if(/wmi-(\d+)/) { print \$1; exit;}'"
source=(http://download.berlios.de/$pkgname/$pkgname-$pkgver.tar.gz xinitrc.$pkgname $pkgname.desktop)
md5sums=('6728ae28aaa172db3df1e3c2bc483b23' '4a1e93ff2ce4aae8351daa798c002474'\
         '948d6139f04500fdbbdbb65495ba21fb')

build() {
	cd $startdir/src/$pkgname-$pkgver
	./configure --prefix=/usr

	make || return 1

	make prefix=$startdir/pkg/usr install

	mkdir -p $startdir/pkg/etc/X11/{sessions,xinit}
        cp $startdir/src/$pkgname.desktop $startdir/pkg/etc/X11/sessions/
        install -D -m755 -o root -g root $startdir/src/xinitrc.$pkgname $startdir/pkg/etc/X11/xinit/xinitrc.$pkgname
}

# vim: ft=sh
md5sums=('6728ae28aaa172db3df1e3c2bc483b23' '4a1e93ff2ce4aae8351daa798c002474'\
         '948d6139f04500fdbbdbb65495ba21fb')
