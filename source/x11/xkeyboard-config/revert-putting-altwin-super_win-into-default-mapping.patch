From 3dd3e51981a4ac1f5af3e0a2d4959e0e4e0e76b1 Mon Sep 17 00:00:00 2001
From: Miklos Vajna <vmiklos@frugalware.org>
Date: Sun, 6 Sep 2009 13:48:41 +0200
Subject: [PATCH] Revert "Putting altwin:super_win into default mapping, dropping the option, b.fd.o#19500"

This reverts commit 5de02aa07a8d4bbe1957af3a38212c3507f2436f.
---
 rules/base.o_s.part |    1 +
 rules/base.xml.in   |    6 ++++++
 symbols/altwin      |    7 +++++++
 symbols/pc          |    2 --
 4 files changed, 14 insertions(+), 2 deletions(-)

diff --git a/rules/base.o_s.part b/rules/base.o_s.part
index f9290da..948c028 100644
--- a/rules/base.o_s.part
+++ b/rules/base.o_s.part
@@ -4,6 +4,7 @@
   altwin:ctrl_alt_win	=	+altwin(ctrl_alt_win)
   altwin:meta_win	=	+altwin(meta_win)
   altwin:left_meta_win	=	+altwin(left_meta_win)
+  altwin:super_win	=	+altwin(super_win)
   altwin:hyper_win	=	+altwin(hyper_win)
   altwin:alt_super_win	=	+altwin(alt_super_win)
   altwin:swap_lalt_lwin	=	+altwin(swap_lalt_lwin)
diff --git a/rules/base.xml.in b/rules/base.xml.in
index 82c301c..9ebb319 100644
--- a/rules/base.xml.in
+++ b/rules/base.xml.in
@@ -4896,6 +4896,12 @@
       </option>
       <option>
         <configItem>
+          <name>altwin:super_win</name>
+          <_description>Super is mapped to Win keys</_description>
+        </configItem>
+      </option>
+      <option>
+        <configItem>
           <name>altwin:hyper_win</name>
           <_description>Hyper is mapped to Win-keys</_description>
         </configItem>
diff --git a/symbols/altwin b/symbols/altwin
index d0154f2..868d941 100644
--- a/symbols/altwin
+++ b/symbols/altwin
@@ -52,6 +52,13 @@ xkb_symbols "left_meta_win" {
 };
 
 partial modifier_keys 
+xkb_symbols "super_win" {
+    key <LWIN> {	[ 	Super_L			]	};
+    key <RWIN> {	[ 	Super_R			]	};
+    modifier_map Mod4	{ Super_L, Super_R };
+};
+
+partial modifier_keys 
 xkb_symbols "hyper_win" {
     key <LWIN> {	[ 	Hyper_L			]	};
     key <RWIN> {	[ 	Hyper_R			]	};
diff --git a/symbols/pc b/symbols/pc
index 9f3da66..ff3915e 100644
--- a/symbols/pc
+++ b/symbols/pc
@@ -32,13 +32,11 @@ xkb_symbols "pc105" {
     key <LCTL> {	[ Control_L	]	};
 
     key <LWIN> {	[ Super_L			]	};
-    modifier_map Mod4   { <LWIN> };
 
     key <RTSH> {	[ Shift_R	]	};
     key <RCTL> {	[ Control_R	]	};
 
     key <RWIN> {	[ Super_R			]	};
-    modifier_map Mod4   { <RWIN> };
 
     key <MENU> {	[ Menu			]	};
 
-- 
1.6.4

