# Compiling Time: 0.01 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=xkeyboard-config
pkgver=0.9_20061207
pkgrel=1
pkgdesc="X.org XML-based XKB configuration registry"
url="http://www.freedesktop.org/wiki/Software_2fXKeyboardConfig"
groups=('x11' 'xorg-core' 'xorg-proto')
depends=('xkbcomp>=1.0.3')
provides=('xkbdata')
replaces=('xkbdata')
conflicts=('xkbdata')
archs=('i686' 'x86_64')
makedepends=('pkgconfig' 'perl-xml' 'util-macros' 'intltool')
up2date=("lynx -dump 'http://xlibs.freedesktop.org/xkbdesc/?C=M;O=A' | grep $pkgname | Flasttar")
#source=(http://xlibs.freedesktop.org/xkbdesc/$pkgname-$pkgver.tar.bz2)
source=(http://ftp.frugalware.org/pub/other/sources/$pkgname/$pkgname-20061207.tar.bz2)
sha1sums=('54d661f76751c3564e6a3798db7cfd43b51e6537')

build() {
	Fcd $pkgname-20061207
	intltoolize || Fdie
	autoreconf -v --install || Fdie
	Fmake --enable-xkbcomp-symlink --enable-compat-rules \
		--with-xkb-rules-symlink=xorg,xfree86
	Fmakeinstall
	Fmkdir /usr/share/X11
	Fln /usr/lib/X11/xkb /usr/share/X11/xkb
}
