# Compiling Time: 0.01 SBU
# Maintainer: Christian Hamar alias krix <krics@linuxforum.hu>

pkgname=xkeyboard-config
pkgver=2.0
pkgrel=2
pkgdesc="X.org XML-based XKB configuration registry"
url="http://www.freedesktop.org/wiki/Software_2fXKeyboardConfig"
groups=('x11' 'xorg-core' 'xorg-proto')
depends=('xkbcomp>=1.0.5')
archs=('i686' 'x86_64' 'ppc')
makedepends=('pkgconfig' 'perl-xml-parser' 'util-macros>=1.6.0' 'intltool')
up2date=("lynx -dump 'http://xlibs.freedesktop.org/xkbdesc/?C=M;O=A' | grep $pkgname | Flasttar")
source=(http://xlibs.freedesktop.org/xkbdesc/$pkgname-$pkgver.tar.bz2)
#source=(http://ftp.frugalware.org/pub/other/sources/$pkgname/$pkgname-20061207.tar.bz2)
sha1sums=('9fb0d83fba3da66345a3ed6e0f06accd56186ea9')

build() {
	Fcd
	Fpatchall
	Fmake --enable-xkbcomp-symlink --enable-compat-rules \
		--with-xkb-rules-symlink=xorg
	Fmakeinstall
	Fmkdir /usr/lib/X11
	Fln /usr/share/X11/xkb /usr/lib/X11/xkb
	# We still need this ? Somebody figure out pls. thx :P :) -krix-
	Fln /var/lib/xkb /usr/share/X11/xkb/compiled
}
