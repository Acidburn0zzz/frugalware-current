From: Xiang, Haihao <haihao.xiang@intel.com>
Date: Fri, 8 Dec 2006 09:05:14 +0000 (+0800)
Subject: fix bug#9237
X-Git-Url: http://gitweb.freedesktop.org/?p=mesa/mesa.git;a=commitdiff;h=f79360858d4c94629ef543a35e4e44a13419ac0e

fix bug#9237
---

--- a/src/mesa/drivers/dri/i965/brw_misc_state.c
+++ b/src/mesa/drivers/dri/i965/brw_misc_state.c
@@ -88,10 +88,10 @@ static void upload_drawing_rect(struct b
    if (brw->intel.numClipRects > 1) 
       return; 
  
-   x1 = dPriv->x;
-   y1 = dPriv->y;      
-   x2 = dPriv->x + dPriv->w;
-   y2 = dPriv->y + dPriv->h;
+   x1 = brw->intel.pClipRects[0].x1;
+   y1 = brw->intel.pClipRects[0].y1;
+   x2 = brw->intel.pClipRects[0].x2;
+   y2 = brw->intel.pClipRects[0].y2;
 	 
    if (x1 < 0) x1 = 0;
    if (y1 < 0) y1 = 0;

